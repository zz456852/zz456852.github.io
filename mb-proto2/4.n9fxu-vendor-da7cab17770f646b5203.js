try{let Ne=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},de=new Ne.Error().stack;de&&(Ne._sentryDebugIds=Ne._sentryDebugIds||{},Ne._sentryDebugIds[de]="aa99813c-09d8-4d6c-bd00-755cf2722b8e",Ne._sentryDebugIdIdentifier="sentry-dbid-aa99813c-09d8-4d6c-bd00-755cf2722b8e")}catch(Ne){}{let Ne=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};Ne.SENTRY_RELEASE={id:"20.18.1-hotfix.0"}}(self.webpackChunk_mb2024_mb_proto=self.webpackChunk_mb2024_mb_proto||[]).push([[908],{93839:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>H});var s=n(74059),p=n(51044),M=n(86634),d=n.n(M),k=n(87822),X=n(57464);class H extends p.PureComponent{constructor(){super(...arguments),(0,s.A)(this,"getClassName",()=>{const{className:P,type:j,size:R,corner:ae,disabled:Y}=this.props;return d()(P,"button-root",{["type-"+j]:j,["size-"+R]:R,["corner-"+ae]:ae,"is-disabled":Y})}),(0,s.A)(this,"onButtonClick",P=>{if(this.props.disabled){P.preventDefault();return}const{onClick:j}=this.props;j&&j(P)}),(0,s.A)(this,"onButtonMouseDown",P=>{if(this.props.disabled){P.preventDefault();return}const{onMouseDown:j}=this.props;j&&j(P)}),(0,s.A)(this,"getChildrenNode",()=>(0,X.jsx)("span",{className:"btn-text",children:this.props.children}))}render(){const P=this.getClassName(),j=this.getChildrenNode();return(0,X.jsx)(k.O,{className:P,onClick:this.onButtonClick,onMouseDown:this.onButtonMouseDown,children:(0,X.jsx)("div",{className:"btn-icon-text-container",children:j})})}}(0,s.A)(H,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},15388:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>P});var s=n(74059),p=n(51044),M=n(86634),d=n.n(M),k=n(57464);function X(j){let{className:R,renderIconList:ae}=j;return(0,k.jsx)("span",{className:d()("btn-icon",R),children:ae.map((Y,pe)=>(0,k.jsx)("span",{className:"btn-icon-container",children:(0,k.jsx)(k.Fragment,{children:Y})},pe))})}const H=X;var T=n(87822);class P extends p.PureComponent{constructor(R){super(R),(0,s.A)(this,"getClassName",()=>{const{className:ae,type:Y,size:pe,corner:U,disabled:$,icon:V,children:_}=this.props;return d()(ae,"button-root",{["type-"+Y]:Y,["size-"+pe]:pe,["corner-"+U]:U,"is-disabled":$,"has-icon":V&&_,"only-icon":V&&_===void 0})}),(0,s.A)(this,"onButtonClick",ae=>{if(this.props.disabled){ae.preventDefault();return}const{onClick:Y}=this.props;Y&&Y(ae)}),(0,s.A)(this,"getIconNode",()=>(0,k.jsx)(H,{renderIconList:this.state.iconList,className:this.props.className})),(0,s.A)(this,"getChildrenNode",()=>(0,k.jsx)("span",{className:"btn-text",children:this.props.children})),this.state={iconList:this.props.icon?[this.props.icon]:[]}}componentDidUpdate(R){let{icon:ae}=R;const{icon:Y}=this.props;ae!==Y&&this.setState({iconList:Y?[this.props.icon]:[]})}render(){const R=this.getClassName(),ae=this.getIconNode(),Y=this.getChildrenNode();return(0,k.jsx)(T.O,{className:R,onClick:this.onButtonClick,children:(0,k.jsxs)("div",{className:d()("btn-icon-text-container"),children:[ae,Y]})})}}(0,s.A)(P,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},87822:(Ne,de,n)=>{"use strict";n.d(de,{O:()=>M});var s=n(21676),p=n(73542);const M=s.Ay.div.withConfig({displayName:"styles__StyledButton",componentId:"sc-166yiuz-0"})(["border-radius:6px;display:inline-block;justify-content:center;align-items:center;font-family:PingFang SC;font-size:14px;font-weight:500;line-height:18px;user-select:none;cursor:pointer;.btn-icon-text-container{display:flex;justify-content:center;align-items:center;}.btn-icon{display:flex;justify-content:center;align-items:center;.btn-icon-container{margin-right:4px;width:16px;height:16px;overflow:hidden;}}&[class*='is-disabled']{cursor:not-allowed;opacity:0.4;}&[class*='type-linear']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}}&[class*='type-link']{border:1px solid transparent;padding:0;color:",";&:hover:not([class*='is-disabled']){color:",";}&:active:not([class*='is-disabled']){color:",";}&.link-gray{color:",";&:hover{color:",";}&:active{color:",";}}}&[class*='type-danger']{background:",";color:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='size-tiny']{padding:4px 8px;max-height:24px;font-size:12px;line-height:14px;.btn-icon-text-container{min-width:46px;}&[class*='type-link']{padding:0;}}&[class*='size-common']{padding:6px 12px;max-height:32px;.btn-icon-text-container{min-width:54px;}&[class*='type-link']{padding:0;}}&[class*='size-medium']{padding:6px 16px;max-height:32px;.btn-icon-text-container{min-width:60px;}&[class*='type-link']{padding:0;}}&[class*='size-large']{padding:8px 16px;max-height:36px;.btn-icon-text-container{min-width:76px;}&[class*='type-link']{padding:0;}.btn-icon-container{margin-right:6px;}}&[class*='corner-smooth']{border-radius:6px;}&[class*='corner-soft']{border-radius:4px;}&[class*='corner-round']{border-radius:calc(infinity * 1px);}&[class*='only-icon']{padding:0;border:none;background:transparent;.btn-icon-text-container{min-width:0;}.btn-icon-container{margin-right:0;svg > *{fill:",";}}&:hover:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}&:active:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}}"],p.q.color_text_L2,p.q.color_bg_normal,p.q.color_split_line,p.q.color_bg_btn_normal_hover,p.q.color_bg_btn_normal_active,p.q.color_text_white,p.q.color_btn_primary_normal,p.q.color_btn_primary_hover,p.q.color_btn_primary_click,p.q.color_text_L2,p.q.color_bg_secondary_btn,p.q.color_btn_secondary_border_normal,p.q.color_btn_secondary_hover,p.q.color_btn_secondary_border_hover,p.q.color_btn_secondary_click,p.q.color_btn_primary_normal,p.q.color_btn_primary_hover,p.q.color_btn_primary_click,p.q.color_text_L2,p.q.color_text_L3,p.q.color_text_L1,p.q.color_btn_danger_normal,p.q.color_text_white,p.q.color_btn_danger_hover,p.q.color_btn_danger_click,p.q.color_text_L2,p.q.color_text_L3,p.q.color_text_L1)},73542:(Ne,de,n)=>{"use strict";n.d(de,{q:()=>p});const s={common_white:"#FFFFFF",common_black:"#000000",primary_blue_01:"#126ACA",primary_blue_02:"#1684FC",primary_blue_03:"#459DFD",primary_blue_04:"#8AC1FD",primary_blue_05:"#B9DAFE",primary_blue_06:"#D0E6FE",primary_blue_07:"#E8F3FF",primary_blue_08:"#F5F8FD",primary_gray_01:"#35445D",primary_gray_02:"#5D6F8F",primary_gray_03:"#7D8CA5",primary_gray_04:"#9EA9BC",primary_gray_05:"#BEC5D2",primary_gray_06:"#D2D9E4",primary_gray_07:"#E1E6EF",primary_gray_08:"#F0F2F7",primary_gray_09:"#F3F5F9",primary_red_01:"#DD4747",primary_red_02:"#F85050",primary_red_03:"#F97373",primary_red_04:"#FDC2C2",primary_red_05:"#FEE5E5"},p={color_btn_primary_normal:s.primary_blue_02,color_btn_primary_hover:s.primary_blue_03,color_btn_primary_click:s.primary_blue_01,color_btn_primary_disable:s.primary_blue_05,color_btn_secondary_click:s.primary_blue_06,color_btn_secondary_normal:s.primary_blue_08,color_btn_secondary_hover:s.primary_blue_07,color_btn_outline_click:s.primary_gray_07,color_btn_outline_normal:s.common_white,color_btn_outline_hover:s.primary_gray_08,color_bg_normal:s.common_white,color_bg_card:s.primary_blue_08,color_bg_menu_click:s.primary_blue_06,color_bg_card_hover:s.primary_gray_07,color_bg_menu_hover:s.primary_blue_07,color_bg_input_hover:s.primary_gray_08,color_bg_input_normal:s.primary_gray_09,color_bg_item_gray:s.primary_gray_08,color_bg_item_hover:s.primary_gray_09,color_bg_fill_common_blue:s.primary_blue_02,color_bg_menu_drag_border:s.primary_blue_06,color_bg_card_hover_fusion_gray:s.primary_gray_06,color_bg_card_hover_fusion_blue:s.primary_blue_05,color_bg_card_hover_fusion:s.primary_gray_06,color_bg_secondary_btn:s.primary_blue_08,color_bg_btn_normal_hover:s.primary_gray_08,color_bg_btn_normal_active:s.primary_gray_07,color_bg_icon_gray:s.primary_gray_04,color_bg_icon_hover:s.primary_gray_03,color_text_L1:s.primary_gray_01,color_text_L2:s.primary_gray_02,color_text_L3:s.primary_gray_03,color_text_L4:s.primary_gray_04,color_text_L5:s.primary_blue_02,color_text_white:s.common_white,color_text_blue:s.primary_blue_02,color_text_blue_hover:s.primary_blue_01,color_text_blue_active:s.primary_blue_03,color_text_disable_01:s.primary_gray_05,color_tab_line:s.primary_gray_06,color_split_line:s.primary_gray_07,color_border_blue_common:s.primary_blue_02,color_btn_border_normal:s.primary_blue_05,color_btn_border_disable:s.primary_blue_07,color_btn_secondary_border_normal:s.primary_blue_06,color_btn_secondary_border_hover:s.primary_blue_07,color_btn_danger_normal:s.primary_red_02,color_btn_danger_hover:s.primary_red_03,color_btn_danger_click:s.primary_red_01,color_btn_danger_disable:s.primary_red_04,color_bg_modal_item_header:s.primary_gray_09,color_bg_light_red:s.primary_red_05,color_alarm_common:s.primary_red_02}},56511:(Ne,de,n)=>{"use strict";n.d(de,{N:()=>M,l:()=>d});var s=n(85782),p=n(35236);const M=async(k,X,H)=>{const[T,P]=await(0,s.Vz)(p.r,k),j="/flpak/w-paknewft?"+new URLSearchParams({upperType:"project-basic",type:"proto2",teamCid:X,treLen:String(P.byteLength),treRawLen:String(T)}),R=await fetch(j,{method:"POST",body:P,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(H))}});if(!R.ok)throw Object.assign(new Error("failed to create new flpak: "+j),{message:await R.text(),status:R.status});return R.json()},d=async(k,X,H)=>{const[T,P]=await(0,s.Vz)(p.r,k),j="/flpak/w-pakfcgmkt?"+new URLSearchParams({upperType:"combo-group",upperAction:"create-reviewable-project",type:"proto2",teamCid:X,treLen:String(P.byteLength),treRawLen:String(T)}),R=await fetch(j,{method:"POST",body:P,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(H))}});if(!R.ok)throw Object.assign(new Error("failed to create new fcgmkt: "+j),{message:await R.text(),status:R.status});return R.json()}},81811:(Ne,de,n)=>{"use strict";n.d(de,{pX:()=>Io,O3:()=>Ao,ur:()=>To});var s={};if(n.r(s),n.d(s,{Decoder:()=>An,Encoder:()=>ts,PacketType:()=>pt,protocol:()=>Xs}),n.j!=15)var p=n(62427);if(n.j!=15)var M=n(99478);const d=Object.create(null);d.open="0",d.close="1",d.ping="2",d.pong="3",d.message="4",d.upgrade="5",d.noop="6";const k=Object.create(null);Object.keys(d).forEach(a=>{k[d[a]]=a});const X={type:"error",data:"parser error"},H=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",T=typeof ArrayBuffer=="function",P=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,j=(a,t,o)=>{let{type:h,data:F}=a;return H&&F instanceof Blob?t?o(F):R(F,o):T&&(F instanceof ArrayBuffer||P(F))?t?o(F):R(new Blob([F]),o):o(d[h]+(F||""))},R=(a,t)=>{const o=new FileReader;return o.onload=function(){const h=o.result.split(",")[1];t("b"+(h||""))},o.readAsDataURL(a)};function ae(a){return a instanceof Uint8Array?a:a instanceof ArrayBuffer?new Uint8Array(a):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}let Y;function pe(a,t){if(H&&a.data instanceof Blob)return a.data.arrayBuffer().then(ae).then(t);if(T&&(a.data instanceof ArrayBuffer||P(a.data)))return t(ae(a.data));j(a,!1,o=>{Y||(Y=new TextEncoder),t(Y.encode(o))})}const U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let a=0;a<U.length;a++)$[U.charCodeAt(a)]=a;const V=a=>{let t=new Uint8Array(a),o,h=t.length,F="";for(o=0;o<h;o+=3)F+=U[t[o]>>2],F+=U[(t[o]&3)<<4|t[o+1]>>4],F+=U[(t[o+1]&15)<<2|t[o+2]>>6],F+=U[t[o+2]&63];return h%3===2?F=F.substring(0,F.length-1)+"=":h%3===1&&(F=F.substring(0,F.length-2)+"=="),F},_=a=>{let t=a.length*.75,o=a.length,h,F=0,ce,Pe,De,ze;a[a.length-1]==="="&&(t--,a[a.length-2]==="="&&t--);const He=new ArrayBuffer(t),Ue=new Uint8Array(He);for(h=0;h<o;h+=4)ce=$[a.charCodeAt(h)],Pe=$[a.charCodeAt(h+1)],De=$[a.charCodeAt(h+2)],ze=$[a.charCodeAt(h+3)],Ue[F++]=ce<<2|Pe>>4,Ue[F++]=(Pe&15)<<4|De>>2,Ue[F++]=(De&3)<<6|ze&63;return He},C=typeof ArrayBuffer=="function",y=(a,t)=>{if(typeof a!="string")return{type:"message",data:g(a,t)};const o=a.charAt(0);return o==="b"?{type:"message",data:x(a.substring(1),t)}:k[o]?a.length>1?{type:k[o],data:a.substring(1)}:{type:k[o]}:X},x=(a,t)=>{if(C){const o=_(a);return g(o,t)}else return{base64:!0,data:a}},g=(a,t)=>{switch(t){case"blob":return a instanceof Blob?a:new Blob([a]);case"arraybuffer":default:return a instanceof ArrayBuffer?a:a.buffer}},v="",b=(a,t)=>{const o=a.length,h=new Array(o);let F=0;a.forEach((ce,Pe)=>{j(ce,!1,De=>{h[Pe]=De,++F===o&&t(h.join(v))})})},N=(a,t)=>{const o=a.split(v),h=[];for(let F=0;F<o.length;F++){const ce=y(o[F],t);if(h.push(ce),ce.type==="error")break}return h};function D(){return new TransformStream({transform(a,t){pe(a,o=>{const h=o.length;let F;if(h<126)F=new Uint8Array(1),new DataView(F.buffer).setUint8(0,h);else if(h<65536){F=new Uint8Array(3);const ce=new DataView(F.buffer);ce.setUint8(0,126),ce.setUint16(1,h)}else{F=new Uint8Array(9);const ce=new DataView(F.buffer);ce.setUint8(0,127),ce.setBigUint64(1,BigInt(h))}a.data&&typeof a.data!="string"&&(F[0]|=128),t.enqueue(F),t.enqueue(o)})}})}let c;function G(a){return a.reduce((t,o)=>t+o.length,0)}function W(a,t){if(a[0].length===t)return a.shift();const o=new Uint8Array(t);let h=0;for(let F=0;F<t;F++)o[F]=a[0][h++],h===a[0].length&&(a.shift(),h=0);return a.length&&h<a[0].length&&(a[0]=a[0].slice(h)),o}function oe(a,t){c||(c=new TextDecoder);const o=[];let h=0,F=-1,ce=!1;return new TransformStream({transform(Pe,De){for(o.push(Pe);;){if(h===0){if(G(o)<1)break;const ze=W(o,1);ce=(ze[0]&128)===128,F=ze[0]&127,F<126?h=3:F===126?h=1:h=2}else if(h===1){if(G(o)<2)break;const ze=W(o,2);F=new DataView(ze.buffer,ze.byteOffset,ze.length).getUint16(0),h=3}else if(h===2){if(G(o)<8)break;const ze=W(o,8),He=new DataView(ze.buffer,ze.byteOffset,ze.length),Ue=He.getUint32(0);if(Ue>Math.pow(2,21)-1){De.enqueue(X);break}F=Ue*Math.pow(2,32)+He.getUint32(4),h=3}else{if(G(o)<F)break;const ze=W(o,F);De.enqueue(y(ce?ze:c.decode(ze),t)),h=0}if(F===0||F>a){De.enqueue(X);break}}}})}const f=4;function A(a){if(a)return te(a)}function te(a){for(var t in A.prototype)a[t]=A.prototype[t];return a}A.prototype.on=A.prototype.addEventListener=function(a,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(t),this},A.prototype.once=function(a,t){function o(){this.off(a,o),t.apply(this,arguments)}return o.fn=t,this.on(a,o),this},A.prototype.off=A.prototype.removeListener=A.prototype.removeAllListeners=A.prototype.removeEventListener=function(a,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+a];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var h,F=0;F<o.length;F++)if(h=o[F],h===t||h.fn===t){o.splice(F,1);break}return o.length===0&&delete this._callbacks["$"+a],this},A.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),o=this._callbacks["$"+a],h=1;h<arguments.length;h++)t[h-1]=arguments[h];if(o){o=o.slice(0);for(var h=0,F=o.length;h<F;++h)o[h].apply(this,t)}return this},A.prototype.emitReserved=A.prototype.emit,A.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]},A.prototype.hasListeners=function(a){return!!this.listeners(a).length};const le=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function ie(a){for(var t=arguments.length,o=new Array(t>1?t-1:0),h=1;h<t;h++)o[h-1]=arguments[h];return o.reduce((F,ce)=>(a.hasOwnProperty(ce)&&(F[ce]=a[ce]),F),{})}const q=le.setTimeout,we=le.clearTimeout;function Fe(a,t){t.useNativeTimers?(a.setTimeoutFn=q.bind(le),a.clearTimeoutFn=we.bind(le)):(a.setTimeoutFn=le.setTimeout.bind(le),a.clearTimeoutFn=le.clearTimeout.bind(le))}const Ve=1.33;function Ee(a){return typeof a=="string"?je(a):Math.ceil((a.byteLength||a.size)*Ve)}function je(a){let t=0,o=0;for(let h=0,F=a.length;h<F;h++)t=a.charCodeAt(h),t<128?o+=1:t<2048?o+=2:t<55296||t>=57344?o+=3:(h++,o+=4);return o}function tt(a){let t="";for(let o in a)a.hasOwnProperty(o)&&(t.length&&(t+="&"),t+=encodeURIComponent(o)+"="+encodeURIComponent(a[o]));return t}function Oe(a){let t={},o=a.split("&");for(let h=0,F=o.length;h<F;h++){let ce=o[h].split("=");t[decodeURIComponent(ce[0])]=decodeURIComponent(ce[1])}return t}class J extends Error{constructor(t,o,h){super(t),this.description=o,this.context=h,this.type="TransportError"}}class Z extends A{constructor(t){super(),this.writable=!1,Fe(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,o,h){return super.emitReserved("error",new J(t,o,h)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const o=y(t,this.socket.binaryType);this.onPacket(o)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,o){return o===void 0&&(o={}),t+"://"+this._hostname()+this._port()+this.opts.path+this._query(o)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const o=tt(t);return o.length?"?"+o:""}}const me="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ce=64,ke={};let Ye=0,Me=0,Ie;function Je(a){let t="";do t=me[a%Ce]+t,a=Math.floor(a/Ce);while(a>0);return t}function st(a){let t=0;for(Me=0;Me<a.length;Me++)t=t*Ce+ke[a.charAt(Me)];return t}function yt(){const a=Je(+new Date);return a!==Ie?(Ye=0,Ie=a):a+"."+Je(Ye++)}for(;Me<Ce;Me++)ke[me[Me]]=Me;let xt=!1;try{xt=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(a){}const bt=xt;function wt(a){const t=a.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||bt))return new XMLHttpRequest}catch(o){}if(!t)try{return new le[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(o){}}function i(){}function ue(){}const ve=function(){return new wt({xdomain:!1}).responseType!=null}();class Le extends Z{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const h=location.protocol==="https:";let F=location.port;F||(F=h?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||F!==t.port}const o=t&&t.forceBase64;this.supportsBinary=ve&&!o,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const o=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let h=0;this.polling&&(h++,this.once("pollComplete",function(){--h||o()})),this.writable||(h++,this.once("drain",function(){--h||o()}))}else o()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const o=h=>{if(this.readyState==="opening"&&h.type==="open"&&this.onOpen(),h.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(h)};N(t,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,b(t,o=>{this.doWrite(o,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",o=this.query||{};return this.opts.timestampRequests!==!1&&(o[this.opts.timestampParam]=yt()),!this.supportsBinary&&!o.sid&&(o.b64=1),this.createUri(t,o)}request(t){return t===void 0&&(t={}),Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ge(this.uri(),t)}doWrite(t,o){const h=this.request({method:"POST",data:t});h.on("success",o),h.on("error",(F,ce)=>{this.onError("xhr post error",F,ce)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(o,h)=>{this.onError("xhr poll error",o,h)}),this.pollXhr=t}}class Ge extends A{constructor(t,o){super(),Fe(this,o),this.opts=o,this.method=o.method||"GET",this.uri=t,this.data=o.data!==void 0?o.data:null,this.create()}create(){var t;const o=ie(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");o.xdomain=!!this.opts.xd;const h=this.xhr=new wt(o);try{h.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){h.setDisableHeaderCheck&&h.setDisableHeaderCheck(!0);for(let F in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(F)&&h.setRequestHeader(F,this.opts.extraHeaders[F])}}catch(F){}if(this.method==="POST")try{h.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(F){}try{h.setRequestHeader("Accept","*/*")}catch(F){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(h),"withCredentials"in h&&(h.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(h.timeout=this.opts.requestTimeout),h.onreadystatechange=()=>{var F;h.readyState===3&&((F=this.opts.cookieJar)===null||F===void 0||F.parseCookies(h)),h.readyState===4&&(h.status===200||h.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof h.status=="number"?h.status:0)},0))},h.send(this.data)}catch(F){this.setTimeoutFn(()=>{this.onError(F)},0);return}typeof document<"u"&&(this.index=Ge.requestsCount++,Ge.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=ue,t)try{this.xhr.abort()}catch(o){}typeof document<"u"&&delete Ge.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Ge.requestsCount=0,Ge.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",qe);else if(typeof addEventListener=="function"){const a="onpagehide"in le?"pagehide":"unload";addEventListener(a,qe,!1)}}function qe(){for(let a in Ge.requests)Ge.requests.hasOwnProperty(a)&&Ge.requests[a].abort()}const ut=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,o)=>o(t,0),It=le.WebSocket||le.MozWebSocket,Ft=!0,Gt="arraybuffer",Zt=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Rn extends Z{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),o=this.opts.protocols,h=Zt?{}:ie(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(h.headers=this.opts.extraHeaders);try{this.ws=Ft&&!Zt?o?new It(t,o):new It(t):new It(t,o,h)}catch(F){return this.emitReserved("error",F)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let o=0;o<t.length;o++){const h=t[o],F=o===t.length-1;j(h,this.supportsBinary,ce=>{const Pe={};Ft||(h.options&&(Pe.compress=h.options.compress),this.opts.perMessageDeflate&&(typeof ce=="string"?Buffer.byteLength(ce):ce.length)<this.opts.perMessageDeflate.threshold&&(Pe.compress=!1));try{Ft?this.ws.send(ce):this.ws.send(ce,Pe)}catch(De){}F&&ut(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",o=this.query||{};return this.opts.timestampRequests&&(o[this.opts.timestampParam]=yt()),this.supportsBinary||(o.b64=1),this.createUri(t,o)}check(){return!!It}}class dn extends Z{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const o=oe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),h=t.readable.pipeThrough(o).getReader(),F=D();F.readable.pipeTo(t.writable),this.writer=F.writable.getWriter();const ce=()=>{h.read().then(De=>{let{done:ze,value:He}=De;ze||(this.onPacket(He),ce())}).catch(De=>{})};ce();const Pe={type:"open"};this.query.sid&&(Pe.data='{"sid":"'+this.query.sid+'"}'),this.writer.write(Pe).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let o=0;o<t.length;o++){const h=t[o],F=o===t.length-1;this.writer.write(h).then(()=>{F&&ut(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const In={websocket:Rn,webtransport:dn,polling:Le},un=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,En=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function mn(a){if(a.length>2e3)throw"URI too long";const t=a,o=a.indexOf("["),h=a.indexOf("]");o!=-1&&h!=-1&&(a=a.substring(0,o)+a.substring(o,h).replace(/:/g,";")+a.substring(h,a.length));let F=un.exec(a||""),ce={},Pe=14;for(;Pe--;)ce[En[Pe]]=F[Pe]||"";return o!=-1&&h!=-1&&(ce.source=t,ce.host=ce.host.substring(1,ce.host.length-1).replace(/;/g,":"),ce.authority=ce.authority.replace("[","").replace("]","").replace(/;/g,":"),ce.ipv6uri=!0),ce.pathNames=jn(ce,ce.path),ce.queryKey=tn(ce,ce.query),ce}function jn(a,t){const o=/\/{2,9}/g,h=t.replace(o,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&h.splice(0,1),t.slice(-1)=="/"&&h.splice(h.length-1,1),h}function tn(a,t){const o={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(h,F,ce){F&&(o[F]=ce)}),o}class pn extends A{constructor(t,o){o===void 0&&(o={}),super(),this.binaryType=Gt,this.writeBuffer=[],t&&typeof t=="object"&&(o=t,t=null),t?(t=mn(t),o.hostname=t.host,o.secure=t.protocol==="https"||t.protocol==="wss",o.port=t.port,t.query&&(o.query=t.query)):o.host&&(o.hostname=mn(o.host).host),Fe(this,o),this.secure=o.secure!=null?o.secure:typeof location<"u"&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=this.secure?"443":"80"),this.hostname=o.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=o.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=o.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},o),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Oe(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const o=Object.assign({},this.opts.query);o.EIO=f,o.transport=t,this.id&&(o.sid=this.id);const h=Object.assign({},this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new In[t](h)}open(){let t;if(this.opts.rememberUpgrade&&pn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(o){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",o=>this.onClose("transport close",o))}probe(t){let o=this.createTransport(t),h=!1;pn.priorWebsocketSuccess=!1;const F=()=>{h||(o.send([{type:"ping",data:"probe"}]),o.once("packet",Xe=>{if(!h)if(Xe.type==="pong"&&Xe.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",o),!o)return;pn.priorWebsocketSuccess=o.name==="websocket",this.transport.pause(()=>{h||this.readyState!=="closed"&&(Ue(),this.setTransport(o),o.send([{type:"upgrade"}]),this.emitReserved("upgrade",o),o=null,this.upgrading=!1,this.flush())})}else{const _e=new Error("probe error");_e.transport=o.name,this.emitReserved("upgradeError",_e)}}))};function ce(){h||(h=!0,Ue(),o.close(),o=null)}const Pe=Xe=>{const _e=new Error("probe error: "+Xe);_e.transport=o.name,ce(),this.emitReserved("upgradeError",_e)};function De(){Pe("transport closed")}function ze(){Pe("socket closed")}function He(Xe){o&&Xe.name!==o.name&&ce()}const Ue=()=>{o.removeListener("open",F),o.removeListener("error",Pe),o.removeListener("close",De),this.off("close",ze),this.off("upgrading",He)};o.once("open",F),o.once("error",Pe),o.once("close",De),this.once("close",ze),this.once("upgrading",He),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{h||o.open()},200):o.open()}onOpen(){if(this.readyState="open",pn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const o=this.upgrades.length;for(;t<o;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const o=new Error("server error");o.code=t.data,this.onError(o);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let o=1;for(let h=0;h<this.writeBuffer.length;h++){const F=this.writeBuffer[h].data;if(F&&(o+=Ee(F)),h>0&&o>this.maxPayload)return this.writeBuffer.slice(0,h);o+=2}return this.writeBuffer}write(t,o,h){return this.sendPacket("message",t,o,h),this}send(t,o,h){return this.sendPacket("message",t,o,h),this}sendPacket(t,o,h,F){if(typeof o=="function"&&(F=o,o=void 0),typeof h=="function"&&(F=h,h=null),this.readyState==="closing"||this.readyState==="closed")return;h=h||{},h.compress=h.compress!==!1;const ce={type:t,data:o,options:h};this.emitReserved("packetCreate",ce),this.writeBuffer.push(ce),F&&this.once("flush",F),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},o=()=>{this.off("upgrade",o),this.off("upgradeError",o),t()},h=()=>{this.once("upgrade",o),this.once("upgradeError",o)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?h():t()}):this.upgrading?h():t()),this}onError(t){pn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,o){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,o),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const o=[];let h=0;const F=t.length;for(;h<F;h++)~this.transports.indexOf(t[h])&&o.push(t[h]);return o}}pn.protocol=f;const Zs=pn.protocol;function Rt(a,t,o){t===void 0&&(t="");let h=a;o=o||typeof location<"u"&&location,a==null&&(a=o.protocol+"//"+o.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=o.protocol+a:a=o.host+a),/^(https?|wss?):\/\//.test(a)||(typeof o<"u"?a=o.protocol+"//"+a:a="https://"+a),h=mn(a)),h.port||(/^(http|ws)$/.test(h.protocol)?h.port="80":/^(http|ws)s$/.test(h.protocol)&&(h.port="443")),h.path=h.path||"/";const ce=h.host.indexOf(":")!==-1?"["+h.host+"]":h.host;return h.id=h.protocol+"://"+ce+":"+h.port+t,h.href=h.protocol+"://"+ce+(o&&o.port===h.port?"":":"+h.port),h}const Ys=typeof ArrayBuffer=="function",bn=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,fs=Object.prototype.toString,$s=typeof Blob=="function"||typeof Blob<"u"&&fs.call(Blob)==="[object BlobConstructor]",Qs=typeof File=="function"||typeof File<"u"&&fs.call(File)==="[object FileConstructor]";function Bn(a){return Ys&&(a instanceof ArrayBuffer||bn(a))||$s&&a instanceof Blob||Qs&&a instanceof File}function Fn(a,t){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let o=0,h=a.length;o<h;o++)if(Fn(a[o]))return!0;return!1}if(Bn(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return Fn(a.toJSON(),!0);for(const o in a)if(Object.prototype.hasOwnProperty.call(a,o)&&Fn(a[o]))return!0;return!1}function es(a){const t=[],o=a.data,h=a;return h.data=kn(o,t),h.attachments=t.length,{packet:h,buffers:t}}function kn(a,t){if(!a)return a;if(Bn(a)){const o={_placeholder:!0,num:t.length};return t.push(a),o}else if(Array.isArray(a)){const o=new Array(a.length);for(let h=0;h<a.length;h++)o[h]=kn(a[h],t);return o}else if(typeof a=="object"&&!(a instanceof Date)){const o={};for(const h in a)Object.prototype.hasOwnProperty.call(a,h)&&(o[h]=kn(a[h],t));return o}return a}function an(a,t){return a.data=Tn(a.data,t),delete a.attachments,a}function Tn(a,t){if(!a)return a;if(a&&a._placeholder===!0){if(typeof a.num=="number"&&a.num>=0&&a.num<t.length)return t[a.num];throw new Error("illegal attachments")}else if(Array.isArray(a))for(let o=0;o<a.length;o++)a[o]=Tn(a[o],t);else if(typeof a=="object")for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(a[o]=Tn(a[o],t));return a}const Js=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Xs=5;var pt;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(pt||(pt={}));class ts{constructor(t){this.replacer=t}encode(t){return(t.type===pt.EVENT||t.type===pt.ACK)&&Fn(t)?this.encodeAsBinary({type:t.type===pt.EVENT?pt.BINARY_EVENT:pt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let o=""+t.type;return(t.type===pt.BINARY_EVENT||t.type===pt.BINARY_ACK)&&(o+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(o+=t.nsp+","),t.id!=null&&(o+=t.id),t.data!=null&&(o+=JSON.stringify(t.data,this.replacer)),o}encodeAsBinary(t){const o=es(t),h=this.encodeAsString(o.packet),F=o.buffers;return F.unshift(h),F}}function vn(a){return Object.prototype.toString.call(a)==="[object Object]"}class An extends A{constructor(t){super(),this.reviver=t}add(t){let o;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");o=this.decodeString(t);const h=o.type===pt.BINARY_EVENT;h||o.type===pt.BINARY_ACK?(o.type=h?pt.EVENT:pt.ACK,this.reconstructor=new ns(o),o.attachments===0&&super.emitReserved("decoded",o)):super.emitReserved("decoded",o)}else if(Bn(t)||t.base64)if(this.reconstructor)o=this.reconstructor.takeBinaryData(t),o&&(this.reconstructor=null,super.emitReserved("decoded",o));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let o=0;const h={type:Number(t.charAt(0))};if(pt[h.type]===void 0)throw new Error("unknown packet type "+h.type);if(h.type===pt.BINARY_EVENT||h.type===pt.BINARY_ACK){const ce=o+1;for(;t.charAt(++o)!=="-"&&o!=t.length;);const Pe=t.substring(ce,o);if(Pe!=Number(Pe)||t.charAt(o)!=="-")throw new Error("Illegal attachments");h.attachments=Number(Pe)}if(t.charAt(o+1)==="/"){const ce=o+1;for(;++o&&!(t.charAt(o)===","||o===t.length););h.nsp=t.substring(ce,o)}else h.nsp="/";const F=t.charAt(o+1);if(F!==""&&Number(F)==F){const ce=o+1;for(;++o;){const Pe=t.charAt(o);if(Pe==null||Number(Pe)!=Pe){--o;break}if(o===t.length)break}h.id=Number(t.substring(ce,o+1))}if(t.charAt(++o)){const ce=this.tryParse(t.substr(o));if(An.isPayloadValid(h.type,ce))h.data=ce;else throw new Error("invalid payload")}return h}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(o){return!1}}static isPayloadValid(t,o){switch(t){case pt.CONNECT:return vn(o);case pt.DISCONNECT:return o===void 0;case pt.CONNECT_ERROR:return typeof o=="string"||vn(o);case pt.EVENT:case pt.BINARY_EVENT:return Array.isArray(o)&&(typeof o[0]=="number"||typeof o[0]=="string"&&Js.indexOf(o[0])===-1);case pt.ACK:case pt.BINARY_ACK:return Array.isArray(o)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ns{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const o=an(this.reconPack,this.buffers);return this.finishedReconstruction(),o}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function nn(a,t,o){return a.on(t,o),function(){a.off(t,o)}}const qs=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ys extends A{constructor(t,o,h){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=o,h&&h.auth&&(this.auth=h.auth),this._opts=Object.assign({},h),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[nn(t,"open",this.onopen.bind(this)),nn(t,"packet",this.onpacket.bind(this)),nn(t,"error",this.onerror.bind(this)),nn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(){for(var t=arguments.length,o=new Array(t),h=0;h<t;h++)o[h]=arguments[h];return o.unshift("message"),this.emit.apply(this,o),this}emit(t){if(qs.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var o=arguments.length,h=new Array(o>1?o-1:0),F=1;F<o;F++)h[F-1]=arguments[F];if(h.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(h),this;const ce={type:pt.EVENT,data:h};if(ce.options={},ce.options.compress=this.flags.compress!==!1,typeof h[h.length-1]=="function"){const ze=this.ids++,He=h.pop();this._registerAckCallback(ze,He),ce.id=ze}const Pe=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!Pe||!this.connected)||(this.connected?(this.notifyOutgoingListeners(ce),this.packet(ce)):this.sendBuffer.push(ce)),this.flags={},this}_registerAckCallback(t,o){var h=this,F;const ce=(F=this.flags.timeout)!==null&&F!==void 0?F:this._opts.ackTimeout;if(ce===void 0){this.acks[t]=o;return}const Pe=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let ze=0;ze<this.sendBuffer.length;ze++)this.sendBuffer[ze].id===t&&this.sendBuffer.splice(ze,1);o.call(this,new Error("operation has timed out"))},ce),De=function(){h.io.clearTimeoutFn(Pe);for(var ze=arguments.length,He=new Array(ze),Ue=0;Ue<ze;Ue++)He[Ue]=arguments[Ue];o.apply(h,He)};De.withError=!0,this.acks[t]=De}emitWithAck(t){for(var o=arguments.length,h=new Array(o>1?o-1:0),F=1;F<o;F++)h[F-1]=arguments[F];return new Promise((ce,Pe)=>{const De=(ze,He)=>ze?Pe(ze):ce(He);De.withError=!0,h.push(De),this.emit(t,...h)})}_addToQueue(t){var o=this;let h;typeof t[t.length-1]=="function"&&(h=t.pop());const F={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(function(ce){if(F!==o._queue[0])return;if(ce!==null)F.tryCount>o._opts.retries&&(o._queue.shift(),h&&h(ce));else if(o._queue.shift(),h){for(var De=arguments.length,ze=new Array(De>1?De-1:0),He=1;He<De;He++)ze[He-1]=arguments[He];h(null,...ze)}return F.pending=!1,o._drainQueue()}),this._queue.push(F),this._drainQueue()}_drainQueue(t){if(t===void 0&&(t=!1),!this.connected||this._queue.length===0)return;const o=this._queue[0];o.pending&&!t||(o.pending=!0,o.tryCount++,this.flags=o.flags,this.emit.apply(this,o.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:pt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,o){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,o),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(h=>String(h.id)===t)){const h=this.acks[t];delete this.acks[t],h.withError&&h.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case pt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pt.EVENT:case pt.BINARY_EVENT:this.onevent(t);break;case pt.ACK:case pt.BINARY_ACK:this.onack(t);break;case pt.DISCONNECT:this.ondisconnect();break;case pt.CONNECT_ERROR:this.destroy();const h=new Error(t.data.message);h.data=t.data.data,this.emitReserved("connect_error",h);break}}onevent(t){const o=t.data||[];t.id!=null&&o.push(this.ack(t.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const o=this._anyListeners.slice();for(const h of o)h.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const o=this;let h=!1;return function(){if(!h){h=!0;for(var F=arguments.length,ce=new Array(F),Pe=0;Pe<F;Pe++)ce[Pe]=arguments[Pe];o.packet({type:pt.ACK,id:t,data:ce})}}}onack(t){const o=this.acks[t.id];typeof o=="function"&&(delete this.acks[t.id],o.withError&&t.data.unshift(null),o.apply(this,t.data))}onconnect(t,o){this.id=t,this.recovered=o&&this._pid===o,this._pid=o,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:pt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const o=this._anyListeners;for(let h=0;h<o.length;h++)if(t===o[h])return o.splice(h,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const o=this._anyOutgoingListeners;for(let h=0;h<o.length;h++)if(t===o[h])return o.splice(h,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const o=this._anyOutgoingListeners.slice();for(const h of o)h.apply(this,t.data)}}}function _n(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}_n.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),o=Math.floor(t*this.jitter*a);a=Math.floor(t*10)&1?a+o:a-o}return Math.min(a,this.max)|0},_n.prototype.reset=function(){this.attempts=0},_n.prototype.setMin=function(a){this.ms=a},_n.prototype.setMax=function(a){this.max=a},_n.prototype.setJitter=function(a){this.jitter=a};class zn extends A{constructor(t,o){var h;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(o=t,t=void 0),o=o||{},o.path=o.path||"/socket.io",this.opts=o,Fe(this,o),this.reconnection(o.reconnection!==!1),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor((h=o.randomizationFactor)!==null&&h!==void 0?h:.5),this.backoff=new _n({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(o.timeout==null?2e4:o.timeout),this._readyState="closed",this.uri=t;const F=o.parser||s;this.encoder=new F.Encoder,this.decoder=new F.Decoder,this._autoConnect=o.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var o;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(o=this.backoff)===null||o===void 0||o.setMin(t),this)}randomizationFactor(t){var o;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(o=this.backoff)===null||o===void 0||o.setJitter(t),this)}reconnectionDelayMax(t){var o;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(o=this.backoff)===null||o===void 0||o.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new pn(this.uri,this.opts);const o=this.engine,h=this;this._readyState="opening",this.skipReconnect=!1;const F=nn(o,"open",function(){h.onopen(),t&&t()}),ce=De=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",De),t?t(De):this.maybeReconnectOnOpen()},Pe=nn(o,"error",ce);if(this._timeout!==!1){const De=this._timeout,ze=this.setTimeoutFn(()=>{F(),ce(new Error("timeout")),o.close()},De);this.opts.autoUnref&&ze.unref(),this.subs.push(()=>{this.clearTimeoutFn(ze)})}return this.subs.push(F),this.subs.push(Pe),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(nn(t,"ping",this.onping.bind(this)),nn(t,"data",this.ondata.bind(this)),nn(t,"error",this.onerror.bind(this)),nn(t,"close",this.onclose.bind(this)),nn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(o){this.onclose("parse error",o)}}ondecoded(t){ut(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,o){let h=this.nsps[t];return h?this._autoConnect&&!h.active&&h.connect():(h=new ys(this,t,o),this.nsps[t]=h),h}_destroy(t){const o=Object.keys(this.nsps);for(const h of o)if(this.nsps[h].active)return;this._close()}_packet(t){const o=this.encoder.encode(t);for(let h=0;h<o.length;h++)this.engine.write(o[h],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,o){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,o),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const o=this.backoff.duration();this._reconnecting=!0;const h=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(F=>{F?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",F)):t.onreconnect()}))},o);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ln={};function ss(a,t){typeof a=="object"&&(t=a,a=void 0),t=t||{};const o=Rt(a,t.path||"/socket.io"),h=o.source,F=o.id,ce=o.path,Pe=Ln[F]&&ce in Ln[F].nsps,De=t.forceNew||t["force new connection"]||t.multiplex===!1||Pe;let ze;return De?ze=new zn(h,t):(Ln[F]||(Ln[F]=new zn(h,t)),ze=Ln[F]),o.query&&!t.query&&(t.query=o.queryKey),ze.socket(o.path,t)}if(Object.assign(ss,{Manager:zn,Socket:ys,io:ss,connect:ss}),n.j!=15)var os=n(5904);if(n.j!=15)var St=n(17255);if(n.j!=15)var sn=n(33386);if(n.j!=15)var xs=n(99681);const is=n.j!=15?2*1e3:null,rs=n.j!=15?24*1e3:null,Un=n.j!=15?48*1e3:null,Wn=()=>{},eo=()=>({destroy:Wn,reset:Wn,emitAsync:to,emitLossy:Wn,getIsConnected:()=>!0,getSocketId:()=>"",getReadyPromise:()=>Promise.resolve(),getOffsetMsec:()=>0,DUMMY:!0}),to=async(a,t)=>({type:a,payload:t,isDummy:!0}),no=a=>{let{query:{uId:t,fURL:o=globalThis.location.href.slice(0,128),uTag:h=St.CH,vTag:F=xs.r,rKey:ce},lossyListenerMap:Pe={},queueListenerMap:De={},socketUrl:ze=globalThis.location.origin,socketPath:He=St.$r,usePolling:Ue=!1}=a;if(!t||!ce)throw new Error("SKT bad query");const Xe=(0,os.I6)();let _e,Se=(0,p.wT)(),We=0,Qe=null;const rt=()=>{_e!==void 0&&(_e.close(),_e=void 0,Se=(0,p.wT)(),Ct=!1,Qe&&clearTimeout(Qe),Qe=null)},Et=()=>{rt();const ct=new zn(ze,{path:He,query:{uId:t,fURL:o,uTag:h,vTag:F,rKey:ce},transports:Ue?["polling","websocket"]:["websocket"],timeout:Un,reconnectionDelay:Math.round((is+rs)/2),reconnectionDelayMax:Un,randomizationFactor:(rs-is)/(rs+is),closeOnBeforeunload:!1}).socket(St.I4);ct.on("connect_error",Ke=>{console.log("[socket] connect_error",Ke),Ke.message.includes(St.uB)&&(rt(),Xe.dispatchEvent({type:St.VU,payload:{error:Ke}})),Xe.dispatchEvent({type:St.Ei,payload:{error:Ke}})}),ct.on("connect",async()=>{console.log("[socket] connect");{const Ke=Date.now(),it=await(0,p.hq)(Ht(St.Ip),10*1e3,St.Ip).catch(async ht=>{throw(0,M.et)(Et,2*1e3),console.warn(St.Ip,ht),Se.reject(ht),ht}),et=Date.now();We=it-(Ke+et)*.5}Qe=(0,M.et)(()=>{!_e||!_e.connected||Ct||Et()},(1+Math.random())*30*60*1e3),console.log("[socket] ready"),Xe.dispatchEvent({type:St.zS}),Se.resolve()});{let Ke=Promise.resolve();const it=(et,ht)=>{const mt=Ke.then(et);return Ke=mt.then(Wn,jt=>{(0,sn.p)("SKT-QA-"+ht,jt)}),mt};Xe.clear();for(const[et,ht]of Object.entries(Pe))ct.on(et,mt=>ht({type:et,payload:mt})),Xe.addEventListener(et,mt=>{let{payload:jt}=mt;return ht({type:et,payload:jt})});for(const[et,ht]of Object.entries(De))ct.on(et,mt=>it(()=>ht({type:et,payload:mt}),et)),Xe.addEventListener(et,mt=>{let{payload:jt}=mt;return it(()=>ht({type:et,payload:jt}),et)})}_e=ct};let Ct=!1;const Ht=async(en,ct)=>{Ct=!0;const{error:Ke,result:it}=await(0,p.hq)(new Promise(et=>_e.emit(en,ct,et)),42*1e3,"SKT-USR "+en).finally(()=>{Ct=!1});if(Ke!==void 0)throw Object.assign(new Error(typeof Ke=="object"&&Ke.message||"SKT-USR "+en),Ke);return it},Ut=(en,ct)=>{_e.volatile.emit(en,ct)};return Et(),{destroy:rt,reset:Et,emitAsync:Ht,emitLossy:Ut,getIsConnected:()=>_e&&_e.connected||!1,getSocketId:()=>_e&&_e.id||"",getReadyPromise:()=>Se.promise,getOffsetMsec:()=>We}};var wn=n(77885),Yt=n(96828),On=n(78463),Bt=n(83053);if(n.j!=15)var kt=n(833);if(n.j!=15)var zt=n(60307);var gn=n(49950);const Pn=0,bs={cDebugMin:Pn,cCmtPack:Pn+1,cCmtThread:Pn+2,cCmtContent:Pn+3,cDebugMax:35},Sn=(0,gn.W)("cmt-type",bs),vs=Sn.pack("cCmtPack"),Hn=Sn.pack("cCmtThread"),_s=Sn.pack("cCmtContent"),ws=new Set(["cCmtPack","cCmtThread","cCmtContent"]),so=new Set([vs,Hn,_s]);if(n.j!=15)var Ss=n(45043);const oo={unstyled:0,"header-one":1,"header-two":2,"header-three":3,"ordered-list-item":4,"unordered-list-item":5,atomic:6},Cs=(0,gn.W)("DraftBlockType",oo),Ms={left:0,center:1,right:2,justify:3},Vn=(0,gn.W)("DraftAlignment",Ms),io={LINK:0,IMAGE:1},Ns=(0,gn.W)("DraftEntityMapType",io),ro={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2},as=(0,gn.W)("DraftEntityMapMutability",ro),Is={_blank:0,_self:1},Es=(0,gn.W)("DraftLinkTargetOption",Is),ao=a=>{const t={};return Object.keys(a).forEach(o=>{const{type:h,mutability:F,data:ce}=a[o],Pe=[Ns.pack(h),as.pack(F)],De=[];h==="LINK"?(Pe.push(Es.pack(ce.targetOption)),De.push(ce.url||"")):h==="IMAGE"&&(Pe.push((0,kt.c5)(ce.width),Vn.pack(ce.alignment)),De.push(ce.src||"",ce.alt||"")),t["e/"+o]=[Pe.join(zt.xi),...De]}),t},lo=a=>{const t={};for(const o of Object.keys(a)){if(!o.startsWith("e/"))continue;const h=o.split("e/")[1],[F,...ce]=a[o],[Pe,De,ze,He]=F.split(zt.xi),Ue=Ns.parse(Pe),Xe=as.parse(De);t[h]=Ue==="LINK"?{type:Ue,mutability:Xe,data:{url:ce[0],targetOption:Es.parse(ze)}}:{type:Ue,mutability:Xe,data:{src:ce[0],alt:ce[1],width:(0,kt._3)(ze),alignment:Vn.parse(He)}}}return t},js=a=>{const t={};return Object.keys(a).forEach(o=>{const{text:h,type:F,depth:ce,inlineStyleRanges:Pe,entityRanges:De,data:{textAlign:ze,textIndent:He,paraSpacing:Ue}}=a[o],Xe=[Cs.packDef(F,"unstyled"),(0,kt.c5)(ce),ze?Vn.pack(ze):"",He!==void 0?(0,kt.c5)(He):"",Ue!==void 0?(0,Bt.ZI)(Ue):""];t["b/"+o]=[Xe.join(zt.xi),h,Pe.map(_e=>{let{offset:Se,length:We,style:Qe}=_e;return ln(Se,We,Qe)}),De.map(_e=>{let{offset:Se,length:We,key:Qe}=_e;return ks(Se,We,Qe)})]}),t},ks=(a,t,o)=>""+(0,kt.c5)(a)+zt.xi+(0,kt.c5)(t)+zt.xi+(0,kt.c5)(o),co=a=>{const t=a.indexOf(zt.xi),o=a.indexOf(zt.xi,t+1);return[(0,kt._3)(a.slice(0,t)),(0,kt._3)(a.slice(t+1,o)),(0,kt._3)(a.slice(o+1))]},ln=(a,t,o)=>""+(0,kt.c5)(a)+zt.xi+(0,kt.c5)(t)+zt.xi+o,uo=a=>{const t=a.indexOf(zt.xi),o=a.indexOf(zt.xi,t+1);return[(0,kt._3)(a.slice(0,t)),(0,kt._3)(a.slice(t+1,o)),a.slice(o+1)]},_t=a=>{const t={};for(const o of Object.keys(a)){if(!o.startsWith("b/"))continue;const h=o.split("b/")[1],[F,ce,Pe,De]=a[o],[ze,He,Ue,Xe,_e]=F.split(zt.xi),Se={};Ue!==""&&(Se.textAlign=Vn.parse(Ue)),Xe!==""&&(Se.textIndent=(0,kt._3)(Xe)),_e!==""&&_e!==void 0&&(Se.paraSpacing=(0,Bt.bp)(_e)),t[h]={text:ce,type:Cs.parse(ze),depth:(0,kt._3)(He),inlineStyleRanges:Pe.map(We=>{const[Qe,rt,Et]=uo(We);return{offset:Qe,length:rt,style:Et}}),entityRanges:De.map(We=>{const[Qe,rt,Et]=co(We);return{offset:Qe,length:rt,key:Et}}),data:Se}}return t},Ts=a=>{let{message:t}=a;const{blocks:o={},entityMap:h={}}=t;return{...js(o),...ao(h)}},Gn=a=>({message:{blocks:_t(a),entityMap:lo(a)}}),ls=a=>({T:Sn.pack(a.type),IC:[(0,kt.c5)(a.index),(0,kt.vH)(a.ctime)].join(zt.xi)}),cs=a=>{const[t,o]=a.IC.split(zt.xi);return{type:Sn.parse(a.T),index:(0,kt._3)(t),ctime:(0,kt.TT)(o)}},As=a=>({...ls(a),R:a.refKey}),po=a=>({...cs(a),refKey:a.R}),Ls=a=>({...ls(a),...Ts(a),xy:(0,Bt.x3)(a.x,a.y),wh:(0,Bt.x3)(a.w,a.h),z:(0,Bt.ZI)(a.z),userInfo:a.userInfo,userId:(0,Bt.ZI)(a.userId),mtime:(0,kt.vH)(a.mtime),isCompleted:(0,Ss.rK)(a.isCompleted),canvasVec2:a.canvasVec2?{x:(0,Bt.ZI)(a.canvasVec2.x),y:(0,Bt.ZI)(a.canvasVec2.y)}:a.canvasVec2,canvasCid:a.canvasCid,threadType:a.threadType}),Os=a=>{const[t,o]=(0,Bt.fm)(a.xy),[h,F]=(0,Bt.fm)(a.wh),ce=a.canvasVec2?(0,Bt.bp)(a.canvasVec2.x):void 0,Pe=a.canvasVec2?(0,Bt.bp)(a.canvasVec2.y):void 0,De=(0,Bt.bp)(a.z);return{...cs(a),...Gn(a),x:t,y:o,w:h,h:F,z:De,mtime:(0,kt.TT)(a.mtime),userInfo:a.userInfo,userId:(0,Bt.bp)(a.userId),isCompleted:(0,Ss.Vf)(a.isCompleted),canvasCid:a.canvasCid,threadType:a.threadType,canvasVec2:ce&&Pe?{x:ce,y:Pe}:void 0}},Kn=a=>({...ls(a),...Ts(a),mtime:(0,kt.vH)(a.mtime),userInfo:a.userInfo}),Ps=a=>({...cs(a),...Gn(a),mtime:(0,kt.TT)(a.mtime),userInfo:a.userInfo}),ho=a=>{try{switch(a.T){case void 0:return a;case vs:return po(a);case Hn:return Os(a);case _s:return Ps(a);default:throw new Error("invalid attr: "+a.T+" -> "+Sn.parse(a.T))}}catch(t){throw(0,sn.p)("toP2CHA badDat",t,a),t}},Ds=a=>{try{switch(a.type){case void 0:return a;case"cCmtPack":return As(a);case"cCmtThread":return Ls(a);case"cCmtContent":return Kn(a);default:throw new Error("invalid attr: "+a.type)}}catch(t){throw(0,sn.p)("toP2CCA badDat",t,a),t}};if(n.j!=15)var mo=n(42490);const Rs=(a,t)=>{const o=De=>{const ze=a(De);return ze===void 0?[]:ze.sub.map(He=>a(He))},h=(0,mo.MX)(De=>De.sub.map(ze=>a(ze))),F=(De,ze)=>{const He=a(De);He!==void 0&&(ze(He)||He.sub.length!==0&&h(He,ze))};return{getHotItem:a,getSubHotItemList:o,walkHotItemSubtree:F,isTrashed:De=>(0,Yt.DM)(De,t.getFlatTree()),__devHotTree:function(De){De===void 0&&(De=Yt.gT);const ze=new Map,He=Ue=>{let Xe=ze.get(Ue);return Xe===void 0&&ze.set(Ue,Xe={}),Xe};return F(De,Ue=>{He(Ue.sup)[Ue.key]=Ue.hotAttr,Ue.sub.length!==0&&(He(Ue.sup)[Ue.key+" SUB"]=He(Ue.key))}),He(a(De).sup)}}};if(n.j!=15)var Bs=n(57947);if(n.j!=15)var ds=n(25813);var go=n(99142),qt=n(56927);if(n.j!=15)var fo=n(19371);const yo=(a,t,o)=>{const h=_e=>{if(_e===void 0||_e.length===0)return;const Se=new Set;for(const Qe of _e)Se.add(Qe.key),Qe.type==="I"&&Se.add(Qe.keySup);const We=(0,Yt.CF)([...Se].filter(Yt.xe),o.getFlatTree());a({type:fo.a,payload:We})},F=_e=>{const Se=[],We=_e(Se);return h(o.applyDiff(Se)),We},ce=_e=>F(Se=>{const We=[],Qe=_e(We);for(const rt of We)rt.type==="update"?He(rt.hotItem,Se):rt.type==="delete"&&Ue(rt.key,Se);return Qe}),Pe=function(){const _e=[],Se=[];let We,Qe=!1;for(var rt=arguments.length,Et=new Array(rt),Ct=0;Ct<rt;Ct++)Et[Ct]=arguments[Ct];for(const Ht of Et){We=Ht(_e);const Ut=o.applyDiff(_e);Ut!==void 0&&(Se.push(...Ut),Qe?o.combineLastUndo():Qe=!0)}return h(Se),We},De=function(){for(var _e=arguments.length,Se=new Array(_e),We=0;We<_e;We++)Se[We]=arguments[We];const Qe=Se.map(rt=>Et=>{const Ct=[],Ht=rt(Ct);for(const Ut of Ct)Ut.type==="update"?He(Ut.hotItem,Et):Ut.type==="delete"&&Ue(Ut.key,Et);return Ht});return Pe(...Qe)},ze=(_e,Se)=>{for(const We of Object.keys(_e)){const Qe=_e[We],rt=Se[We];Qe!==rt&&(0,Bs.sw)(Qe)&&(0,Bs.sw)(rt)&&JSON.stringify(Qe)===JSON.stringify(rt)&&(_e[We]=rt)}},He=(_e,Se)=>{const We=(0,Yt.PV)(_e.key,o.getFlatTree());if(We===void 0)Se.push({type:qt.UF,key:_e.key,keySup:_e.sup}),Se.push({type:qt.qC,key:_e.key,attrDiff:Ds(_e.hotAttr)});else{We.sup!==_e.sup&&Se.push({type:qt.UF,key:_e.key,keySup:_e.sup});const Qe=Ds(_e.hotAttr);ze(Qe,We.attr);const rt=(0,go.m)(Qe,We.attr);rt!==void 0&&Se.push({type:qt.qC,key:_e.key,attrDiff:rt})}},Ue=(_e,Se)=>{o.getFlatItem(_e)&&Se.push({type:qt.UF,key:_e,keySup:Yt.Ri})},Xe=(_e,Se,We)=>{o.getFlatItem(_e)&&o.getFlatItem(Se)&&We.push({type:qt.UF,key:_e,keySup:Se})};return{_edit:F,_editAction:ce,_editBatch:Pe,_editActionBatch:De,onRemotePatchList:_e=>{const Se=[];for(const We of _e){const Qe=o.applyDiffRemote(We.diffList,We.clock);Qe!==void 0&&Se.push(...Qe)}h(Se)},updateHotItem:_e=>F(Se=>{He(_e,Se)}),updateHotItemBatch:_e=>F(Se=>{for(const We of _e)He(We,Se)}),deleteHotItem:_e=>F(Se=>{Ue(_e,Se)}),deleteHotItemBatch:_e=>F(Se=>{for(const We of _e)Ue(We,Se)}),moveHotItem:(_e,Se)=>F(We=>{Xe(_e,Se,We)}),moveHotItemBatch:_e=>F(Se=>{for(const[We,Qe]of _e)Xe(We,Qe,Se)}),editHotItemBatch:_e=>F(Se=>{for(const We of _e)We.type==="update"?He(We.hotItem,Se):We.type==="delete"&&Ue(We.key,Se)}),updateHotAttrMerge:(_e,Se)=>F(We=>{const Qe=t(_e);if(Qe===void 0)throw new Error("no item: "+_e);He((0,ds.MK)(Qe,"hotAttr",{...Qe.hotAttr,...Se}),We)}),updateHotAttrKV:(_e,Se,We)=>F(Qe=>{const rt=t(_e);if(rt===void 0)throw new Error("no item: "+_e);He((0,ds.MK)(rt,"hotAttr",(0,ds.MK)(rt.hotAttr,Se,We)),Qe)}),canUndo:o.canUndo,canRedo:o.canRedo,combineMergeMark:o.combineMergeMark,combineMerge:o.combineMerge,undo:()=>{h(o.undo())},redo:()=>{h(o.redo())}}};var Zn=n(66451);const xo=a=>{const t=(0,os.wz)(),o=t.subscribe,h=t.unsubscribe,F=Fs(a),ce=Rs(F,a),Pe=()=>bo(a.getFlatTree),De=yo(t.send,F,a),{_edit:ze,_editAction:He,_editBatch:Ue,_editActionBatch:Xe,..._e}=De;return{subscribe:o,unsubscribe:h,...ce,createRoCmtStore:Pe,..._e}},Fs=a=>t=>{const o=a.getFlatTree().get(t);if(o===void 0)return;const h=a.getOCI(o);return h.hotItem===void 0&&(h.hotItem={key:o.key,sup:o.sup,sub:o.sub,hotAttr:ho(o.attr)}),h.hotItem},bo=a=>{const t=(0,Zn.b$)(a(),(0,wn.aF)({})),o=()=>t.getFlatTree()!==a(),h=()=>t.sync(a()),F=Fs(t),ce=Rs(F,t);return{hasUpdate:o,syncUpdate:h,...ce}};var vo=n(56511),zs=n(99611);if(n.j!=15)var _o=n(17036);if(n.j!=15)var wo=n(50544);var fn=n(73051),Yn=n(85782),Dn=n(35236);const us=a=>{const[t,o,h]=a,F=async()=>(0,Yn.BT)(Dn.r,t.tre),ce=async function(Ue){Ue===void 0&&(Ue=-1);const Xe=[];for(const{pbx:_e,t10s:Se}of o){if(Se<Ue)continue;const We=(0,wo.CE)(await Dn.r.gunzipU8AAsync(new Uint8Array(_e)));for(const Qe of(0,fn.Pb)(We))Xe.push(Qe)}for(const{pch:_e,t10s:Se}of h)Se<Ue||Xe.push(_e);return Xe},Pe=async function(Ue){Ue===void 0&&(Ue=-1);const Xe=[];for(const _e of await ce(Ue))Xe.push((0,qt.iz)(_e));return Xe},De=async function(Ue){Ue===void 0&&(Ue=-1);const Xe=[];for(const _e of await ce(Ue)){const{clock:Se,diffList:We}=(0,qt.iz)(_e);Xe.push([(0,wn._r)(Se).slice(5),We,_e])}return Xe};return{getParsedTre:F,getPchList:ce,getPatchList:Pe,getReadablePatchList:De,filterReadablePatchList:async function(Ue,Xe){return Xe===void 0&&(Xe=-1),(await De(Xe)).filter(_e=>{let[,,Se]=_e;return Se.includes(Ue)})},getMergedReadablePatchList:async function(Ue,Xe){Ue===void 0&&(Ue=-1),Xe===void 0&&(Xe=16);const _e=[];let Se={timePrefix:"",countDI:0,countDA:0,userIdSet:new Set};const We=Qe=>{Se.timePrefix!==Qe&&(Se.timePrefix!==""&&_e.push(Se.timePrefix.slice(5)+"..Z I*"+(Se.countDI||"-")+" A*"+(Se.countDA||"-")+" ["+[...Se.userIdSet].join(",")+"]"),Se={timePrefix:Qe,countDI:0,countDA:0,userIdSet:new Set})};for(const{clock:[Qe,rt],diffList:Et}of await Pe(Ue)){const Ct=new Date(Qe).toISOString().slice(0,Xe);We(Ct),Se.userIdSet.add(rt);for(const{type:Ht}of Et)Ht===qt.UF?Se.countDI++:Se.countDA++}return We(""),_e},flpak:a}},ps=a=>Math.floor(a/10/1e3),hs=a=>{const[t]=(0,qt.cx)(a);return ps(t)},So=a=>{let[t,o,h]=a;return h.length!==0?h[h.length-1].t10s:o.length!==0?o[o.length-1].t10s:t.t10s};if(n.j!=15)var ms=n(71544);const yn=(a,t,o)=>{let h=!1,F=0,ce=0;const Pe=new Map;let De=[],ze,He,Ue,Xe;const _e=Ke=>{let[it,,et]=Ke;if(it!==a)return!1;const ht=(0,fn.vZ)(et);for(const mt of ht)De.push([mt,hs(mt),!1]);return Ue!==void 0&&Ue(ht.map(mt=>(0,qt.iz)(mt))),!0},Se=async(Ke,it)=>{if(He!==void 0)throw new Error("no re-init flatStore");ze=Ke,Xe=it;const et=await Xe(a);{const Lt="INSP-INIT-FLPAK";location.hash.includes(Lt)&&Object.assign(globalThis,{[Lt+"/"+a]:{...us(et),__flpakKey:a,__name:t}})}F=So(et);const ht=(0,Zn.OR)(),mt=await(0,Yn.TN)(Dn.r,et,(Lt,Re)=>(0,fn.qG)(Lt,Re,ht.mutateTFAAFNB));let jt=Yt.xL;{const Lt="BYPASS-FLPAK";location.hash.includes(Lt)&&(jt=Re=>console.warn("["+Lt+"|vFT]",Re))}for(const[Lt,Re,dt]of De)!dt&&F>=Re||(0,fn.qG)(mt,Lt,ht.mutateTFAAFNB);He=(0,Zn.b$)(mt,Ke,(Lt,Re,dt)=>{if(h&&console.log("flat|onPatch",{diffList:Lt,clock:Re,isLocal:dt}),De.push([(0,qt.AO)({diffList:Lt,clock:Re}),ps(Re[0]),dt]),dt)return;const[$t,Qt,Cn,Mn]=Re;ce=Math.max(ce,$t);const hn=(0,wn.au)(Qt,Cn);if(ze.selfCCK===hn)throw new Error("unexpected selfCck: "+hn);const Nn=Pe.get(hn)||-1;Nn>Mn&&console.warn("bad editId for cck: "+hn+", last: "+Nn+", new: "+Mn),Pe.set(hn,Mn)},(Lt,Re)=>{console.warn("flat|requestResync",{error:Lt,message:Re})}),Ue=Lt=>{for(const Re of Lt)He.applyDiffRemote(Re.diffList,Re.clock)};const Wt=ht.getFixDiffList(mt);Wt.length&&(He.applyDiff(Wt),He.resetUndo()),o===!0&&jt(mt)},We=Ke=>{Ue=Ke},Qe=()=>ze,rt=()=>He,Et=async function(Ke){if(Ke===void 0&&(Ke=""),o===!0)try{if(!He||!F||!Ut())return;const it=He.getFlatTree(),[et,ht]=await(0,Yn.Vz)(Dn.r,it);await(0,ms.hp)("//FSS/"+t+"/"+a,new Blob([ht],{type:"application/octet-stream"}),{message:Ke,treRawSize:et,treSize:ht.byteLength})}catch(it){console.warn("saveSOS",Ke,it)}},Ct=async()=>{if(o===!0)try{const Ke=await(0,ms.Ey)("//FSS/"+t+"/"+a);if(Ke.length){console.warn("[loadSOS] found "+Ke.length+" record");const{data:it,extra:et}=Ke[0];console.warn("[loadSOS] load record from "+new Date(et.time).toISOString());const ht=await(0,_o.WL)(it),mt=await(0,Yn.BT)(Dn.r,ht);return console.warn("[loadSOS] record tree: "+mt.slowSize()),{tree:mt,...et}}}catch(Ke){console.warn("loadSOS",Ke)}},Ht=async()=>{if(o===!0)try{return await(0,ms.EP)("//FSS/"+t+"/"+a)}catch(Ke){console.warn("freeSOS",Ke)}},Ut=()=>{if(o!==!0)return!1;for(const[,,Ke]of De)if(Ke)return!0;return!1};return{flpakKey:a,name:t,__setIsDev:Ke=>{h=Ke},onRemotePayloadSave:_e,bind:Se,useExtORPL:We,getClockStore:Qe,getFlatStore:rt,saveSOS:Et,loadSOS:Ct,freeSOS:Ht,hasPatch:Ut,preSettlePatch:()=>{if(o!==!0)return[];const Ke=[];for(const[it,,et]of De)et&&Ke.push(it);return Ke},postSettlePatch:Ke=>{o===!0&&(De=De.filter(it=>{let[et,ht,mt]=it;return!mt||!Ke.includes(et)}))}}},Fo=(a,t,o)=>{let h,F;return{flpakKey:a,name:"[DUMMY]"+t,__setIsDev:ce=>{},onRemotePayloadSave:ce=>{let[Pe,,De]=ce;return!1},bind:async(ce,Pe)=>{if(F!==void 0)throw new Error("no re-init flatStore");h=ce,F=(0,Zn.b$)((0,Yt.Id)(),ce)},useExtORPL:ce=>{},getClockStore:()=>h,getFlatStore:()=>F,saveSOS:async ce=>{},loadSOS:async()=>{},freeSOS:async()=>0,hasPatch:()=>!1,preSettlePatch:()=>[],postSettlePatch:ce=>{}}};if(n.j!=15)var Co=n(54704);const Us=n.j!=15?Bt.x3:null,Mo=n.j!=15?Bt.fm:null,Ws=a=>{const t=new Map;let o=!1,h=!1,F,ce,Pe=()=>"";const De=()=>{t.clear(),Ue()};let ze=0;const He=ct=>{const Ke={socketId:ct,index:ze++,lastCurAt:0,cur:void 0,lastStatAt:0,stat:void 0};return t.set(ct,Ke),o=!0,Ke},Ue=(0,p.Ds)(async()=>{if(await(0,M.Y_)(2*1e3),F===void 0)return;const ct=[];for(const{socketId:ht,lastStatAt:mt}of t.values())mt!==0&&ct.push(ht);for(const[ht,mt,jt]of await F([a,ct])){const Wt=t.get(ht)||He(ht);Wt.lastStatAt=Date.now(),Wt.stat=[mt,jt]}const[Ke,it,et]=Se;Ke&&ce&&ce([a,Ke,Us(it,et)])},ct=>{console.warn("_tPS",ct)}).trigger,Xe=ct=>{let[Ke,it,et]=ct;const[ht,mt]=Mo(et),jt=[ht,mt,it],Wt=t.get(Ke)||He(Ke);Wt.lastCurAt=Date.now(),Wt.cur=jt,Wt.lastStatAt===0?Ue():h=!0},_e=ct=>{let[Ke,it]=ct;const et=t.has(it);Ke===0&&et&&(t.delete(it),o=!0)};let Se=["",NaN,NaN],We=0;const Qe=function(ct){ct===void 0&&(ct=Se[0]);const Ke=Pe();if(Ke==="")return!1;for(const{socketId:it,cur:et}of t.values())if(et&&et[2]===ct&&it!==Ke)return!0;return!1},rt=function(ct,Ke,it){Ke===void 0&&(Ke=Bt.Ni),it===void 0&&(it=Bt.Ni),!(Se[0]===ct&&Se[1]===Ke&&Se[2]===it)&&(Se[0]!==ct&&(We=1),!(!We&&(t.size<2||!Qe(ct)))&&(Se=[ct,Ke,it],We&&We--,ce&&ce([a,ct,Us(Ke,it)])))},Et=async(ct,Ke,it)=>{if(F!==void 0)throw new Error("no re-init fetchCurStat");F=ct,ce=Ke,Pe=it},Ct=()=>{const ct=Pe(),Ke=[];if(ct==="")return Ke;for(const{socketId:it,stat:et}of t.values()){if(et===void 0)continue;const[ht,mt]=et;ct===it?Ke.unshift([it,ht,mt]):Ke.push([it,ht,mt])}return Ke},Ht=ct=>{const Ke=Pe(),it=[];if(Ke==="")return it;for(const{socketId:et,index:ht,cur:mt,stat:jt}of t.values()){if(Ke===et||mt===void 0||jt===void 0)continue;const[Wt,Lt,Re]=mt;if(Re!==ct||Wt===Bt.Ni)continue;const[dt,$t]=jt;it.push([ht,Wt,Lt,dt,$t])}return it},Ut=()=>o?(o=!1,!0):!1,en=()=>h?(h=!1,!0):!1;return{flpakKey:a,__curStatMap:t,onSocketConnect:De,onRemoteCur:Xe,onRemoteSocket:_e,hasOtherUser:Qe,tryPackCur:rt,bind:Et,getRoomStat:Ct,getSocketStat:Ct,getCurStat:Ht,pollRoomChg:Ut,pollCurChg:en,pollChange:en}},No=a=>{const t=()=>{},o=Ue=>{let[Xe,_e,Se]=Ue},h=Ue=>{let[Xe,_e]=Ue},F=Ue=>!1,ce=(Ue,Xe,_e)=>{},Pe=async(Ue,Xe,_e)=>{},De=()=>[],ze=Ue=>[],He=()=>!1;return{flpakKey:a,onSocketConnect:t,onRemoteCur:o,onRemoteSocket:h,hasOtherUser:F,tryPackCur:ce,bind:Pe,getRoomStat:De,getSocketStat:De,getCurStat:ze,pollRoomChg:He,pollCurChg:He,pollChange:He}},Hs=()=>{};let Vs=!1;const Io=a=>{Vs=a},Eo="dat",jo="cmt",ko="mkt:dat",To=async a=>{let{flpakKey:t,userId:o,uTag:h,token:F,passwd:ce,isDummyCmt:Pe=!1,isAllowDat:De=!1,isAllowCmt:ze=!1,isAllowCur:He=!1,afterStoreCreate:Ue=Hs,__fetchFlpakAsync:Xe=zs.T,onTransferError:_e=Hs}=a;const Se=yn(t,Eo,De),We=(Pe?Fo:yn)((0,Co.J6)(t),jo,ze),Qe=(He?Ws:No)(t);await Ue({fssDat:Se});const rt=async(Re,dt)=>{await Se.saveSOS("OTE|"+Re+"|"+dt),await _e(Re,dt)},Et=(0,St.LZ)({flpakKey:t,needDat:!!De,needCmt:!!ze,needCur:!!He}),Ct=!o||!Et?eo():no({query:{uId:String(o),uTag:h,rKey:Et},usePolling:Vs,lossyListenerMap:{[St.NX]:Re=>{const{payload:dt}=Re;Qe.onRemoteCur(dt)}},queueListenerMap:{[St.VU]:Re=>{const{error:dt}=Re;console.log("flat-ws drop-client",dt),rt("4XX",dt)},[St.Ei]:Re=>{const{error:dt}=Re;console.log("flat-ws error",dt),rt("5XX",dt)},[St.zS]:()=>{console.log("flat-ws (re)connected"),Qe.onSocketConnect()},[St.sP]:Re=>{const{payload:dt}=Re;Se.onRemotePayloadSave(dt)||We.onRemotePayloadSave(dt)||console.warn("drop save payload:",dt)},[St.$7]:Re=>{const{payload:dt}=Re;console.log("flat-ws room cursor:",dt),Qe.onRemoteSocket(dt)}}});await Ct.getReadyPromise();const Ht=async(Re,dt,$t)=>{try{return await Xe(Re,{token:F,passwd:ce,skipTTre:String(dt||""),skipTPbxList:($t||[]).join("")})}catch(Qt){const Cn=gs(Qt);throw $n(Qt)!=="Fch"&&(0,sn.p)("fFS "+$n(Qt),Qt),await rt(Cn,Qt),Qt}};await Promise.all([Se.bind((0,wn.aF)({userId:o,mtimeOffset:Ct.getOffsetMsec()}),Ht).catch(Re=>{throw(0,sn.p)("bindDat",Re),Re}),We.bind((0,wn.aF)({userId:o,mtimeOffset:Ct.getOffsetMsec()}),Ht).catch(Re=>{throw(0,sn.p)("bindCmt",Re),Re}),Qe.bind(async Re=>{try{if(Ct.getIsConnected())return await Ct.emitAsync(St.Am,Re)}catch(dt){await(0,M.Y_)(42*1e3)}return[]},Re=>Ct.getIsConnected()&&Ct.emitLossy(St.pL,Re),Ct.getSocketId).catch(Re=>{throw(0,sn.p)("bindCur",Re),Re})]);const Ut=new Error("[tracked-error]"),en=async Re=>{if(!Re.hasPatch())return;const dt=Re.preSettlePatch(),$t=(0,fn.ok)((0,fn.oG)(dt));for(let Qt=0,Cn=$t.length;Qt<Cn;Qt++){const Mn=$t[Qt];try{await Ct.emitAsync(St.s5,[Re.flpakKey,Mn.length,(0,fn.iM)(Mn)])}catch(hn){const Nn=gs(hn);throw Nn==="5XX"&&(0,sn.p)("saveFss "+$n(hn),hn,Re.name,Re.flpakKey,Qt+1+"/"+Cn,Mn),await rt(Nn,hn),Ut}}Re.postSettlePatch(dt)},ct=(0,p.Ds)(async()=>(0,p.g7)(async()=>{await en(Se),await en(We),await Se.freeSOS()},5*60*1e3,"lFFss.lA"),Re=>{if(Re===Ut)return;const dt=gs(Re);(0,sn.p)("lFFss "+$n(Re),Re),Promise.resolve(rt(dt,Re)).catch($t=>{(0,sn.p)("lFFss "+dt+" Err",$t)})}),Ke=(0,p.Ds)(async()=>{ct.trigger(),await ct.getRunningPromise();for(let Re=0;Re++<16;)!Qe.hasOtherUser()&&await(0,M.Y_)(1e3)});setInterval(Ke.trigger,2*1e3),He&&setInterval(()=>Qe.onSocketConnect(),20*60*1e3);const it=Se.getFlatStore(),et=(0,On.uq)(Se.getFlatStore());Se.useExtORPL(et.onRemotePatchList);const ht=xo(We.getFlatStore());We.useExtORPL(ht.onRemotePatchList);const mt=()=>Se.hasPatch()||We.hasPatch(),jt=(0,p.B1)(async()=>(0,p.JN)(async()=>{let Re=0;for(;mt();)await(0,M.Y_)(Math.min(Re,5)*1e3),ct.trigger(),await ct.getRunningPromise(),Re++})),Wt=()=>globalThis.MB.getSelectionItems()[0].key,Lt=(0,p.J9)(Qe.tryPackCur,125);return{fssDat:Se,fssCmt:We,cssCur:Qe,flatSocket:Ct,flatStore:it,sdkStore:et,cmtStore:ht,sendCur:Lt,hasSave:mt,saveAsync:jt,theTree:function(Re){return Re===void 0&&(Re=Yt.gT),console.log((0,Yt.Wr)(it.getFlatTree(),Re))},hotTree:function(Re){return Re===void 0&&(Re=Yt.gT),console.log(et.__devHotTree(Re))},slctTree:function(Re){return Re===void 0&&(Re=Wt()),console.log(et.__devHotTree(Re))},upTree:function(Re,dt){return Re===void 0&&(Re=Wt()),dt===void 0&&(dt=Yt.gT),console.log(et.findUpHotItemList(Re,dt))},newFFT:async function(Re,dt,$t){return $t===void 0&&($t=dt.name+"-\u4FEE\u590D\u6570\u636E"),(0,vo.N)(Re,dt.team_cid,{...dt,name:$t})},cmtTree:function(Re){return Re===void 0&&(Re=Yt.gT),console.log(ht.__devHotTree(Re))}}},gs=a=>{const t=a&&a.status;return t>=400&&t<500?"4XX":String(a).toLowerCase().includes("timeout")?"Tot":"5XX"},$n=a=>{const t=a&&a.status,o=[];t>=400&&o.push(String(t));const h=String(a).toLowerCase();return h.includes("timeout")&&o.push("Tot"),h.includes("fetch")&&o.push("Fch"),o.join("")||"Err"},Ao=async a=>{let{flpakKey:t}=a;const o=yn(t,ko,!1),h=async(ce,Pe,De)=>(0,zs.T)(ce,{skipTTre:String(Pe||""),skipTPbxList:(De||[]).join("")});return await o.bind((0,wn.aF)({}),h),{sdkStore:(0,On.uq)(o.getFlatStore())}}},27374:(Ne,de,n)=>{"use strict";n.d(de,{$I:()=>X,Rj:()=>P,SR:()=>p,Tq:()=>k,UP:()=>T});var s=n(4114);let p=function(j){return j.AIAssistant="AIAssistant",j.Page="Page",j.Flow="flow",j.Mind="mind",j.Table="table",j.Chart="chart",j.AutoFill="autofill",j.Semantic="semantic",j.Component="Component",j.PageV9="PageV9",j.Chat="Chat",j}({}),M=function(j){return j.page="page",j.component="component",j.other="other",j.semantic="semantic ",j}({}),d=function(j){return j.hot="hot",j.other="other",j.semantic="semantic ",j}({});const k="GENERATE_AI_COMPONENT",X=(0,s.R)(()=>[{label:I18N.ChatGPT.ai_prototype,title:I18N.ChatGPT.ai_prototype_title,type:p.PageV9,points:400,recommends:[I18N.ChatGPT.ai_prototype_label_1,I18N.ChatGPT.ai_prototype_label_2,I18N.ChatGPT.ai_prototype_label_3],aiType:"\u751F\u6210\u539F\u578B\u9875\u9762",source:"",menu:M.page,hotMenu:d.hot,icon:"chatGPT/ai-component-page",desc:I18N.ChatGPT.ai_prototype_desc,className:"ai-page",componentTitle:I18N.ChatGPT.ai_prototype_component_title},{label:k,title:I18N.ChatGPT.ai_component_title,type:p.Component,points:200,aiType:"\u751F\u6210AI\u7EC4\u4EF6",source:"",menu:M.component,hotMenu:d.hot,icon:"chatGPT/ai-component-component",desc:I18N.ChatGPT.ai_component_desc,className:"ai-component",componentTitle:I18N.ChatGPT.ai_component_component_title},{label:I18N.ArtBoard.flow,title:I18N.ChatGPT.ai_flow_title,type:p.Flow,points:200,recommends:[I18N.ChatGPT.ai_flow_label_1,I18N.ChatGPT.ai_flow_label_2,I18N.ChatGPT.ai_flow_label_3],aiType:"\u751F\u6210\u6D41\u7A0B\u56FE",source:"",menu:M.component,hotMenu:d.other,icon:"chatGPT/ai-component-flow",desc:I18N.ChatGPT.ai_flow_desc,className:"ai-flow",componentTitle:I18N.ChatGPT.ai_flow_component_title},{label:I18N.ArtBoard.mind,title:I18N.ChatGPT.ai_mind_title,type:p.Mind,points:200,recommends:[I18N.ChatGPT.ai_mind_label_1,I18N.ChatGPT.ai_mind_label_2,I18N.ChatGPT.ai_mind_label_3],aiType:"\u751F\u6210\u601D\u7EF4\u5BFC\u56FE",source:"",menu:M.component,hotMenu:d.other,icon:"chatGPT/ai-component-mind",desc:I18N.ChatGPT.ai_mind_desc,className:"ai-mind",componentTitle:I18N.ChatGPT.ai_mind_component_title},{label:I18N.w.table,title:I18N.ChatGPT.ai_table_title,type:p.Table,points:200,recommends:[I18N.ChatGPT.ai_table_label_1,I18N.ChatGPT.ai_table_label_2,I18N.ChatGPT.ai_table_label_3],aiType:"\u751F\u6210\u8868\u683C",source:"",menu:M.component,hotMenu:d.other,icon:"chatGPT/ai-component-table",desc:I18N.ChatGPT.ai_table_desc,className:"ai-table",componentTitle:I18N.ChatGPT.ai_table_component_title},{label:I18N.w.wChart,title:I18N.ChatGPT.ai_Chart_title,type:p.Chart,points:200,recommends:[I18N.ChatGPT.ai_wChart_label_1,I18N.ChatGPT.ai_wChart_label_2,I18N.ChatGPT.ai_wChart_label_3],aiType:"\u751F\u6210\u56FE\u8868",source:"",menu:M.component,hotMenu:d.other,icon:"chatGPT/ai-component-chart",desc:I18N.ChatGPT.ai_Chart_desc,className:"ai-chart",componentTitle:I18N.ChatGPT.ai_Chart_component_title},{label:I18N.ChatGPT.magic_fill,title:I18N.ChatGPT.ai_magicFill_title,type:p.AutoFill,points:200,recommends:[I18N.ChatGPT.ai_smart_fill_label_2,I18N.ChatGPT.ai_smart_fill_label_1,I18N.ChatGPT.ai_smart_fill_label_3],aiType:"\u667A\u80FD\u586B\u5145",source:"",menu:M.other,hotMenu:d.other,icon:"chatGPT/ai-component-autofill",desc:I18N.ChatGPT.ai_magicFill_desc,className:"ai-magic-fill"},{label:"\u8BED\u4E49\u5316",title:"AI \u8BED\u4E49\u5316",type:p.Semantic,points:200,recommends:["\u5E2E\u6211\u751F\u6210\u4E00\u4E2A\u7535\u5546\u7C7BAPP\uFF0C\u5E76\u4E14\u8F93\u5165\u4E00\u4EFDprd\u6587\u6863","`\u6211\u7231\u52A0\u73ED`\u3002\u8BF7\u5E2E\u6211\u628A\u4E0A\u9762\u8FD9\u6BB5\u8BDD\u8C03\u6574\u7684\u66F4\u52A0\u4E30\u5BCC\u751F\u52A8\u4E00\u70B9","\u5E2E\u6211\u751F\u6210\u4E00\u4EFD2022\u5E74\u56FD\u5BB6\u7ECF\u6D4E\u66F2\u7EBF\u56FE\u30012022\u5E74\u5404\u7701\u7ECF\u6D4E\u6536\u5165\u8868\u683C"],aiType:"MD\u8BED\u4E49\u5316",source:"AI\u8BED\u4E49\u5316\u9762\u677F",menu:M.semantic,hotMenu:d.semantic,icon:"chatGPT/ai-component-autofill",desc:I18N.ChatGPT.ai_magicFill_desc,className:"ai-magic-fill"}]),H=(0,s.R)(()=>[{title:I18N.ChatGPT.ai_prototype,items:X().filter(R=>R.menu===M.page)},{title:I18N.ChatGPT.ai_advanced_components,items:X().filter(R=>R.menu===M.component)},{title:I18N.ChatGPT.ai_magic_fill,items:X().filter(R=>R.menu===M.other)}]),T=(0,s.R)(()=>[{title:I18N.ChatGPT.ai_hot_menu,items:X().filter(R=>R.hotMenu===d.hot)},{title:I18N.ChatGPT.ai_other_menu,items:X().filter(R=>R.hotMenu===d.other)}]),P=(0,s.R)(()=>X().reduce((j,R)=>(j[R.type]=R,j),{}))},46664:(Ne,de,n)=>{"use strict";n.d(de,{A1:()=>D,A9:()=>b,CH:()=>Je,Cp:()=>s.Cp,E8:()=>y,F7:()=>ke,G8:()=>Me,Gx:()=>Y,Ip:()=>xt,Jm:()=>G,Kc:()=>T,OJ:()=>_,PK:()=>i,Qs:()=>J,Qy:()=>we,SD:()=>Oe,Tf:()=>R,V7:()=>v,Wr:()=>g,XG:()=>me,Xw:()=>A,Yu:()=>j,bX:()=>$,cn:()=>P,dC:()=>wt,hY:()=>f,kZ:()=>ie,l9:()=>C,ob:()=>le,qi:()=>pe,r3:()=>W,s_:()=>ae,sw:()=>yt,ty:()=>Ee,up:()=>st,vS:()=>Ve,vs:()=>Ye,wR:()=>c,wZ:()=>bt,yV:()=>tt,yY:()=>Ce,yk:()=>Ie,yr:()=>V});var s=n(52781),p=n(46795),M=n(45465),d=n(72907);if(n.j!=15)var k=n(79619);if(n.j!=15)var X=n(63967);const H=(ue,ve)=>{const Le=new Error("[NO SENTRY] "+ue);return Object.assign(Le,ve),Le},T=(ue,ve)=>(0,p.DE)("/api/upper/web_v1/design/readonly_initial?access_token="+ue+"&password="+ve),P=async(ue,ve)=>{const Le=ve==="inspect"?"read_only":ve,Ge="/api/flat/web_v1/preview/initial?access_token="+ue+"&view_mode="+Le,qe=await fetch(Ge,{credentials:"same-origin"}),ut=await qe.json();if(qe.status!==200)throw H("[fetchGetHead] failed with "+qe.status+": "+Ge,{status:qe.status,error_type:ut==null?void 0:ut.error_type});return ut},j=(ue,ve)=>(0,p.SN)("/api/upper/web_v1/basics/"+ue,{...ve}),R=async()=>{let ue=[];try{const ve=await(0,p.DE)("/api/library/v4/recent_keywords");ve!=null&&ve.keywords&&(ue=ve==null?void 0:ve.keywords)}catch(ve){(0,d.$r)()}return ue},ae=()=>(0,p.sM)("/api/library/v4/recent_keywords"),Y=ue=>(0,p.Ds)("/api/library/v4/recent_keywords",{keyword:ue}),pe=async()=>{if((0,k.Z)())return U();{var ue;let ve;try{ve=await(0,p.DE)("/api/library/v3/project_upper/user_combo_groups")}catch(Le){return await(0,d.FY)(Le),{}}return{userComboGroupList:(ue=ve)==null?void 0:ue.user_combo_groups}}},U=async()=>{var ue;let ve;try{ve=await(0,p.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+MB.user.solo_org.cid)}catch(Le){return await(0,d.FY)(Le),{}}return{userComboGroupList:(ue=ve)==null?void 0:ue.org_combo_groups}},$=async ue=>{var ve;let{orgCid:Le}=ue,Ge;try{Ge=await(0,p.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+Le)}catch(qe){return await(0,d.FY)(qe),{}}return{orgComboGroupList:(ve=Ge)==null?void 0:ve.org_combo_groups}},V=async ue=>{const{icon_group:ve,market_template:Le}=await(0,s.Yk)(ue.cid),{source:Ge,title:qe}=ve||{},ut=await(0,p.DE)(Ge),It=M.I1[qe]||qe||"svg",{iconGroupData:Ft}=(0,M.u2)(ut,It);return{iconGroupData:Ft,marketTemplate:Le}},_=async()=>{const ue=MB.user.solo_org.cid;try{const{asset_groups:ve=[],assets:Le}=await(0,p.Yo)("/api/library/v6/asset_groups?org_cid="+ue);return{userAssetGroupList:ve,userAssets:Le}}catch(ve){return(0,d.$r)(),{userAssetGroupList:[],userAssets:[]}}},C=async function(ue){ue===void 0&&(ue="");const ve=ue||MB.currentOrg.cid;try{const{asset_groups:Le,assets:Ge}=await(0,p.Yo)("/api/library/v6/asset_groups?org_cid="+ve);return{orgAssetGroupList:Le,orgAssets:Ge}}catch(Le){return(0,d.$r)(),{orgAssetGroupList:[],orgAssets:[]}}},y=async ue=>{if((0,k.Z)())return x(ue);try{const{asset:ve,user_asset:Le}=await(0,p.B7)("/api/library/v3/asset_data/me/search_by_url",{image_url:ue});return{asset:ve,user_asset:Le}}catch(ve){await(0,d.FY)(ve)}},x=async ue=>{const ve=MB.user.solo_org.cid;try{const{asset:Le,flat_asset:Ge}=await(0,p.B7)("/api/library/v6/assets/search_by_url",{image_url:ue,org_cid:ve});return{asset:Le,user_asset:Ge}}catch(Le){await(0,d.FY)(Le)}},g=async(ue,ve)=>{try{const{asset:Le,flat_asset:Ge}=await(0,p.B7)("/api/library/v6/assets/search_by_url",{image_url:ue,org_cid:ve});return{asset:Le,org_asset:Ge}}catch(Le){await(0,d.FY)(Le)}},v=async ue=>{if((0,k.Z)())return N(ue);try{const{user_asset_group:ve}=await(0,p.uP)("/api/library/v4/users/asset_groups/"+ue.cid,{...ue});return{user_asset_group:ve}}catch(ve){await(0,d.FY)(ve)}},b=async(ue,ve)=>{const{name:Le,parentCid:Ge=null,position:qe}=ve,{asset_group:ut}=await(0,p.zi)("/api/library/v6/asset_groups",{org_cid:ue,name:Le,parent_cid:Ge,position:qe});return{asset_group:ut}},N=async ue=>{const{cid:ve,name:Le,parent_cid:Ge,position:qe}=ue;try{const{asset_group:ut}=await(0,p.uP)("/api/library/v6/asset_groups/"+ve,{name:Le,parent_cid:Ge,position:qe});return{user_asset_group:ut}}catch(ut){await(0,d.FY)(ut)}},D=async ue=>{const{cid:ve,name:Le,parent_cid:Ge,position:qe}=ue;try{const{asset_group:ut}=await(0,p.uP)("/api/library/v6/asset_groups/"+ve,{name:Le,parent_cid:Ge,position:qe});return{org_asset_group:ut}}catch(ut){await(0,d.FY)(ut)}},c=async ue=>{if((0,k.Z)())return oe(ue);try{return await(0,p.uP)("/api/library/v3/asset_data/me/assets/"+ue.asset_cid,{...ue})}catch(ve){await(0,d.FY)(ve)}},G=async ue=>(await(0,p.SN)("/api/library/v6/asset_groups/",{asset_groups:ue})).asset_groups,W=async(ue,ve)=>{const{name:Le,groupCid:Ge}=ve;return await(0,p.SN)("/api/library/v6/assets",{cids:ue,name:Le,group_cid:Ge})},oe=async ue=>{try{return await(0,p.uP)("/api/library/v6/assets",{...ue})}catch(ve){await(0,d.FY)(ve)}},f=async ue=>{let{cids:ve,...Le}=ue;try{return await(0,p.uP)("/api/library/v6/assets",{cids:ve,...Le})}catch(Ge){await(0,d.FY)(Ge)}},A=async ue=>{let{assetCid:ve,name:Le,groupCid:Ge}=ue;if((0,k.Z)())return te({assetCid:ve,name:Le,groupCid:Ge});try{await(0,p.B7)("/api/library/v3/asset_data/me/assets",{cid,name:Le,group_cid:Ge})}catch(qe){await(0,d.FY)(qe)}},te=async ue=>{let{assetCid:ve,name:Le,groupCid:Ge}=ue;try{await(0,p.B7)("/api/library/v6/assets",{asset_cid:[ve],name:Le,group_cid:Ge})}catch(qe){await(0,d.FY)(qe)}},le=async ue=>{let{assetCid:ve,name:Le,groupCid:Ge}=ue;try{const qe=await(0,p.B7)("/api/library/v6/assets",{asset_cid:[ve],name:Le,group_cid:Ge});return qe==null?void 0:qe.cid}catch(qe){await(0,d.FY)(qe)}},ie=async ue=>{let{org_cid:ve,name:Le,group_cid:Ge}=ue;if((0,k.Z)())return q({org_cid:ve,name:Le,group_cid:Ge});try{return(0,p.B7)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid,org_cid:ve,org_asset_group_cid})}catch(qe){await(0,d.FY)(qe)}},q=async ue=>{let{org_cid:ve,name:Le,group_cid:Ge}=ue;try{return(0,p.B7)("/api/library/v6/asset_groups",{org_cid:ve,name:Le,parent_cid:null,group_cid:Ge,position:-99})}catch(qe){await(0,d.FY)(qe)}},we=async ue=>{(0,k.Z)()?await Fe(ue):await(0,p.sM)("/api/library/v3/asset_data/me/assets/"+ue.cid)},Fe=async ue=>{await(0,X.uz)("/api/library/v6/assets",{cids:[ue.cid]})},Ve=async ue=>{await(0,X.uz)("/api/library/v6/assets",{cids:[ue.cid]})},Ee=async ue=>{(0,k.Z)()?await je(ue):await(0,p.sM)("/api/library/v3/asset_data/me/asset_groups/"+ue)},je=async ue=>{await(0,p.sM)("/api/library/v6/asset_groups/"+ue)},tt=async ue=>{await(0,p.sM)("/api/library/v6/asset_groups/"+ue)},Oe=ue=>(0,p.iv)("/preferences/update",{...ue}),J=async(ue,ve)=>{if((0,k.Z)())return Z(ue,ve);try{return await(0,p.uP)("/api/library/v4/users/asset_groups/"+ue,{...ve})}catch(Le){await(0,d.FY)(Le)}},Z=async(ue,ve)=>{const Le=MB.user.solo_org.cid;try{return await(0,p.uP)("/api/library/v6/asset_groups/"+ue,{...ve,org_cid:Le})}catch(Ge){await(0,d.FY)(Ge)}},me=ue=>async(ve,Le)=>{try{const Ge={...Le,org_cid:ue};return await(0,p.uP)("/api/library/v6/asset_groups/"+ve,{...Ge})}catch(Ge){await(0,d.FY)(Ge)}},Ce=async(ue,ve)=>{let Le=null;try{const Ge=await(0,p.Yo)("/api/community/v1/workspace?category="+ue+"&plabel="+ve);Ge!=null&&Ge.market_templates&&(Le=Ge==null?void 0:Ge.market_templates)}catch(Ge){(0,d.$r)()}return Le},ke=async(ue,ve)=>{let Le=null,Ge=null;try{const qe=await(0,p.DE)("/flpak/ww-p2wsearch?"+ue);if(qe!=null&&qe.data){const ut=qe.data,{user_flat_assets:It,user_flat_asset_groups:Ft,org_flat_assets:Gt,org_flat_asset_groups:Zt}=ut.asset||{};return Le={...ut,asset:{user_assets:It,user_asset_groups:Ft,org_assets:Gt,org_asset_groups:Zt}},Ge=qe.p2mMMap,{data:Le,p2mMMap:Ge}}}catch(qe){(0,d.$r)({onClick:ut=>ut({type:"entry:search-panel:search:from:keyword",payload:{from:ve}})})}},Ye=async ue=>{let ve=null;try{const Le=await(0,p.DE)("/flpak/ww-p2meta/"+ue);Le!=null&&Le.length&&(ve=Le)}catch(Le){(0,d.$r)()}return ve},Me=async ue=>{let{currentComboPanel:ve,projectMetaCid:Le}=ue;try{await(0,p.zi)("/flpak/ww-migrate-"+ve+"-combo-group/"+Le+"?mode=normal")}catch(Ge){await(0,d.FY)(Ge)}},Ie=async ue=>{let{projectBasicCid:ve}=ue;try{const{userId:Le,flatKey:Ge}=await(0,p.DE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+ve);return{userId:Le,flatKey:Ge}}catch(Le){await(0,d.FY)(Le)}},Je=async ue=>{let{projectBasicCid:ve,accessToken:Le,password:Ge}=ue;try{const{userId:qe,flatKey:ut}=await(0,p.DE)("/api/flat/web_v1/proj2-preview-info?prj2Cid="+ve+"&access_token="+Le+"&password="+Ge);return{userId:qe,flatKey:ut}}catch(qe){await(0,d.FY)(qe)}},st=ue=>(0,p.DE)("/api/dsh2/web_v1/org_entry/"+ue),yt=async ue=>{const{project:ve}=await(0,p.DE)("/api/dashboard/v5/projects/"+ue);return ve},xt=async(ue,ve)=>{await(0,p.SN)("/api/dashboard/v5/projects/"+ue+"/cover",{project:ve})},bt=async ue=>(0,p.DE)("/api/upper/web_v1/basics/statstics/"+ue),wt=async()=>{try{const{result:ue}=await(0,p.DE)("/api/community/v1/community/scene_tag_labels?label_type=combo_group");return ue}catch(ue){console.log(ue)}},i=async ue=>{try{const{stickers:ve}=await(0,p.zi)("/api/community/v1/sticker_search_es",{q:ue,page:1,page_size:200});return ve}catch(ve){return console.log(ve),[]}}},52781:(Ne,de,n)=>{"use strict";if(n.d(de,{$r:()=>R,$z:()=>H,Aq:()=>ae,Cp:()=>U,Jv:()=>_,PJ:()=>y,Uy:()=>j,Wu:()=>k,X:()=>P,Yk:()=>T,ZF:()=>V,a3:()=>X,je:()=>C,rd:()=>$}),n.j!=15)var s=n(46795);var p=n(72907),M=n(81811);const d=300,k=async function(x){x===void 0&&(x="");const g=1;let v=[];try{const b=await(0,s.Yo)("/api/community/v1/workspace/my_star?page="+g+(x&&"&category="+x)+"&page_size="+d);b&&(v=b==null?void 0:b.market_templates.filter(N=>(N==null?void 0:N.version)!=="v1"))}catch(b){(0,p.$r)()}return v.map(b=>({...b,is_star:!0}))},X=async x=>{await(0,s.Ds)("/api/community/v1/market_template/star/"+x)},H=async x=>{await(0,s.DW)("/api/community/v1/market_template/star/"+x)},T=async function(x,g){g===void 0&&(g=!0);let v;try{v=await(0,s.DE)("/api/community/v1/market_template/"+x)}catch(b){g&&(0,p.ai)(b)}return v},P=function(x){return x===void 0&&(x=""),(0,s.rh)("/api/community/v1/market_template?is_from_workspace=true&page="+1+x+"&page_size="+d)},j=async()=>{let x;try{x=await(0,s.DE)("/flpak/ww-p2recent")}catch(g){(0,p.$r)()}return x},R=async()=>{try{return await(0,s.DE)("/api/community/v1/hot_icons")}catch(x){(0,p.$r)()}},ae=async()=>{try{return await(0,s.DE)("/api/community/v1/hot_color_icons")}catch(x){(0,p.$r)()}},Y=x=>{let{category:g="combo_group",keyword:v=""}=x;return fetchGetJSON("/api/community/v1/es/basic_resource/search_"+g+"?q="+encodeURIComponent(v))},pe={screen_list:"screen",combo_group:"combo",icon_group:"icon",user_combo:"user_combo"},U=x=>{let{projectUpperType:g="",projectUpperCid:v="",itemCid:b=""}=x;return(0,s.Ds)("/api/community/v1/recent_template",{project_upper_type:pe[g]||g,project_upper_cid:v,item_cid:b})},$=async x=>{const{sdkStore:g}=await(0,M.O3)({flpakKey:x});return g},V=async function(x){x===void 0&&(x="mobile");try{return(await(0,s.DE)("/api/market_template/v4/workspace/new_page_types?platform="+x)).types}catch(g){return console.error(g),[]}},_=async function(x){x===void 0&&(x="mobile");try{return await(0,s.DE)("/api/community/v1/workspace/recommend_page?platform="+x)}catch(g){return(0,p.$r)({onClick:v=>v({type:"entry:resources:set:pagePanel:find:update:data",payload:{platformType:x,isReRequest:!0}})}),{}}},C=async x=>{let{platform:g,firstTypeCid:v,secondTypeCid:b=null}=x;const N={first_type_cid:v,second_type_cid:b,platform:g};let D=new URLSearchParams;D=Object.assign(D,N);for(const[c,G]of Object.entries(D))G?G==="default"?D.delete(c):D.set(c,G):D.delete(c);try{return await(0,s.DE)("/flpak/ww-p2pagemkt?"+D.toString())}catch(c){return(0,p.$r)({onClick:G=>G({type:"entry:resources:set:pagePanel:find:update:data",payload:{platformType:g,isReRequest:!0}})}),{}}},y=async()=>{try{const{color_icon_groups:x}=await(0,s.DE)("/api/community/v1/color_icon_groups");return x&&x.length>0?x.reduce((g,v)=>(g[v.source_upper_cid]=v,g),{}):{}}catch(x){return(0,p.$r)(),{}}}},15668:(Ne,de,n)=>{"use strict";n.d(de,{Oc:()=>k,Qi:()=>P,jf:()=>X,jn:()=>H,lV:()=>U,tA:()=>T,z9:()=>R});var s=n(51044),p=n(82152),M=n(7290),d=n(57464);const k=(0,s.memo)($=>{let{type:V="linear",className:_,disabled:C=!1,size:y="common",corner:x="smooth",forceTheme:g,children:v,onClick:b}=$;return(0,d.jsx)(p.Yr,{type:V,className:_,disabled:C,size:y,corner:x,forceTheme:g,onClick:b,children:v})}),X=n.j!=15?(0,s.memo)($=>{let{type:V="linear",className:_,disabled:C=!1,size:y="common",corner:x="smooth",icon:g,children:v,forceTheme:b,onClick:N}=$;return(0,d.jsx)(p.hE,{type:V,className:_,disabled:C,size:y,corner:x,icon:g,forceTheme:b,onClick:N,children:v})}):null,H=(0,s.memo)($=>{let{className:V,children:_,disabled:C=!1,onClick:y}=$;return(0,d.jsx)(p.Yr,{type:"primary",size:"common",className:V,disabled:C,onClick:y,children:_})}),T=$=>{let{className:V,children:_,disabled:C=!1,onClick:y}=$;return(0,d.jsx)(p.Yr,{type:"secondary",size:"common",className:V,disabled:C,onClick:y,children:_})},P=(0,s.memo)($=>{let{className:V,children:_,disabled:C=!1,onClick:y}=$;return(0,d.jsx)(p.Yr,{type:"danger",size:"common",className:V,disabled:C,onClick:y,children:_})}),j=null,R=n.j!=15?(0,s.memo)($=>{let{className:V,children:_,disabled:C=!1,onClick:y}=$;return(0,d.jsx)(p.Yr,{type:"link",className:V,disabled:C,onClick:y,children:_})}):null,ae=null,Y=null,pe=null,U=n.j!=15?(0,s.memo)($=>{let{className:V,isLoading:_=!1,children:C,disabled:y=!1,corner:x="soft",onClick:g}=$;return(0,d.jsx)(p.hE,{type:"secondary",size:"tiny",corner:x,className:V,icon:_?(0,d.jsx)(M.C,{name:"general/loading",className:"btn-loading"}):null,disabled:y,onClick:g,children:C})}):null},82152:(Ne,de,n)=>{"use strict";n.d(de,{Yr:()=>H,hE:()=>T,in:()=>X});var s=n(21676),p=n(93839),M=n(15388),d=n(54909);const k=(P,j)=>{const R=P.forceTheme;return R?d.f[j]["value_"+R]:P.theme[j]},X=(0,s.AH)(["line-height:18px;&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid ",";}&[class*='is-disabled']{color:",";background:",";border:1px solid ",";}}&[class*='type-danger']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-text']{color:",";background:transparent;border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:transparent;border:1px solid transparent;}}&[class*='size-tiny']{max-height:28px;font-size:12px;line-height:14px;padding:6px 8px;.btn-icon-text-container{min-width:46px;}}&[class*='size-common']{max-height:32px;font-size:13px;padding:6px 10px;.btn-icon-text-container{min-width:58px;}}&[class*='size-medium']{max-height:32px;font-size:13px;padding:6px 12px;.btn-icon-text-container{min-width:70px;}}&[class*='is-disabled']{opacity:1;}"],P=>k(P,"color_text_btn"),P=>k(P,"color_btn_primary_normal"),P=>k(P,"color_btn_primary_hover"),P=>k(P,"color_btn_primary_clicked"),P=>k(P,"color_text_disabled02"),P=>k(P,"color_btn_primary_disabled"),P=>k(P,"color_text_L1"),P=>k(P,"color_bg_white"),P=>k(P,"color_bg_border_02"),P=>k(P,"color_btn_secondary_hover"),P=>k(P,"color_bg_border_02"),P=>k(P,"color_btn_secondary_active"),P=>k(P,"color_bg_border_02"),P=>k(P,"color_text_disabled01"),P=>k(P,"color_bg_white"),P=>k(P,"color_bg_border_02"),P=>k(P,"color_text_btn"),P=>k(P,"color_btn_danger_normal"),P=>k(P,"color_btn_danger_hover"),P=>k(P,"color_btn_danger_clicked"),P=>k(P,"color_text_disabled02"),P=>k(P,"color_btn_danger_disabled"),P=>k(P,"color_text_L1"),P=>k(P,"color_btn_secondary_hover"),P=>k(P,"color_btn_secondary_active"),P=>k(P,"color_text_disabled01")),H=(0,s.Ay)(p.A).withConfig({displayName:"styles__StyledProtoButton",componentId:"sc-1pmgkeq-0"})(["",";"],X),T=(0,s.Ay)(M.A).withConfig({displayName:"styles__StyledProtoIconButton",componentId:"sc-1pmgkeq-1"})(["",";"],X)},60081:(Ne,de,n)=>{"use strict";n.d(de,{s:()=>G,A:()=>D});var s=n(74059),p=n(51044),M=n(86634),d=n.n(M),k=n(67231),X=n.n(k),H=n(11334),T=n(19418),P=n(7775),j=n(7290),R=n(11777),ae=n(89535),Y=n(73773),pe=n(57465),U=n(21676),$=n(17084);const V=(0,U.DU)([".no-pointer-events{pointer-events:none;user-select:none;&.col-resize{cursor:",";}&.row-resize{cursor:",";}}"],$.M.ewResizeActive,$.M.nsResizeActive),_=U.Ay.label.withConfig({displayName:"styles__StyledInputNumber",componentId:"sc-1hqayf3-0"})(['position:relative;display:flex;justify-content:space-between;align-items:center;min-width:2em;border:1px solid transparent;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;height:28px;font-size:12px;border-radius:6px;overflow:hidden;.title{display:flex;align-items:center;justify-content:center;padding:0 3px 0 5px;width:max-content;height:100%;user-select:none;color:',";&.title-cursor{&.col-resize{cursor:",";}&.row-resize{cursor:",";}}}.left-title{padding:0 13px 0 0;}.normal-right{margin-left:","px;}input{color:",";width:100%;height:100%;margin-left:8px;cursor:default;}.text-align-right{text-align:right;padding-right:2px;}.suffix{position:absolute;top:0;display:flex;align-items:center;height:100%;pointer-events:none;user-select:none;width:100%;color:",";&::before{content:attr(data-value);display:inline-block;margin-right:0.125em;width:fit-content;overflow:hidden;opacity:0;}}.action{position:absolute;top:0;right:0;width:14px;height:100%;text-align:center;visibility:hidden;svg{height:4px;fill:currentColor;fill-rule:evenodd;}button{display:block;margin:0;padding:0;width:100%;height:50%;line-height:0;color:",";&.no-transition{transition:none;}&:hover{color:",";}&:active{color:",";}&[data-action=up] svg{margin:5px 0 2px;}&[data-action=down] svg{margin:2px 0 5px;}}&.caret{width:26px;svg{width:26px;height:26px;margin-right:0;color:",";}button{height:100%;}&.active{visibility:visible;}}}&.is-disabled{> *{color:",";cursor:not-allowed;}}&.is-readOnly{pointer-events:none;.action{visibility:hidden;}}&:hover:not(.has-menu):not(.is-disabled){border:1px solid ",";.action{visibility:visible;color:#c8cdd0;}}&.is-active:not(.has-menu):not(.is-disabled){border:1px solid ",";outline:1px solid ",";outline-offset:-2px;.action{&:not(.caret){visibility:visible;}}}&.is-active-title{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;cursor:pointer;}&.has-menu{border:1px solid transparent;input{width:calc(100% - 26px);border:1px solid transparent;border-radius:4px 0 0 4px;margin-left:0;padding-left:5px;}&:hover:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";svg.icon{color:",";}}}&:active:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";svg.icon{color:",";}}}&.is-active{overflow:visible;input{border:1px solid ",";outline:1px solid ",";position:relative;z-index:2;}.action.caret{visibility:visible;color:#c8cdd0;position:relative;z-index:1;svg.icon{color:",";}&:hover{background:",";border-radius:0 4px 4px 0;outline:1px solid ",";}}}}"],W=>W.theme.color_text_L3,$.M.ewResize,$.M.nsResize,W=>31-W.valueLength*6,W=>W.theme.color_text_L1,W=>W.theme.color_text_L2,W=>W.theme.color_text_L3,W=>W.theme.color_text_L2,W=>W.theme.color_text_L2,W=>W.theme.color_text_L3,W=>W.theme.color_text_disabled01,W=>W.theme.color_bg_border_02,W=>W.theme.color_proto,W=>W.theme.color_proto,W=>W.theme.color_proto,W=>W.theme.color_proto,W=>W.theme.color_bg_border_02,W=>W.theme.color_btn_secondary_hover,W=>W.theme.color_text_L1,W=>W.theme.color_bg_border_02,W=>W.theme.color_btn_secondary_active,W=>W.theme.color_text_L1,W=>W.theme.color_proto,W=>W.theme.color_proto,W=>W.theme.color_text_L1,W=>W.theme.color_btn_secondary_hover,W=>W.theme.color_bg_border_02);var C=n(57464);const y=500,x=30,g=(W,oe)=>Number(Number(W).toFixed(oe));function v(W,oe,f){return f===void 0&&(f=0),oe?W:g(W!==""&&X()(Number(W))?Number(W):"",f)}const b=function(W,oe){let{shiftKey:f,metaKey:A}=W;return oe===void 0&&(oe=1),f?oe*10:A?oe*100:oe},N=W=>{let{currentTarget:oe}=W;return setTimeout(()=>oe.select(),50)};class D extends p.PureComponent{constructor(oe){super(oe),(0,s.A)(this,"setElemRef",f=>this.$title=f),(0,s.A)(this,"setLabelRef",f=>this.$label=f),(0,s.A)(this,"setInputRef",f=>this.$input=f),(0,s.A)(this,"onChange",f=>{const{target:{value:A}}=f,{isEditing:te}=this.state;!te&&this.setState({isEditing:!0});const le=A.trim();this.setValue(le,f)}),(0,s.A)(this,"correctNumber",f=>{const{value:A,min:te,max:le,precision:ie,suffix:q,parser:we}=this.props,Fe=we(f,q),Ve=g(Math.min(Math.max(Fe,te),le),ie);return isNaN(Ve)?A:Ve}),(0,s.A)(this,"checkValidity",f=>/^\+$/.test(f)?this.canBePositive:/^-$/.test(f)?this.canBeNegative:f===""||isFinite(f)&&this.correctNumber(f)===Number(f)),(0,s.A)(this,"setValue",(f,A,te)=>{A.persist&&A.persist(),this.setState({value:f},te)}),(0,s.A)(this,"setConfirmedValue",(f,A)=>this.setValue(f,A,()=>this.onConfirm(A))),(0,s.A)(this,"onConfirm",f=>{const{attr:A,value:te,precision:le,onConfirm:ie,shouldCorrectOnConfirm:q,onlyPreview:we,fontSize:Fe,fontFamily:Ve,isWRichText:Ee}=this.props,{value:je}=this.state,tt=this.checkValidity(je);if(this.props.isDisabled||this.props.disabled)return;f.persist&&f.persist();const J=this.correctNumber(je),Z=isNaN(J)?te:J;let me=je===""?te:tt?/^[+-]$/.test(je)?0:we?Math.min(Math.max(Number(je),20),400):Number(je):J===g(je,le)?J:q?Z:te||Z;(!tt||je==="")&&Ee&&(me=(0,pe.qp)(Ve,Fe));const Ce=me;return this.setState({value:me,isEditing:!1},()=>ie(Ce,A,f,je))}),(0,s.A)(this,"focusOnInput",f=>{try{const A=f.currentTarget.closest("label").querySelector("input");setTimeout(()=>{A.focus()})}catch(A){console.error(A)}}),(0,s.A)(this,"onStep",async f=>{f.persist(),f.nativeEvent.stopPropagation(),this.handleBeforeChangeValue();const{parser:A,suffix:te}=this.props,{value:le}=this.state,ie=A(le,te),{action:q}=f.currentTarget.dataset,we=b(f,this.props.step)*(q==="up"?1:-1);await this.focusOnInput(f),this.setConfirmedValue(this.correctNumber(ie+we),f),Object.assign(this,{longPressedTimeout:setTimeout(()=>Object.assign(this,{steppingInterval:setInterval(()=>{const{parser:Fe,suffix:Ve}=this.props,{value:Ee}=this.state,je=Fe(Ee,Ve);this.setConfirmedValue(this.correctNumber(je+we),f)},x)}),y)})}),(0,s.A)(this,"onRelease",()=>{clearTimeout(this.longPressedTimeout),clearInterval(this.steppingInterval),this.handleAfterChangeValue()}),(0,s.A)(this,"onFocus",f=>{const{attr:A,dontSelectOnFocus:te,onFocus:le=te?void 0:N}=this.props;this.state.isActive||this.setActive(),le(f,A)}),(0,s.A)(this,"onKeyDown",f=>{const{key:A,currentTarget:te}=f,{disableKeyboardEvents:le}=this.props;if(le&&(A===Y._.ArrowUp||A===Y._.ArrowDown)){f.preventDefault();return}const ie=A===Y._.ArrowUp?"up":A===Y._.ArrowDown?"down":A===Y._.Enter?"enter":A===Y._.Tab?"tab":null,q=te instanceof Element&&te.matches("input");if(ie){if(f.persist&&f.persist(),ie!=="tab"&&f.preventDefault(),q&&ie==="tab")return this.setInactive(),this.setState({isEditing:!1}),this.onConfirm(f);if(q&&ie==="enter"){this.onConfirm(f),this.setInactive(),this.setState({isEditing:!1}),this.$input.blur();return}if(q){const{parser:we,suffix:Fe}=this.props,{value:Ve}=this.state,Ee=we(Ve,Fe),je=b(f,this.props.step)*(ie==="up"?1:-1);this.handleBeforeChangeValue(),this.setState({isEditing:!1}),this.setConfirmedValue(this.correctNumber(Ee+je),f)}}}),(0,s.A)(this,"setActive",()=>{this.setState({isActive:!0}),MB&&MB.f&&(MB.f.isInSetting=!0);const{withToolTip:f,onChangeTooltipsHover:A}=this.props;f&&(this.setState({showTooltip:!1}),A&&A(!1))}),(0,s.A)(this,"setInactive",()=>{this.setState({isActive:!1,isEditing:!1}),MB&&MB.f&&(MB.f.isInSetting=!1)}),(0,s.A)(this,"toggleMenu",()=>this.setState({isMenuOpen:!this.state.isMenuOpen})),(0,s.A)(this,"closeMenu",()=>this.setState({isMenuOpen:!1})),(0,s.A)(this,"onSelect",f=>{f.persist();const{attr:A,onConfirm:te}=this.props,{currentTarget:le}=f,{value:ie}=le.dataset;this.setState({value:ie,isEditing:!1},()=>te(ie,A,f)),this.setInactive(),this.closeMenu()}),(0,s.A)(this,"onClickOutside",f=>{const{target:A}=f,{onClickOutside:te}=this.props;te&&!(te!=null&&te(f))||A.closest("label")&&this.$label.contains(A)||A.closest(".SelectOption")||(this.onConfirm(f),this.setInactive(),this.setState({isEditing:!1}))}),(0,s.A)(this,"onBlur",async f=>{await this.onConfirm(f),this.setState({isEditing:!1}),this.props.onBlur(f)}),(0,s.A)(this,"handleRectResize",f=>{f.stopPropagation();const{isDisabled:A,disabled:te,cursorSize:le,cursorDirection:ie,onResizeMove:q,onResizeEnd:we,attr:Fe}=this.props;if(A||te)return;const{left:Ve,right:Ee,top:je,bottom:tt}=this.$title.getBoundingClientRect();this.lastRecordedClientX=le==="col-resize"?(Ve+Ee)/2:(je+tt)/2,this.lastRecordedValue=Number(this.state.value),this.setState({isTitleActive:!0}),document.querySelector("html").classList.add("no-pointer-events",le),sdkStore.combineMergeMark("input-number-"+Fe),this.handleBeforeChangeValue();const Oe=Z=>{q&&q();const me=(le==="col-resize"?Z.pageX:Z.pageY)-this.lastRecordedClientX,Ce=this.correctNumber(this.lastRecordedValue+(ie?Number(me):-Number(me)));this.setConfirmedValue(Ce,Z)},J=()=>{we&&we(),this.setState({isTitleActive:!1}),document.querySelector("html").classList.remove("no-pointer-events",le),this.handleAfterChangeValue(),sdkStore.combineMerge("input-number-"+Fe),document.removeEventListener("mousemove",Oe),document.removeEventListener("mouseup",J)};document.addEventListener("mousemove",Oe),document.addEventListener("mouseup",J)}),(0,s.A)(this,"handleChangeCursor",()=>{const{isDisabled:f,disabled:A}=this.props;f||A||this.setState({isCursor:!this.state.isCursor})}),(0,s.A)(this,"handleAfterChangeValue",()=>{const{onAfterChangeValue:f}=this.props;f()}),(0,s.A)(this,"handleBeforeChangeValue",()=>{const{onBeforeChangeValue:f}=this.props;f()}),(0,s.A)(this,"onInputNumberMouseEnter",f=>{const{onMouseEnter:A,withToolTip:te,onChangeTooltipsHover:le}=this.props;A(f),this.setState({mouseEntered:!0});const ie=()=>this.setState({showTooltip:!0});te&&(le?le(!0,ie):ie())}),(0,s.A)(this,"onInputNumberMouseLeave",f=>{const{onMouseLeave:A,withToolTip:te,onChangeTooltipsHover:le}=this.props;A(f),this.setState({mouseEntered:!1}),te&&(this.setState({showTooltip:!1}),le&&le(!1))}),this.state={prevProps:this.props,value:v(this.props.value,this.props.isNotVerify,this.props.precision),isActive:!1,isMenuOpen:!1,isTitleActive:!1,isCursor:!1,isEditing:!1,showTooltip:!1,mouseEntered:!1},this.lastRecordedClientX=null,this.lastRecordedValue=v(this.props.value,this.props.isNotVerify,this.props.precision),this.toolTipNode=document.getElementById("IBOT_TOOLTIP_ROOT")}static getDerivedStateFromProps(oe,f){let{prevProps:A,value:te}=f;return A.value!==oe.value||A.isNotVerify!==oe.isNotVerify||A.precision!==oe.precision?{prevProps:oe,value:v(oe.value,oe.isNotVerify,oe.precision)}:null}componentDidMount(){this.props.isSelect&&(this.$input.select(),this.setState({isActive:!0}))}componentDidUpdate(oe){!oe.isSelect&&this.props.isSelect&&this.$input.select()}get canBePositive(){return this.props.max>0}get canBeNegative(){return this.props.min<0}render(){const{inputClassName:oe,menuClassName:f,className:A="",placeholder:te,title:le,rightTitle:ie,cursorSize:q,suffix:we,actionButton:Fe,formatter:Ve,optionList:Ee,canSlidingAdjustment:je,readOnly:tt,toolTipContent:Oe,showCaretIcon:J,normalRight:Z,isLongTimeHoverForInput:me=!1}=this.props,{value:Ce,isActive:ke,isMenuOpen:Ye,isTitleActive:Me,isCursor:Ie,isEditing:Je,showTooltip:st,mouseEntered:yt}=this.state,xt=Ce,bt=this.props.isDisabled||this.props.disabled,wt=Ee&&Ee.length>0,i=d()(A,"WorkspaceInputNumber",{"is-disabled":bt,"is-active":ke&&!bt,"is-menu-open":Ye,"is-active-title":Me,"can-sliding-adjustment":je,"has-menu":wt,"is-readOnly":tt}),ue=te,ve=String(Ce).split(".").join("").length-1,Le=me?R.A:ae.A;return(0,C.jsx)(Le,{content:Oe,direction:"down",children:(0,C.jsxs)(_,{className:i,ref:this.setLabelRef,onMouseDown:wt?void 0:this.setActive,onMouseEnter:this.onInputNumberMouseEnter,onMouseLeave:this.onInputNumberMouseLeave,valueLength:ve,children:[le&&(0,C.jsx)("span",{className:d()("title",{"title-cursor":Ie},q),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:le}),(0,C.jsx)("input",{className:d()(oe,{"text-align-right":Z&&!yt&&!ke}),type:"text",value:Je?xt:Ve(xt,we),placeholder:ue,ref:this.setInputRef,disabled:bt,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.handleAfterChangeValue,onMouseDown:wt?this.setActive:void 0,onFocus:this.onFocus,onBlur:this.onBlur}),ie&&(0,C.jsx)("span",{className:d()("title","left-title",{"title-cursor":Ie},q),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:ie}),Fe&&(0,C.jsx)(c,{hasMenu:wt,onToggleMenu:this.toggleMenu,onStep:this.onStep,onRelease:this.onRelease,showCaretIcon:J}),wt&&Ye&&(0,C.jsx)(P.V0,{isOpen:Ye,menuClassName:d()("SelectNumberMenu",f),$select:this.$label,optionList:Ee,value:xt,onChange:this.onSelect,onClose:this.closeMenu}),ke&&(0,C.jsx)(T.A,{target:document,onMouseDown:(0,T.t)(this.onClickOutside,{capture:!0})})]})})}}(0,s.A)(D,"defaultProps",{unstyled:!1,value:"",placeholder:"",cursorSize:"col-resize",inputClassName:"",menuClassName:"",cursorDirection:!0,step:1,isNotVerify:!1,formatter:(W,oe)=>""+W+(oe||""),parser:(W,oe)=>{const f=W.toString();return oe&&f.endsWith(oe)?Number(f.slice(0,f.length-oe.length)):Number(f)},min:0,max:1/0,isDisabled:!1,disabled:!1,readOnly:!1,actionButton:!0,isSelect:!1,onConfirm:()=>null,onMouseEnter:()=>null,onMouseLeave:()=>null,onAfterChangeValue:()=>null,onBeforeChangeValue:()=>null,onBlur:()=>null,shouldCorrectOnConfirm:!0,precision:0,dontSelectOnFocus:!1,canSlidingAdjustment:!0,isLineHeight:!1,disableKeyboardEvents:!1});const c=(0,p.memo)(W=>{let{hasMenu:oe,onToggleMenu:f,onStep:A,onRelease:te,showCaretIcon:le}=W;return(0,C.jsxs)(p.Fragment,{children:[oe?(0,C.jsx)("div",{className:d()("action caret",{active:le}),children:(0,C.jsx)(H.Ay,{className:"no-transition",type:"text",tabIndex:"-1",onClick:f,children:(0,C.jsx)(j.C,{name:"common/expand@26"})})}):(0,C.jsxs)("div",{className:"action",children:[(0,C.jsx)(H.Ay,{className:"no-transition",type:"text",tabIndex:"-1","data-action":"up",onMouseDown:A,onMouseLeave:te,onMouseUp:te,children:(0,C.jsx)(j.C,{name:"general/triangle_up"})}),(0,C.jsx)(H.Ay,{className:"no-transition",type:"text",tabIndex:"-1","data-action":"down",onMouseDown:A,onMouseLeave:te,onMouseUp:te,children:(0,C.jsx)(j.C,{name:"general/triangle_down"})})]}),(0,C.jsx)(V,{})]})}),G=W=>(0,C.jsx)(D,{...W,isLongTimeHoverForInput:!0})},46479:(Ne,de,n)=>{"use strict";n.d(de,{Os:()=>j,Tw:()=>R,ft:()=>ae});var s=n(51044),p=n(57464);const M="/mb-static/2308/loading.gif",d="/mb-static/2308/loading-mo.gif",k=(Y,pe)=>pe?"."+Y:Y,X=Y=>(0,p.jsx)("img",{className:Y.className,alt:"Loading...",src:k(Y.isMockitt?d:M,Y.isHtmlZip)}),H=Y=>(0,p.jsx)("img",{className:Y.className,alt:"Loading...",src:k(ENV.IS_WONDER_SHARE?d:M,Y.isHtmlZip)}),T=Y=>(0,p.jsx)("img",{className:Y.className,alt:"Loading...",src:k(d,Y.isHtmlZip)});var P=n(94947);const j=n.j!=15?(0,s.memo)(Y=>(0,p.jsx)(X,{...Y,isHtmlZip:(0,P.FM)()})):null,R=n.j!=15?(0,s.memo)(Y=>(0,p.jsx)(H,{...Y,isHtmlZip:(0,P.FM)()})):null,ae=(0,s.memo)(Y=>(0,p.jsx)(T,{...Y,isHtmlZip:(0,P.FM)()}))},54608:(Ne,de,n)=>{"use strict";n.d(de,{n:()=>j,A:()=>R});var s=n(51044),p=n(86634),M=n.n(p),d=n(7290),k=n(11777),X=n(21676);const H=X.Ay.ol.withConfig({displayName:"styles__StyledNewSlideNav",componentId:"sc-17e9w47-0"})(["display:flex;height:48px;.nav-label{position:relative;height:100%;padding:0 3px;display:flex;align-items:center;justify-content:center;white-space:nowrap;}.nav-item{position:relative;display:flex;flex:none;justify-content:center;align-items:center;color:",";padding:0 3px;cursor:pointer;.nav-underline{position:absolute;display:none;bottom:0;width:70%;border-bottom:2px solid ",";}&:lang(ja){font-size:10px;}&.active{color:",";&:not(:first-child:nth-last-child(1)){.nav-underline{display:inline;}}&.background_active{background-color:transparent;}&.line_active::after{content:'';position:absolute;bottom:0;width:30px;height:2px;background:",";}}&.disabled{color:",";cursor:not-allowed;}&:not(:first-child){}.tabNewIcon{position:absolute;width:30px;top:0;right:3px;path:first-child{fill:#1684fc;}path:last-child{fill:#fff;}}}.nav-item-small:lang(en){font-size:10px;}min-height:48px;padding:0 6px;.nav-item{font-size:13px;&.active{font-weight:bold;}}"],ae=>ae.theme.color_text_L3,ae=>ae.theme.color_text_L1,ae=>ae.theme.color_text_L1,ae=>ae.theme.color_text_L1,ae=>ae.theme.color_text_disabled01);var T=n(57464);const P=(0,s.memo)(ae=>{let{activeIndex:Y=0,className:pe,layoutV9:U="old",children:$,onTabChange:V}=ae;return(0,T.jsx)(H,{className:M()(pe),children:s.Children.map($,(_,C)=>{const y={index:C,active:C===Y,onClick:V};return s.cloneElement(_,y)})})}),j=(0,s.memo)(ae=>{let{className:Y,index:pe,active:U,onClick:$,label:V,tooltip:_,isNew:C,disabled:y,tempDisabled:x}=ae;const g=()=>{if(y)return x&&MB.notice({text:I18N.Common.feature_is_not_available,type:"warning"}),null;$(pe)},v=(0,T.jsxs)("li",{className:M()("nav-item",{active:U},{disabled:y},Y),onClick:g,children:[V&&(0,T.jsxs)("span",{className:"nav-label",children:[V,_&&_]}),C&&(0,T.jsx)(d.C,{name:"design/tab/new",className:"tabNewIcon"})]});return y?(0,T.jsx)(k.A,{content:"\u6682\u4E0D\u5F00\u653E",direction:"down",children:v}):v}),R=P},39719:(Ne,de,n)=>{"use strict";n.d(de,{eY:()=>g,At:()=>y,pU:()=>x,DV:()=>v,Ay:()=>C});var s=n(74059),p=n(51044);if(n.j!=15)var M=n(15336);var d=n(72605),k=n(21676);const X=(0,k.DU)(["div.notice-tips-container{z-index:9999;.notice-tips{min-height:38px;p{color:",";}:not(.pure-svg-icon).svg-icon{fill:",";}&.success{.tip-svg{path:nth-child(1){fill:",";}}}&.warning{.tip-svg{path:nth-child(1){fill:",";}}}&.error{.tip-svg{circle{fill:",";}}.button-a{cursor:pointer;}.button-p{margin-left:0;}}&.super{background-color:",";p{margin:0 16px 0 4px;}.times-icon{path{fill:",";}}}}}"],b=>b.theme.color_text_btn,b=>b.theme.color_text_btn,b=>b.theme.color_success,b=>b.theme.color_warning,b=>b.theme.color_error,b=>b.theme.color_error,b=>b.theme.color_text_btn);var H=n(43441),T=n(90503),P=n(37337);const j=k.Ay.div.withConfig({displayName:"styles__StyledNoticeTips",componentId:"sc-1ehf3rt-0"})([".notice-tips{width:100%;height:100%;min-height:38px;padding:8px 16px;display:flex;align-items:center;font-size:14px;color:",";box-shadow:0 2px 8px 0 rgba(0,0,0,0.05),0 4px 12px 0 rgba(0,0,0,0.15);border-radius:6px;p{margin:0 0 0 4px;}&.info{background-color:",";p{margin:0 4px;}a{margin-left:12px;color:#80BCFF;&:hover{color:#A6D2FF;}}}&.success{background:",";box-shadow:0 3px 6px -4px rgba(0,0,0,0.12),0 6px 16px rgba(0,0,0,0.08),0 9px 28px 8px rgba(0,0,0,0.05);border-radius:6px;}&.warning{background-color:",";}&.error{background-color:",";}&.super{background-color:",";}&.loading{background-color:",";.tip-svg{animation:design-ani-spinning 1s infinite linear;fill:rgb(69,70,71);}}@keyframes design-ani-spinning{0%{transform:rotate(0deg);}100%{transform:rotate(359deg);}}.times-icon{width:20px;display:flex;flex-shrink:0;opacity:1;cursor:pointer;transition:opacity 0.15s ease-out;margin-left:16px;align-self:center;&:hover{opacity:1;}}.tip-svg{width:20px;height:20px;}}a{text-decoration:underline;color:",";&:hover{color:",";}}.fade{&-enter{transform:translateY(-50%);opacity:0;}&-enter-active{opacity:1;transform:translateY(0);transition:all 0.15s ease-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity 0.25s ease-in-out;}&-exit-done{opacity:0;}}"],P.f.color_bg_white.value_light,P.f.color_btn_secondary_active.value_dark,P.f.color_btn_secondary_active.value_dark,P.f.color_btn_secondary_active.value_dark,P.f.color_btn_secondary_active.value_dark,P.f.color_error.value_light,P.f.color_btn_secondary_active.value_dark,P.f.color_text_link_normal.value_dark,P.f.color_text_link_hover.value_dark);var R=n(57464);const ae={success:"design/toast/success",error:"design/toast/error",warning:"design/toast/warning",super:"design/toast/offline",loading:"design/toast/loading"};class Y extends p.PureComponent{render(){const{isShow:N,type:D,text:c,showClose:G,isReactDom:W,CustomChildComponent:oe,svgName:f,onDisappear:A}=this.props;return(0,R.jsx)(j,{children:(0,R.jsx)(H.A,{in:N,timeout:2500,classNames:"fade",unmountOnExit:!0,children:(0,R.jsxs)("div",{className:"notice-tips "+D,children:[f&&(0,R.jsx)(T.C,{name:f,className:"tip-svg",isColorPure:!0}),!f&&D&&ae[D]&&(0,R.jsx)(T.C,{name:ae[D],className:"tip-svg",isColorPure:!0}),(0,R.jsxs)(p.Fragment,{children:[W?c:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("p",{dangerouslySetInnerHTML:{__html:c}}),(typeof oe=="function"||typeof oe=="object")&&(0,R.jsx)(oe,{})]}),G&&(0,R.jsx)(T.C,{className:"times-icon",name:"general/times",onClick:A})]})]})})})}}(0,s.A)(Y,"defaultProps",{isShow:!1,type:"info",showClose:!1,isReactDom:!1,svgName:""});const pe=k.Ay.div.withConfig({displayName:"styles__StyledNoticeTipsContainer",componentId:"sc-1ewb7bf-0"})(["position:fixed;left:50%;top:56px;max-width:480px;transform:translateX(-50%);z-index:1052;"]);var U=n(60185);class $ extends p.PureComponent{constructor(N){super(N),(0,s.A)(this,"timerId",null),(0,s.A)(this,"handleDisappear",()=>{typeof this.props.closeCallback=="function"&&this.props.closeCallback()}),this.el=document.createElement("div")}componentDidMount(){document.body.appendChild(this.el),this.props.isShow&&this.updateTimer()}componentDidUpdate(N,D,c){const{isShow:G,id:W}=this.props,{isShow:oe,id:f}=N;(W!==f&&G||G&&G!==oe)&&this.updateTimer()}updateTimer(){this.timerId&&clearTimeout(this.timerId);const{duration:N}=this.props;this.timerId=N&&setTimeout(this.handleDisappear,N)}componentWillUnmount(){document.body.removeChild(this.el),this.timerId&&clearTimeout(this.timerId)}render(){const{isShow:N,type:D,text:c,showClose:G,isReactDom:W,CustomChildComponent:oe,svgName:f,className:A}=this.props;return(0,U.createPortal)(N&&(0,R.jsx)(pe,{className:A,children:(0,R.jsx)(Y,{isShow:N,type:D,showClose:G,onDisappear:this.handleDisappear,isReactDom:W,text:c,CustomChildComponent:oe,svgName:f})}),this.el)}}(0,s.A)($,"defaultProps",{text:"",isShow:!1,type:"info",showClose:!1,isReactDom:!1,CustomChildComponent:void 0,svgName:"",id:"",duration:2e3,closeCallback:()=>null});const V=$,_={isShow:!1,text:"",type:"info",showClose:!1,isReactDom:!1,CustomChildComponent:void 0,svgName:"",duration:2e3,id:""};class C extends p.PureComponent{constructor(N){super(N),(0,s.A)(this,"closeCallback",null),(0,s.A)(this,"handleDisappear",()=>{this.setState({isShow:!1}),typeof this.closeCallback=="function"&&this.closeCallback(),this.priority=0}),this.state=_,this.priority=0}componentDidMount(){MB.notice=N=>{let{text:D,type:c="info",CustomChildComponent:G=void 0,duration:W=2e3,showClose:oe=!1,isReactDom:f=!1,closeCallback:A=null,priority:te=0,svgName:le="",id:ie=Math.random().toString(36).slice(2),isShow:q=!0}=N;this.priority>te||(clearTimeout(this.timer),this.setState({isShow:q,text:D,type:c,showClose:oe,id:ie,isReactDom:f,CustomChildComponent:G,svgName:le,duration:W}),this.closeCallback=A,this.priority=te)}}componentWillUnmount(){this.setState({isShow:!1})}render(){const{isShow:N,type:D,duration:c,text:G,showClose:W,id:oe,isReactDom:f,CustomChildComponent:A,svgName:te}=this.state;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(V,{className:"notice-tips-container",isShow:N,type:D,text:G,id:oe,duration:c,showClose:W,isReactDom:f,CustomChildComponent:A,svgName:te,closeCallback:this.handleDisappear}),(0,R.jsx)(X,{})]})}}const y=b=>(0,p.memo)(()=>{const N=()=>(0,M.JW)("/hc/articles/393","_blank","noreferrer");return(0,R.jsx)("a",{style:{cursor:"pointer"},onClick:N,children:b})}),x=n.j!=15?(0,p.memo)(()=>{const b=(0,d.wA)(),N=()=>b({type:"toolbar:sharingManager:open"});return(0,R.jsx)("a",{onClick:N,children:I18N.ScreenPanel.share_panel})}):null,g=b=>(0,p.memo)(()=>{const N=()=>(0,M.JW)(I18N.link.link_article_business_font_state,"_blank","noreferrer");return(0,R.jsx)("a",{className:"button-a",onClick:N,children:b})}),v=b=>{let{onClick:N}=b;return(0,p.memo)(()=>{const D=(0,d.wA)(),c=()=>{N&&N(D)};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("a",{className:"button-a",onClick:c,children:I18N.dModule.network_api_error_2}),(0,R.jsx)("p",{className:"button-p",children:I18N.dModule.network_api_error_3})]})})}},3895:(Ne,de,n)=>{"use strict";n.d(de,{FU:()=>d,OO:()=>H,Z8:()=>p,au:()=>X,lY:()=>k,p_:()=>M,zB:()=>s});const s={OWNER:1e4,SUPERMANAGER:9999,MANAGER:999,MEMBER:99,LIMITER:10,VIEWER:9,BANNED:1,UNKNOWN:0,UNJOINED:-1},p={space_owner:16,space_manager:15,space_member:14,space_viewer:13,space_limiter:12,team_owner:11,team_manager:10,team_member:9,team_viewer:8,project_owner:6,project_manager:5,project_member:4,project_viewer:3,project_ban_viewer:2,project_team_owner:1,team_ban_viewer:1},M={org_owner:s.OWNER,org_manager:s.SUPERMANAGER,org_admin:s.MANAGER,org_member:s.MEMBER,org_viewer:s.VIEWER},d={space_owner:s.MANAGER,space_manager:s.MANAGER,space_member:s.MEMBER,space_viewer:s.VIEWER,space_limiter:s.LIMITER},k={team_owner:s.MANAGER,team_manager:s.MANAGER,team_member:s.MEMBER,team_viewer:s.VIEWER,team_none:s.VIEWER,team_ban_viewer:s.BANNED},X=Object.assign({project_owner:s.MANAGER,project_team_owner:s.MANAGER,project_manager:s.MANAGER,project_member:s.MEMBER,project_viewer:s.VIEWER,project_none:s.VIEWER,project_ban_viewer:s.BANNED},k),H={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},T={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",team_none:"team_viewer",team_owner:"team_manager"}},96510:(Ne,de,n)=>{"use strict";n.d(de,{s:()=>R});var s=n(46795);const p=async(ae,Y)=>{const{project:pe}=await(0,s.zi)("/api/dashboard/v5/projects/"+ae+"/invite",Y);return pe},M=async(ae,Y)=>(0,s.SN)("/api/dashboard/v5/permissions/projects/"+ae,Y),d=async(ae,Y)=>{await(0,s.uz)("/api/dashboard/v5/permissions/projects/"+ae,Y)};var k=n(15573),X=n(61654),H=n(50378);const T=async(ae,Y)=>await(0,s.DE)("/api/dashboard/v5/spaces/"+ae+"?org_cid="+Y),P={project_manager:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u7BA1\u7406\u5458\u300D",project_member:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u53EF\u7F16\u8F91\u300D",project_viewer:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u4EC5\u67E5\u770B\u300D",project_ban_viewer:"\u7684\u6743\u9650\u53D8\u66F4\u4E3A\u300C\u7981\u6B62\u67E5\u770B\u300D"};let j=function(ae){return ae.Org="org",ae.OrgSpace="space",ae.Folder="folder",ae.Project="project",ae}({});const R={"entry:projectAccess:initProjectData":async(ae,Y)=>{let{getState:pe,dispatch:U}=ae,{payload:$}=Y;try{const{initData:V,members:_}=$,C=V==null?void 0:V.org,{user:y,space:x,project:g,team:v,top_parent_team:b,lang:N}=V||{},D=new Map,c=new Map;return D.set(v==null?void 0:v.cid,v),D.set(b==null?void 0:b.cid,b),v!=null&&v.parent_cid&&(v==null?void 0:v.parent_cid)!==b.cid&&D.set(v==null?void 0:v.parent_cid,b),c.set(g==null?void 0:g.cid,g),U({type:H.X2.UpdateState,payload:{user:y,org:{...C,members:_},space:x,folderListMap:D,projectListMap:c,lang:N}}),!0}catch(V){return console.error(V.message),!1}},"entry:projectAccess:inviteOrgMemberToProject":async(ae,Y)=>{let{getState:pe,dispatch:U}=ae,{payload:$}=Y;const{projectCid:V,userCid:_,roleName:C,userName:y}=$;if(!V||!_)return;const x=pe(),g=(0,X.IE)(x),v=(0,X.M0)(x),b=(0,X._B)(x);try{const N=await p(V,{user_cid:_,role:C}),{space:D}=await T(v,g);b.set(N.cid,N),await U({type:H.X2.UpdateProjectListMap,payload:new Map(b)}),await U({type:H.X2.UpdateSpace,payload:D}),window.top.postMessage({type:"updateApp",data:{newApp:(0,k.A)(N)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:y,other:P[C]}}},"*")}catch(N){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:updateMemberProjectPermission":async(ae,Y)=>{let{getState:pe,dispatch:U}=ae,{payload:$}=Y;const{projectCid:V,userId:_,roleName:C,userName:y}=$,x=pe();try{const{permission:g}=await M(V,{target_role:C,target_user_id:_}),v=(0,X._B)(x),b=v.get(V),N=(b==null?void 0:b.permissions)||[],D=N.find(W=>Number(W.user_id)===Number(_));let c=[];D?c=N.map(W=>Number(W.user_id)===Number(_)?g:W):c=[...N,g];const G={...b,permissions:c};v.set(V,G),await U({type:H.X2.UpdateProjectListMap,payload:new Map(v)}),window.top.postMessage({type:"updateApp",data:{newApp:(0,k.A)(G)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:y,other:P[C]}}},"*")}catch(g){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:removeProjectMemberPermission":async(ae,Y)=>{let{getState:pe,dispatch:U}=ae,{payload:$}=Y;const{projectCid:V,userId:_,roleName:C,userName:y}=$,x=pe();try{await d(V,{target_role:C,target_user_id:_});const g=(0,X._B)(x),v=g.get(V),b=(v==null?void 0:v.permissions)||[];if(b.find(D=>Number(D.user_id)===Number(_))){const D=b.filter(G=>Number(G.user_id)!==Number(_)),c={...v,permissions:D};g.set(V,c),await U({type:H.X2.UpdateProjectListMap,payload:new Map(g)}),window.top.postMessage({type:"successMsg",data:{msg:{name:y,other:"\u7684\u6743\u9650\u5DF2\u79FB\u9664"}}},"*"),window.top.postMessage({type:"updateApp",data:{newApp:(0,k.A)(c)}},"*")}}catch(g){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}}}},50378:(Ne,de,n)=>{"use strict";n.d(de,{Ay:()=>d,X2:()=>p});const s={user:{id:0,user_id:"",user_cid:"",email:"",is_viewer:!1,name:"",mobile:null,avatar:""},org:{name:"",cid:"",logo:null,spaces:[],plan:"",trial_end_on:null,next_billing_on:"",settings:{},permissions:[],limitation:{is_export_watermark:!1,is_org_quit_transfer:!0,is_org_recent:!0,max_mkt_count:0,max_org_log_days:0,max_pic_bytes:0,max_project_count:0,max_project_share_count:0,max_project_template_count:0,max_project_version_count:0,max_recycler_days:0,max_screen_count:0,storage:0},members:[]},space:{cid:"",created_at:"",deleted:!1,name:"",org_cid:"",permissions:[],space_type:"",updated_at:"",user_id:0,is_disable_banned_viewer:!0},folderListMap:new Map,projectListMap:new Map,lang:"zh-CN"};let p=function(k){return k.UpdateState="reducer:update:user",k.UpdateUser="reducer:update:user",k.UpdateOrg="reducer:update:org",k.UpdateSpace="reducer:update:space",k.UpdateFolderListMap="reducer:update:folderListMap",k.UpdateProjectListMap="reducer:update:projectListMap",k}({});const d=function(k,X){k===void 0&&(k=s);const{type:H,payload:T}=X;switch(H){case p.UpdateState:return{...k,...T};case p.UpdateUser:return{...k,user:{...k.user,...T}};case p.UpdateOrg:return{...k,org:{...k.org,...T}};case p.UpdateSpace:return{...k,space:{...k.space,...T}};case p.UpdateFolderListMap:return{...k,folderListMap:T};case p.UpdateProjectListMap:return{...k,projectListMap:T};default:return k}}},61654:(Ne,de,n)=>{"use strict";n.d(de,{IE:()=>X,M0:()=>j,WR:()=>d,XW:()=>ae,_B:()=>Y,cb:()=>pe,hG:()=>V,iF:()=>R,il:()=>P,kG:()=>T,oV:()=>$,q7:()=>C,wA:()=>k,yZ:()=>U});var s=n(63686),p=n(59318),M=n(37673);const d=y=>{var x;return(x=y.projectAccess.user)==null?void 0:x.user_id},k=y=>y.projectAccess.org,X=y=>{var x;return((x=y.projectAccess.org)==null?void 0:x.cid)||""},H=y=>{var x;return((x=y.projectAccess.org)==null?void 0:x.members)||[]},T=y=>{var x;return((x=y.projectAccess.org)==null?void 0:x.permissions)||[]},P=y=>y.projectAccess.space,j=y=>y.projectAccess.space.cid,R=y=>y.projectAccess.space.permissions||[],ae=y=>y.projectAccess.folderListMap||new Map,Y=y=>y.projectAccess.projectListMap||new Map,pe=(0,s.Mz)(d,T,(y,x)=>(0,p.oE)({userId:y,orgPermissions:x})),U=(0,s.Mz)(d,R,(y,x)=>(0,p.sq)({userId:y,spacePermissions:x})),$=(0,s.Mz)(R,y=>{const x=(0,p.Rc)(y);return y.reduce((g,v)=>{const{user_id:b}=v,N=(0,p.CF)({userId:b,permissionsMap:x,permissionScope:M.W.OrgSpace});return g.set(Number(b),N)},new Map)}),V=(0,s.Mz)(R,y=>y.filter(g=>g.role==="space_limiter").reduce((g,v)=>{const{user_id:b}=v;return g.set(Number(b),v)},new Map)),_=(0,s.Mz)(H,y=>y.reduce((x,g)=>{const{user_id:v,user_cid:b,email:N,mobile:D}=g;return v&&b?x.set(Number(v)||v,{...g}):(N&&x.set(N,{...g}),D&&x.set(D,{...g}),x)},new Map)),C=(0,s.Mz)(T,_,(y,x)=>y.reduce((g,v)=>{const{user_id:b,unsign_remark:N}=v,D=b||N,c=x.get(D)||{},G=(0,p.Sc)(v);return g.set(D,{...c,permission:G})},new Map))},37673:(Ne,de,n)=>{"use strict";n.d(de,{W:()=>s,p:()=>p});let s=function(M){return M.Org="org",M.OrgSpace="space",M.Folder="folder",M.Project="project",M}({}),p=function(M){return M.OrgSpace="orgspace-permission-tip",M.OrgSpaceLimiter="orgspace-limiter-permission-tip",M.RootFolder="root-folder-permission-tip",M.SubFolder="sub-folder-permission-tip",M.Project="project-permission-tip",M}({})},15573:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>d,u:()=>M});var s=n(63924),p=n.n(s);const M=(k,X)=>{if(!(k!=null&&k.cid))return-1;let H=0,T="",P=k;for(;P&&!P.root_project&&(H=H+1,T=P.parent_cid,!!T);)P=X.get(T);return H};function d(k){return k&&Object.entries(k).reduce((X,H)=>{let[T,P]=H;return Object.assign(X,{[p()(T)]:P})},{})}},44367:(Ne,de,n)=>{"use strict";n.d(de,{HZ:()=>M,rA:()=>k});var s=n(39547),p=n(67029);const M=X=>{const H={pt_total_seats:10,pt_bindings:[],ptlt_total_seats:0,ptlt_bindings:[],bx_total_seats:10,bx_bindings:[]},{pt_total_seats:T,pt_bindings:P,ptlt_total_seats:j,ptlt_bindings:R,bx_total_seats:ae,bx_bindings:Y}=X||H;return{plTotalSeats:j,pTotalSeats:T,pBindings:P,plBindings:R,bTotalSeats:ae,bBindings:Y}},d=(X,H)=>{const{pBindings:T,plBindings:P,bBindings:j}=M(X),R=P.includes(H),ae=T.includes(H),Y=j.includes(H);return{isPLSeat:R,isPSeat:ae,isBSeat:Y}},k=(X,H)=>{if(!X)return{protoSeat:!1,bomxSeat:!1};if(X.otype==="personal")return{protoSeat:!0,bomxSeat:!0};const T=s.t.InitialOrg(X),P=T.planSdk.getIsDefaultFreeOrg(),j=T.planSdk.getOrgStatus()===p._E.Trial;if(P||j)return{protoSeat:!0,bomxSeat:!0};const{pTotalSeats:R,bTotalSeats:ae,plTotalSeats:Y}=M(X),{isPLSeat:pe,isPSeat:U,isBSeat:$}=d(X,H);return{protoSeat:R>0||Y>0?pe||U:!0,bomxSeat:ae>0?$:!0}}},59318:(Ne,de,n)=>{"use strict";n.d(de,{CF:()=>V,CZ:()=>d,Cj:()=>j,Rc:()=>$,Sc:()=>H,oE:()=>R,ox:()=>X,pf:()=>U,sq:()=>ae});var s=n(3895),p=n(37673);const M=function(_,C,y){return y===void 0&&(y=!1),{level:_,roleName:C,isInherited:y,isOwner:_>=s.zB.OWNER,isSuperManager:_>=s.zB.SUPERMANAGER,isManager:_>=s.zB.MANAGER,isMember:_>=s.zB.MEMBER,isViewer:_>=s.zB.VIEWER,isLimiter:_===s.zB.LIMITER,isBanned:_===s.zB.BANNED,isUnknown:_===s.zB.UNKNOWN}},d=M(s.zB.UNKNOWN),k=M(s.zB.UNJOINED),X=(_,C)=>{if(!C||C.length<=0)return null;const y=C.find(x=>{let{user_id:g,unsign_remark:v}=x;return Number(g)===Number(_)||v===_});return y||null},H=_=>_?M(s.p_[_.role],_.role):M(s.zB.UNKNOWN),T=(_,C)=>{if(!_)return[];let y=[],x=_,g=C.get(x);for(;g&&!g.root_project;)y=y.concat(g.permissions),x=g.parent_cid,g=C.get(x);return y},P=(_,C,y)=>{let x=T(_,C);return x=x.concat(y).reverse(),x=x.filter(g=>g.role!=="space_limiter"),x.map(g=>{const v=folderInheritePermissionRoleFixMap[g.role];return v?{...g,role:v,inherited:!0}:{...g,inherited:!0}})},j=(_,C,y)=>{let x=T(_,C);return x=x.concat(y).reverse(),x=x.filter(g=>g.role!=="space_limiter"),x.map(g=>{const v=s.OO[g.role];return v?{...g,role:v,inherited:!0}:{...g,inherited:!0}})},R=_=>{const{orgPermissions:C,userId:y}=_;if(!y||!C||C.length<1)return M(s.zB.UNKNOWN);const x=X(y,C);return x?M(s.p_[x.role],x.role):M(s.zB.UNKNOWN)},ae=_=>{const{spacePermissions:C,userId:y}=_;if(!y||!C||C.length<1)return M(s.zB.UNKNOWN);const x=X(y,C);return x?M(s.FU[x.role],x.role):M(s.zB.UNKNOWN)},Y=_=>{const{userId:C,orgPermissions:y,spacePermissions:x,currentFolder:g,folderListMap:v}=_;if(!C||!g)return M(permissionLevels.UNKNOWN);const{org_cid:b,space_cid:N}=g;if(!b&&!N)return M(permissionLevels.OWNER,"team_owner");if(!x||x.length<1)return M(permissionLevels.UNKNOWN);const{isRoot:D,root_project:c}=g;if(D||c){const A=ae({spacePermissions:x,userId:C});return A.roleName==="space_limiter"?{...R({orgPermissions:y,userId:C}),isLimiter:!0}:A}const G=g.permissions||[],W=P(g.parent_cid,v,x),oe=Object.values(Object.fromEntries([...W,...G].map(A=>[A.user_id,A]))),f=X(C,oe);return f?M(folderPermissionLevelsMap[f.role],f.role,f.inherited):M(permissionLevels.UNKNOWN)},pe=_=>{const{userId:C,spacePermissions:y,currentProject:x,folderListMap:g}=_;if(!C||!x)return M(permissionLevels.UNKNOWN);const{space_cid:v}=x;if(!v)return M(permissionLevels.OWNER,"project_owner");if(!y||y.length<1)return M(permissionLevels.UNKNOWN);const b=x.permissions||[],N=j(x.team_cid,g,y),D=Object.values(Object.fromEntries([...N,...b].map(G=>[G.user_id,G]))),c=X(C,D);return c?M(projectPermissionLevelsMap[c.role],c.role,c.inherited):M(permissionLevels.UNKNOWN)},U=function(_,C,y){return y===void 0&&(y=!1),C?typeof C[_]<"u"?M(C[_],_,y):M(s.zB.UNJOINED):M(s.zB.UNKNOWN)},$=_=>!_||_.length<1?new Map:_.reduce((C,y)=>C.set(Number(y.user_id),y),new Map),V=_=>{const{permissionsMap:C,userId:y,permissionScope:x}=_;if(!y||!C||C.size<1)return M(s.zB.UNKNOWN);const{role:g,inherited:v}=C.get(Number(y))||{};if(!g)return M(s.zB.UNKNOWN);let b=null;switch(x){case p.W.Org:b=s.p_;break;case p.W.OrgSpace:b=s.FU;break;case p.W.Folder:b=s.lY;break;case p.W.Project:b=s.au;break;default:break}return U(g,b,v)}},53159:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>_});var s=n(51044),p=n(21676),M=n(66748),d=n.n(M),k=n(98236),X=n.n(k),H=n(28149);const T=p.Ay.label.withConfig({displayName:"styled__StyledLabel",componentId:"sc-1pwp3tx-0"})(["position:relative;display:inline-flex;align-items:baseline;line-height:1.5;cursor:pointer;color:#5b6b73;> input[type=radio]{position:absolute;opacity:0;}&.regular{font-size:14px;}&.small{font-size:12px;.Check-state{transform:translateY(2px);}}&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(255,255,255,0.5);}}.Check-state{position:relative;flex:0 0 1em;margin-right:0.33333em;width:1em;height:1em;transform:translateY(1px);font-size:12px;background-color:#f6f7f8;border:1px solid #8d9ea7;border-radius:2px;color:#fff;.svg-icon.check{position:absolute;top:-1px;left:-1px;opacity:0;}}&.small .Check-state{transform:translateY(2px);}&.CoreRadio,&.Radio{&.is-checked{.Check-state{background-color:#298df8;border-color:transparent;color:#fff;.svg-icon.check{transform:scale(0.833);}}}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.CoreRadio{.Check-state{background-color:#fff;border-color:#bacdd6;}&.is-checked .Check-state{background-color:#eb5648;}}"]),P=(0,p.Ay)(T).withConfig({displayName:"styled__StyledRadio",componentId:"sc-1pwp3tx-1"})([".Check-state{padding:1px;border-radius:50%;&:after{content:'';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:block;width:4px;height:4px;background-color:#fff;border-radius:50%;}}.is-checked .Check-state{position:relative;}"]),j=p.Ay.span.withConfig({displayName:"styled__StyledRadioGroup",componentId:"sc-1pwp3tx-2"})(["position:relative;display:flex;flex-wrap:wrap;&.is-disabled{cursor:not-allowed;}.Radio,.CoreRadio{margin-right:.5em;min-height:2em;}"]);var R=n(57464);function ae(C,y,x){return(y=Y(y))in C?Object.defineProperty(C,y,{value:x,enumerable:!0,configurable:!0,writable:!0}):C[y]=x,C}function Y(C){var y=pe(C,"string");return typeof y=="symbol"?y:y+""}function pe(C,y){if(typeof C!="object"||!C)return C;var x=C[Symbol.toPrimitive];if(x!==void 0){var g=x.call(C,y||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(C)}class U extends s.PureComponent{constructor(){super(...arguments),ae(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),ae(this,"onToggle",()=>{const{name:y,value:x,label:g,onToggle:v,onChange:b}=this.props,{isChecked:N}=this.state,{canToggle:D}=this,c=D?!0:N;this.setState({isChecked:c}),v(c,y,x||g),b(y,x||g,c)})}static getDerivedStateFromProps(y,x){let{prevProps:g,isChecked:v}=x;return X()(g,y)?null:{prevProps:y,isChecked:y.isChecked}}get isDisabled(){const{isDisabled:y,disabled:x}=this.props;return y||x}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:y,readOnly:x}=this;return!y&&!x}render(){const{size:y,theme:x,className:g,label:v,name:b}=this.props,{isChecked:N}=this.state,{isDisabled:D,readOnly:c}=this;return(0,R.jsxs)(P,{className:(0,H.Hn)([x==="core"?"CoreRadio":"Radio",y,g,N&&"is-checked",D&&"is-disabled",c&&"readonly"]),children:[(0,R.jsx)("input",{type:"radio",defaultChecked:N,disabled:D,name:b,onClick:this.onToggle}),(0,R.jsx)("span",{className:"Check-state"}),(0,R.jsx)("span",{className:"Check-label",children:v})]})}}ae(U,"propTypes",{size:d().oneOf(["regular","small"]),theme:d().oneOf(["core","plain"]),className:d().string,label:d().any,name:d().string,value:d().any,isChecked:d().bool,isDisabled:d().bool,disabled:d().bool,readOnly:d().bool,onChange:d().func.isRequired,onToggle:d().func.isRequired}),ae(U,"defaultProps",{size:"regular",theme:"plain",isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null});class $ extends s.PureComponent{constructor(){super(...arguments),ae(this,"name",this.props.name||Math.random().toString(36).substring(2,15)),ae(this,"state",{prevProps:this.props,value:this.props.value}),ae(this,"createOnChangeHandler",(y,x,g)=>()=>{const{onToggle:v,onChange:b}=this.props,{value:N}=this.state,{canToggle:D}=this,c=D?x:N;this.setState({value:c}),v(c,y),b({name:y,value:c,idx:g})})}static getDerivedStateFromProps(y,x){let{prevProps:g,value:v}=x;return X()(g,y)?null:{prevProps:y,value:y.value}}get isDisabled(){const{isDisabled:y,disabled:x}=this.props;return y||x}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:y,readOnly:x}=this;return!y&&!x}render(){const{size:y,theme:x,className:g,optionList:v}=this.props,{value:b}=this.state,{name:N,isDisabled:D,readOnly:c}=this,G=(0,H.Hn)([x==="core"?"CoreRadioGroup":"RadioGroup",y,g,D&&"is-disabled",c&&"readonly"]);return(0,R.jsx)(j,{className:G,children:v.map((W,oe)=>W&&(0,R.jsx)(U,{name:N,size:y,theme:x,label:(0,H.Oi)(W),type:"radio",isChecked:(0,H.o3)(W,b),isDisabled:D||W.isDisabled,readOnly:c,onChange:D||W.isDisabled?void 0:this.createOnChangeHandler(N,(0,H.nE)(W),oe)},oe))})}}ae($,"propTypes",{size:d().oneOf(["regular","small"]),theme:d().oneOf(["core","plain"]),className:d().string,name:d().string,optionList:d().arrayOf(d().oneOfType([d().string,d().number,d().shape({label:d().any,value:d().any,isDisabled:d().bool})])).isRequired,value:d().oneOfType([d().number,d().string]),isDisabled:d().bool,disabled:d().bool,readOnly:d().bool,onChange:d().func.isRequired,onToggle:d().func.isRequired}),ae($,"defaultProps",{size:"regular",theme:"plain",className:"",optionList:[],onChange:()=>null,onToggle:()=>null});const V=(0,p.Ay)($).withConfig({displayName:"styles__StyledRadioGroup",componentId:"sc-1x96wso-0"})([".Radio{color:",';input[type="radio"]{cursor:pointer;}&.is-checked{color:',";.Check-state{background:",";&::after{background:#fff;}}}&:not(.is-checked){.Check-state{background:",";border:1px solid ",";&::after{background:",";}}}&.is-disabled::after{background-color:",";opacity:0.5;}}"],C=>C.theme.color_text_L2,C=>C.theme.color_text_L1,C=>C.theme.color_proto,C=>C.theme.color_bg_white,C=>C.theme.color_text_disabled01,C=>C.theme.color_bg_white,C=>C.theme.color_bg_white);class _ extends s.PureComponent{render(){return(0,R.jsx)(V,{...this.props})}}},86778:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>U});var s=n(51044),p=n(21676),M=n(66748),d=n.n(M),k=n(98236),X=n.n(k),H=n(28149);const T=p.Ay.label.withConfig({displayName:"styled__StyledSwitch",componentId:"sc-16h4tgy-0"})(["position:relative;display:inline-block;margin:0 10px;width:28px;height:10px;vertical-align:text-bottom;background:rgba(22,132,252,0.4);border-radius:100px;cursor:pointer;transform:matrix(-1,0,0,1,0,0);transition:all 0.2s ease-in;transition-delay:0.15s;&.readonly{cursor:default;}> button{position:absolute;top:-20%;left:0;display:flex;justify-content:center;align-items:center;width:14px;height:14px;font-size:14px;border-radius:50%;background:#1684FC;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);transform:matrix(-1,0,0,1,0,0);cursor:inherit;transition:all 0.2s cubic-bezier(0.55,0.06,0.68,0.19);}&.small{width:28px;height:10px;vertical-align:baseline;> button{width:14px;height:14px;border-width:1px;}}&.is-checked{background:#dbdbdb;> button{transform:translate(14px,0%);cursor:inherit;background-color:#fff;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);}&.small > button{transform:translate(14px,0);background-color:#999;}&.small{background-color:#59515c;}}&.is-disabled{background-color:#dedee4;cursor:not-allowed;&.is-checked{background-color:rgba(22,132,252,0.4);}button{background-color:#f6f7f8;}}&.Switch-IOS{background:#1684fc;transform:matrix(1,0,0,1,0,0);transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}&.Switch-IOS-NoTransform{background:#1684fc;transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}"]);var P=n(57464);function j($,V,_){return(V=R(V))in $?Object.defineProperty($,V,{value:_,enumerable:!0,configurable:!0,writable:!0}):$[V]=_,$}function R($){var V=ae($,"string");return typeof V=="symbol"?V:V+""}function ae($,V){if(typeof $!="object"||!$)return $;var _=$[Symbol.toPrimitive];if(_!==void 0){var C=_.call($,V||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)($)}class Y extends s.PureComponent{constructor(){super(...arguments),j(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),j(this,"toggle",V=>{let{target:_}=V;const{onChange:C}=this.props,{isChecked:y}=this.state,{isDisabled:x,canToggle:g}=this,v=g?!y:y;return _.blur(),this.setState({isChecked:v}),!x&&C(v)})}static getDerivedStateFromProps(V,_){let{prevProps:C}=_;return X()(C,V)?null:{prevProps:V,isChecked:V.isChecked}}get isDisabled(){const{isDisabled:V,disabled:_}=this.props;return V||_}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:V,readOnly:_}=this;return!V&&!_}render(){const{size:V,readOnly:_,className:C,children:y,isIOS:x,isIOSReverse:g}=this.props,{isChecked:v}=this.state,{isDisabled:b}=this;return(0,P.jsxs)(T,{className:(0,H.Hn)(["Switch",x&&"Switch-IOS",g&&"Switch-IOS-NoTransform",V,v?"is-checked":"isnt-checked",b&&"is-disabled",_&&"readonly",C]),children:[(0,P.jsx)("button",{type:"button",disabled:b,onClick:this.toggle}),y]})}}j(Y,"propTypes",{className:d().string,size:d().oneOf(["regular","small"]),isChecked:d().bool,isDisabled:d().bool,disabled:d().bool,readOnly:d().bool,isIOS:d().bool,isIOSReverse:d().bool,onChange:d().func,children:d().any}),j(Y,"defaultProps",{className:"",size:"regular",isChecked:!1,isDisabled:!1,disabled:!1,readOnly:!1,isIOS:!1,isIOSReverse:!1,onChange:()=>null});const pe=(0,p.Ay)(Y).withConfig({displayName:"styles__StyledSwitch",componentId:"sc-1wltq4q-0"})(["&.Switch-IOS{background:",";transform:matrix(1,0,0,-1,0,0);margin:0;button{border:unset;background:",";}&.regular{width:30px;height:14px;button{height:12px;width:12px;}}&.is-checked{&.small,&.regular{background:",";button{background:",";}}&.regular  button{transform:translate(15px,0);}}}"],$=>$.theme.color_text_disabled01,$=>$.theme.color_text_btn,$=>$.theme.color_proto,$=>$.theme.color_text_btn);class U extends s.PureComponent{render(){return(0,P.jsx)(pe,{...this.props})}}},7775:(Ne,de,n)=>{"use strict";n.d(de,{it:()=>k,V0:()=>j,mq:()=>P});var s=n(51044),p=n(10481),M=n(21676);const d=(0,M.Ay)(p.Ay).withConfig({displayName:"styled__StyledWorkspaceSelectProto",componentId:"sc-32xdp1-0"})(["&.WorkspaceSelect{padding:0px;border-radius:4px;button{width:auto;display:flex;padding:0 6px;align-items:center;color:",";}.caret{flex-shrink:0;width:26px;display:flex;justify-content:center;align-items:center;padding:0;color:",";svg{width:26px;height:26px;}}&:not(.is-disabled):not(.readonly):hover{border-color:",";button{width:calc(100% - 26px);}.caret{padding:0;color:",";}}&.is-open{border-color:transparent;}}"],R=>R.theme.color_text_L1,R=>R.theme.color_text_L3,R=>R.theme.color_bg_border_02,R=>R.theme.color_text_L1),k="select-menu-width-108",X=(0,M.DU)(["#IBOT_SELECT_MENU_ROOT{.SelectMenuPortal{.menu-animation-select{margin-left:-15px;}.WorkspaceSelectMenu{padding:8px;border-radius:8px;color:",";background:",";box-shadow:",";&.is-open{border:1px solid ",";border-radius:8px;width:176px;max-width:176px;padding:8px;background-color:",";box-shadow:",";.SelectOption{&:not(.empty-msg):not(.is-disabled):hover{background:",";}}}> .divider{border-bottom:1px solid ",";margin:5px;}.SelectOption{border-radius:4px;height:28px;line-height:28px;&.is-active{color:",";}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:",";color:",";}}}.menu-animation-select .SelectGroup > .title{color:",";}}.autoFillPanelSelectScreenMenu{margin-left:-138px;margin-top:26px;width:175px;}.bdr-width-input-menu{width:88px;}.arrow-setting-menu{width:78px;}.","{width:108px;}}"],R=>R.theme.color_text_L1,R=>R.theme.color_bg_white,R=>R.theme.shadow_m,R=>R.theme.color_bg_border_01,R=>R.theme.color_bg_white,R=>R.theme.shadow_m,R=>R.theme.color_btn_secondary_hover,R=>R.theme.color_bg_border_01,R=>R.theme.color_text_L1,R=>R.theme.color_btn_secondary_hover,R=>R.theme.color_text_L1,R=>R.theme.color_text_L3,k);var H=n(7290),T=n(57464);class P extends s.PureComponent{render(){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(d,{...this.props,arrowSvg:(0,T.jsx)(H.C,{className:"triangle-icon",name:"common/expand@26"})}),(0,T.jsx)(X,{})]})}}class j extends s.PureComponent{render(){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(p.eB,{...this.props}),(0,T.jsx)(X,{})]})}}},24660:(Ne,de,n)=>{"use strict";n.d(de,{l:()=>s});const s=function(p,M,d,k){d===void 0&&(d=""),k===void 0&&(k=!1);let X;return p?X={mode:"org",orgCid:p.cid,payEntrance:M,checkoutArea:"proto",checkoutPlace:d||"org_use_vip_mkt"}:X={mode:k?"org":"solo",isSelectOrg:!!k,payEntrance:M,checkoutArea:"proto",checkoutPlace:d||"solo_use_vip_mkt"},X}},64598:(Ne,de,n)=>{"use strict";n.d(de,{_:()=>M});var s=n(36820);const p=d=>{let{exposure_reason:k}=d;try{saTrack("trial_watermark_exposure",{exposure_reason:k})}catch(X){console.log(X.message)}},M=d=>{let{click_button:k}=d;try{(0,s.kH)("trial_watermark_click",{click_button:k})}catch(X){console.log(X.message)}}},10286:(Ne,de,n)=>{"use strict";n.d(de,{ER:()=>_,J_:()=>pe,Or:()=>P,QC:()=>g,X0:()=>$,Y5:()=>U,aX:()=>x,dJ:()=>ae,g:()=>j,l1:()=>y,wi:()=>T,yq:()=>R});var s=n(26114),p=n(29815),M=n(72907),d=n(46795),k=n(29601),X=n(36521),H=n(57464);const T=async v=>{let{projectCid:b}=v;return(0,d.DE)("/api/upper/web_v1/sharing/initial?cid="+b)},P=async v=>{let{projectCid:b,sharing:N}=v;return(await(0,d.zi)("/api/flat/web_v1/project_share/"+b,{...N})).project_share},j=async v=>{let{projectCid:b,sharingCid:N}=v;try{return await(0,d.OD)("/api/flat/web_v1/project_share/"+N+"?project_cid="+b)}catch(D){await(0,M.FY)(D)}},R=async v=>{let{sharing:b}=v;try{return await(0,d.SN)("/api/flat/web_v1/project_share/"+b.cid,{project_share:b})}catch(N){await(0,M.FY)(N)}},ae=async v=>{try{return await(0,d.DE)("/api/flat/web_v1/preview/visit_count/"+v)}catch(b){console.error(b)}},Y=()=>{const v=document.getElementById("workspace");(0,s.createRoot)(v).render((0,H.jsx)(p.A,{locale:(0,k.w)(),errorType:404,customDes:I18N.ToolBar.ReEnter,isShowPrimaryBtn:!1}))},pe=async v=>{try{if(!v.accessToken||v.project.access_token===v.accessToken)return U(v.project);{const{project:b,accessToken:N}=v,{project_share:D}=await(0,d.DE)("/api/flat/web_v1/project_share/"+b.cid+"?access_token="+N);return{sharing:{...D,type:"advanced",view_mode:D.device_model}}}}catch(b){await Y()}},U=v=>{const{cid:b,access_token:N,access:D,building:c,comment_permission:G,password:W,visibility:oe,wechat:f,is_first_canvas_open:A}=v,te=new URLSearchParams(location.search),le=te.get("screen"),ie=te.get("canvasId"),q=te.get("view_mode")||(0,X.Yt)(b+"_default_sharing_view_mode","read_only",X.qW.String),we=te.get("view_mode")||(0,X.Yt)(b+"_default_sharing_view_mode","read_only",X.qW.String),Fe=!!te.get("selection"),Ve=Fe?te.get("selection").split(","):[];return{sharing:{type:"default",project_cid:b,access_token:N,view_access:D,view_sticky:c,comment_permission:G,password:W,visibility:oe,wechat:f,view_mode:q,screen_visible_switch:Fe,screen_visible_list:Ve,page_begin:le,canvas_begin:ie,device_model:we,is_first_canvas_open:A}}},$=async v=>{let{projectCid:b}=v;try{const{project_shares:N}=await(0,d.DE)("/api/flat/web_v1/project_share/"+b+"/all");return N.sort((D,c)=>new Date(c.created_at).getTime()-new Date(D.created_at).getTime())}catch(N){return await(0,M.FY)(N),[]}},V=async v=>{try{const{result:b}=await fetchGetJSON("/api/accesses/v4/project/"+v+"/permission_check?permission=P:update");return b}catch(b){await apiErrorModals(b)}},_=async v=>{let b=null;try{b=await(0,d.DE)("/flpak/ww-p2meta/"+v)}catch(N){await(0,M.FY)(N)}return b},C={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1,enable_version_record:!1,view_sticky:!0,is_first_canvas_open:!1},y=()=>({sharing:C}),x=async v=>{let b,N;try{b=await(0,d.DE)("/api/upper/web_v1/basics/"+v+"/get_details"),b&&JSON.stringify(b)!=="{}"&&(N=!0)}catch(D){b=D,N=!1}return{result:b,statusOk:N}},g=async v=>{let b,N;try{b=await(0,d.DE)("/api/dsh2/web_v1/permissions/can_edit_check?cid="+v),b&&JSON.stringify(b)!=="{}"&&(N=!0)}catch(D){b=D,N=!1}return{result:b,statusOk:N}}},77180:(Ne,de,n)=>{"use strict";n.d(de,{gE:()=>p,nM:()=>s,nQ:()=>M});const s="local_sharing_copy_url_v8_1",p=50,M={public:"share_anyone_view",restricted:"org_members_only"}},28550:(Ne,de,n)=>{"use strict";n.d(de,{n:()=>Fi});var s=n(51044),p=n(28055),M=n(96510),d=n(82928),k=n(50378),X=n(30939);const H={cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"read_only",is_first_canvas_open:!1},T=null,P="123",j={projectBasicToken:"BcHc8Xdrrwlnj5pdDxPloA",projectShares:[{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"}]},R={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"},ae={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"};var Y=n(10286),pe=n(46664),U=n(60482),$=n(36820),V=n(59318);let _=function(e){return e.acces="access",e.viewAccess="viewAccess",e.copy="copy",e.qrCode="qrCode",e.embed="Embed",e.setting="Setting",e.pwdProtection="PwdProtection",e.password="password",e.sticky="sticky",e.comment="comment",e.mobile="mobile",e}({});var C=function(e){return e.Edit="\u53EF\u7F16\u8F91",e.onlyView="\u4EC5\u67E5\u770B",e}(C||{}),y=function(e){return e.NoLogin="\u672A\u767B\u5F55\u7528\u6237",e.LoginButNotOrgMember="\u975E\u56E2\u961F\u767B\u5F55\u7528\u6237",e.ProjectMember="\u534F\u4F5C\u6210\u5458",e.TeamMember="\u56E2\u961F\u6210\u5458",e}(y||{}),x=function(e){return e.EditMode="\u7F16\u8F91\u6A21\u5F0F",e.ReadOnlyMode="\u53EA\u8BFB\u6A21\u5F0F",e.DeviceMode="\u771F\u673A\u6A21\u5F0F",e.InspectMode="\u6807\u6CE8\u6A21\u5F0F",e}(x||{});const g=e=>{let{userId:r,orgPermissions:l,spacePermissions:u,projectPermissions:S}=e;if(!r)return y.NoLogin;const w=(0,V.ox)(r,l),m=(0,V.ox)(r,u),I=(0,V.ox)(r,S);if(!w)return y.LoginButNotOrgMember;if(m||I)return y.ProjectMember;if(w)return y.TeamMember},v=e=>{let{userCanEdit:r,userId:l,orgPermissions:u,spacePermissions:S,projectPermissions:w,isEditMode:m,view_mode:I,isIframe:E}=e;const B=r?C.Edit:C.onlyView,K=g({userId:l,orgPermissions:u,spacePermissions:S,projectPermissions:w}),Q=E?"\u5DE5\u4F5C\u53F0":m?x.EditMode:I==="read_only"?x.ReadOnlyMode:I==="device"?x.DeviceMode:I==="inspect"?x.InspectMode:"";return{user_rights:B,user_type:K,operation_from:Q}},b=e=>{let{optionType:r,userCanEdit:l,userId:u,orgPermissions:S,spacePermissions:w,projectPermissions:m,isEditMode:I,view_mode:E,share_type:B,isIframe:K,project_name:Q,project_cid:O}=e;const{user_rights:re,user_type:ne,operation_from:L}=v({userCanEdit:l,userId:u,orgPermissions:S,spacePermissions:w,projectPermissions:m,isEditMode:I,view_mode:E,isIframe:K});(0,$.kH)("share_function_click_V8",{operation_type:r,user_rights:re,user_type:ne,operation_from:L,project_name:Q,project_cid:O,share_type:B})},N=e=>{(0,$.kH)("advanced_sharing_click",e)},c=(()=>{const e={project:void 0,flatKey:void 0,theme:"light",user:void 0,org:void 0,settingPageType:"create",subSettingPageType:"basic",currentSharing:H,hostType:"proto",topPageIndex:"edit",advancedSharingList:[],canEditByUser:!1,mainPage:"share",tabIndex:0,projShareToEdit:"",members:[],isEditMode:location.pathname.includes("/design/"),screenMetaList:void 0,initData:{},loading:!0,hostSharingData:void 0,sharingToast:"",currentSelectSharing:void 0,isOnlyMemberManager:!1,hostCurrentScreen:void 0},r=function(w,m){w===void 0&&(w=e);let{type:I="sharing:state:update",payload:E=e}=m;switch(I){case"sharing:state:update":return{...w,...E};case"sharing:state:clear":return{...e};default:return w}},l={"sharing:init":(w,m)=>{let{dispatch:I}=w,{payload:E}=m;I({type:"sharing:state:update",payload:E})},"sharing:currentSharing:update":(w,m)=>{let{getState:I,dispatch:E}=w,{payload:{updatedKV:B}}=m;const K=I(),O={...u.getCurrentSharing(K),...B};E({type:"sharing:state:update",payload:{currentSharing:O}})},"sharing:remote:sharing:update":async(w,m)=>{let{getState:I,dispatch:E}=w,{payload:{sharingData:B,updatedKV:K}}=m;const Q=I(),O=u.getOrg(Q),re=u.getProject(Q);let ne;if(B.type==="default"){var L,ee;ne=async()=>(0,pe.Yu)(re.cid,{...K}),await(0,U.eH)({updateType:"update",updateFn:ne,org:O});const se={...re,...K};E({type:"sharing:state:update",payload:{project:se}}),(L=MB)!=null&&L.action&&((ee=MB)==null||ee.action("current:update:state",{currentProject:se}))}else{const se=u.getAdvancedSharingList(Q),ge={...B,...K};ne=async()=>(0,Y.yq)({sharing:ge});const{expired_at:he}=await(0,U.eH)({updateType:"update",updateFn:ne,org:O,updatedKV:K});E({type:S["sharing:currentSharing:update"],payload:{updatedKV:{expired_at:he}}});const fe=se.map(z=>z.cid===ge.cid?{...ge,expired_at:he}:z);E({type:S["sharing:advancedSharingList:update"],payload:{sharingList:fe}})}},"sharing:remote:sharing:delete":async(w,m)=>{let{getState:I,dispatch:E}=w,{payload:{sharingCid:B}}=m;const K=I(),Q=u.getProject(K),O=u.getAdvancedSharingList(K);await(0,Y.g)({projectCid:Q.cid,sharingCid:B});const re=O.filter(ne=>ne.cid!==B);E({type:S["sharing:advancedSharingList:update"],payload:{sharingList:re}})},"sharing:settingPage:advanced:confirm":async(w,m)=>{let{getState:I,dispatch:E}=w,{payload:{updatedKV:B,isCustom:K}}=m;const Q=I(),O=u.getSettingPageType(Q),re=u.getCurrentSharing(Q),ne=u.getOrg(Q),L=u.getProject(Q);if(O==="create"){const ee=async()=>(0,Y.Or)({projectCid:L.cid,sharing:re});await(0,U.eH)({updateType:"create",updateFn:ee,org:ne}),E({type:S["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})}else{const ee=async()=>(0,Y.yq)({sharing:re}),{expired_at:se}=await(0,U.eH)({updateType:"update",updateFn:ee,org:ne,updatedKV:B,isCustom:K});E({type:S["sharing:currentSharing:update"],payload:{updatedKV:{expired_at:se}}})}E({type:"sharing:advance:click:track"})},"sharing:settingPage:default:confirm":async w=>{var m,I;let{getState:E,dispatch:B}=w;const K=E(),Q=u.getCurrentSharing(K),O=u.getProject(K),re=u.getOrg(K),ne=async()=>(0,pe.Yu)(O.cid,Object.assign({},Q,{building:Q.view_sticky}));await(0,U.eH)({updateType:"update",updateFn:ne,org:re});const L=Object.assign({},O,Q,{building:Q.view_sticky});B({type:"sharing:state:update",payload:{project:L}}),(m=MB)!=null&&m.action&&((I=MB)==null||I.action("current:update:state",{currentProject:L}))},"sharing:go-settingPage":(w,m)=>{let{dispatch:I}=w,{payload:{currentSharing:E,settingPageType:B,subSettingPageType:K=e.subSettingPageType}}=m;I({type:"sharing:state:update",payload:{currentSharing:E,settingPageType:B,topPageIndex:"setting",subSettingPageType:K}})},"sharing:topPageIndex:jump":(w,m)=>{let{dispatch:I}=w,{payload:{topPageIndex:E=e.topPageIndex}}=m;I({type:"sharing:state:update",payload:{topPageIndex:E}})},"sharing:advancedSharingList:update":(w,m)=>{let{dispatch:I}=w,{payload:{sharingList:E}}=m;I({type:"sharing:state:update",payload:{advancedSharingList:E}})},"sharing:projectAccess:init":async w=>{let{dispatch:m,getState:I}=w;const E=I(),B=u.getMembers(E),K=u.getProject(E),Q=K==null?void 0:K.cid,O=K==null?void 0:K.is_org_project;if(!Q||!O){setTimeout(()=>{m({type:c.entryKey["sharing:init"],payload:{loading:!1}})},100);return}const{result:re,statusOk:ne}=await(0,Y.aX)(Q);if(m({type:c.entryKey["sharing:init"],payload:{loading:!1}}),!!ne&&re){var L,ee;const{project:se,org:ge}=re;await m({type:"entry:projectAccess:initProjectData",payload:{initData:re,members:B}}),m({type:c.entryKey["sharing:init"],payload:{project:se,org:ge,initData:re}}),(L=MB)!=null&&L.action&&((ee=MB)==null||ee.action("current:update:state",{currentProject:se}))}},"sharing:function:track":(w,m)=>{let{getState:I}=w,{payload:{operation:E,viewMode:B,isDefault:K}}=m;const Q=I(),O=u.getProject(Q)||{},re=u.getCanEditByUser(Q),ne=u.getOrg(Q)||{},L=u.getUser(Q),ee=u.getInitData(Q)||{},se=(ee==null?void 0:ee.space)||{},ge=u.getIsEditMode(Q),he=u.getHostType(Q),{cid:fe,name:z}=O,ye={userCanEdit:re,userId:L==null?void 0:L.id,orgPermissions:ne==null?void 0:ne.permissions,spacePermissions:se==null?void 0:se.permissions,projectPermissions:O==null?void 0:O.permissions,isEditMode:ge,view_mode:B,optionType:E,share_type:K?"\u9ED8\u8BA4\u5206\u4EAB":"\u9AD8\u7EA7\u5206\u4EAB",isIframe:he==="iframe",project_name:z,project_cid:fe};b(ye)},"sharing:advance:click:track":(w,m)=>{let{getState:I}=w,{}=m;const E=I(),B=u.getSettingPageType(E),K=u.getCurrentSharing(E),Q=u.getProject(E),O=u.getAdvancedSharingList(E)||[],re=u.getScreenMetaList(E),ne=u.getHostType(E),L=(0,U.RF)(re.pageAttrMap),ee=(0,U.Mj)(!K.screen_visible_switch,K.screen_visible_list,L);let se="\u5168\u90E8";K.screen_visible_switch&&(se=""+ee);const ge=O.length;N({link_name:K.link_name,links_number:B==="create"?ge+1:ge,share_type:K.device_model==="device"?"\u6F14\u793A\u6A21\u5F0F":"\u753B\u5E03\u6A21\u5F0F",page_number:se,operation_type:B==="create"?"\u65B0\u5EFA":"\u7F16\u8F91",source:ne==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A",project_name:Q.name,project_cid:Q.cid})}},u=X.B.genQuery(e,{getStateFn:w=>w.sharing}),S=X.B.genEntryKey(l);return{__initialState:e,__reducer:r,__entry:l,entryKey:S,query:u}})(),G=(0,p.HY)({sharing:c.__reducer,projectAccess:k.Ay}),W={...c.__entry,...M.s},oe=()=>{const e=(0,d.RZ)(),r=(0,p.y$)(G,(0,p.Tw)(e.middleware));return e.setEntryMap(W),r};var f=n(72605),A=n(21676),te=n(21952),le=n(57716),ie=n(86634),q=n.n(ie),we=n(77180);const Fe=A.Ay.div.withConfig({displayName:"styles__StyledSharingToolBar",componentId:"sc-1k4rs1h-0"})(["display:flex;align-items:center;justify-content:space-between;height:","px;padding-right:12px;border-bottom:1px solid ",";&.tool-upgrade{padding-right:24px;}.sharing-title{margin-left:24px;color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;}.upgrade-team-business{padding:0 10px;height:26px;border-radius:13px;display:flex;align-items:center;justify-content:center;background:",";font-size:14px;font-weight:500;position:relative;cursor:pointer;z-index:1;&:hover{background:",";}.team-business{background:linear-gradient(265.2deg,"," -21.19%,"," 105.08%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;flex:none;order:0;flex-grow:0;}.content{font-size:12px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:18px;position:absolute;background:#454647;top:36px;right:0;width:300px;padding:12px 16px;border-radius:6px;.learn-text{margin-left:8px;color:#80BCFF;&:hover{color:#A6D2FF;}}&::before{content:'';position:absolute;top:0px;right:30px;transform:translateY(-100%);display:inline-block;width:0;height:0;border:6px solid transparent;border-bottom:6px solid #454647;}.top-bar{position:absolute;width:100%;height:10px;top:-10px;right:0;}span{color:",";}a{cursor:pointer;color:",";&:hover{color:",";}}}}"],we.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_background_AI_head_tag,e=>e.theme.color_background_AI_head_tag_hover,e=>e.theme.color_AI_switch_gradient_start,e=>e.theme.color_AI_switch_gradient_end,e=>e.theme.color_text_btn,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover),Ve=A.Ay.div.withConfig({displayName:"styles__StyledShareHeadMembers",componentId:"sc-1d78taz-0"})(["height:36px;border-radius:18px;display:flex;align-items:center;padding:0 4px;cursor:pointer;&:hover{background:",";}.avatar{height:24px;width:24px;border-radius:12px;box-sizing:border-box;border:1px solid ",";&:not(:first-child){margin-left:-6px;}&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:12px;text-align:center;display:flex;align-items:center;}}.item-line{margin-left:6px;width:1px;height:16px;background:",";}.remaining{box-sizing:border-box;border-radius:12px;border:1px solid ",";background:rgb(22,133,252);justify-content:center;display:flex;align-items:center;margin-left:-6px;width:24px;height:24px;svg{width:24px;height:24px;}}.arror{margin-left:6px;width:14px;height:14px;}"],e=>e.theme.color_btn_secondary_active,e=>e.theme.color_share_member__border_color,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_member__border_color);var Ee=n(37673),je=n(7290);const tt="__mb_delete_permission",Oe=[{value:"org_owner",label:"permissions_org_owner"},{value:"org_manager",label:"permissions_org_super_administrator"},{value:"org_admin",label:"permissions_org_administrator"},{value:"org_member",label:"permissions_org_collaboration_member"},{value:"org_viewer",label:"permissions_org_review_member"}],J=[{value:"space_manager",label:"permissions_space_manager"},{value:"space_member",label:"permissions_space_collaboration_member"},{value:"space_viewer",label:"permissions_space_review_member"},{value:"space_limiter",label:"permissions_space_unregistered_member"}],Z=[{value:"team_manager",label:"permissions_manager"},{value:"team_member",label:"permissions_can_edit"},{value:"team_viewer",label:"permissions_only_view"},{value:"team_ban_viewer",label:"permissions_ban_view"}],me=[{value:"project_manager",label:"permissions_manager"},{value:"project_member",label:"permissions_can_edit"},{value:"project_viewer",label:"permissions_only_view"},{value:"project_ban_viewer",label:"permissions_ban_view"}],Ce={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},ke={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",space_ban_viewer:"team_ban_viewer",team_none:"team_viewer",team_owner:"team_manager"},Ye=Object.fromEntries([...Oe,...J,...Z,...me].map(e=>[e.value,e.label]));var Me=n(3895),Ie=n(61654),Je=n(15573);const st=e=>{const r=(0,f.d4)(Ie.XW),l=r.get(e);return(0,Je.u)(l,r)},yt=(e,r)=>{const l=(0,f.d4)(Ie.XW),u=(0,f.d4)(Ie._B),S=(0,f.d4)(Ie.kG),w=(0,f.d4)(Ie.iF),m=(0,f.d4)(Ie.yZ);let I=null,E=null;const B=e;let K=[],Q=[],O=[];I=u.get(r),Q=I.permissions,O=(0,V.Cj)(I.team_cid,l,w),E=Ee.W.Org,K=S,O=Object.values(Object.fromEntries(O.map(se=>[se.user_id,se])));const re=Object.values(Object.fromEntries([...O,...Q].map(se=>[se.user_id,se]))),ne=(0,s.useMemo)(()=>{const se=(0,V.Rc)(K);return K.reduce((ge,he)=>{const{user_id:fe}=he,z=(0,V.CF)({userId:fe,permissionsMap:se,permissionScope:E});return ge.set(Number(fe),z)},new Map)},[K]),L=(0,s.useMemo)(()=>{const se=(0,V.Rc)(re);return K.reduce((ge,he)=>{const{user_id:fe}=he,z=(0,V.CF)({userId:fe,permissionsMap:se,permissionScope:B});return ge.set(Number(fe),z)},new Map)},[re,K]),ee=(0,s.useMemo)(()=>{const se=(0,V.Rc)(O);return O.reduce((ge,he)=>{const{user_id:fe}=he,z=(0,V.CF)({userId:fe,permissionsMap:se,permissionScope:B});return ge.set(Number(fe),z)},new Map)},[O]);return{userCurrentSpacePermission:m,membersTopScopePermissonMap:ne,membersCurrentScopePermissonMap:L,membersInheritedCurrentScopePermissonMap:ee,topScopePermissionMembers:K,currentScopePermissionMembers:Q,inheritedPermissionMembers:O,combinedCurrentPermissionMembers:re}},xt=(e,r,l)=>{const u=(0,f.wA)();return(0,s.useCallback)(async(w,m)=>{const{name:I,email:E,mobile:B,permissionMap:K}=w,{memberCurrentScopePermisson:Q,currentScopeRoleName:O}=K;if(!Q)return;const re=I||E||B;let ne=!1;m===tt&&(ne=!0),Q.isUnknown?await u({type:"entry:projectAccess:inviteOrgMemberToProject",payload:{projectCid:r,userCid:w.user_cid,roleName:m,userName:re}}):ne?await u({type:"entry:projectAccess:removeProjectMemberPermission",payload:{projectCid:r,userId:w.user_id,roleName:O,userName:re}}):await u({type:"entry:projectAccess:updateMemberProjectPermission",payload:{projectCid:r,userId:w.user_id,roleName:m,userName:re}})},[r,u])},bt=(e,r)=>{const l=(0,f.d4)(Ie.WR),u=(0,f.d4)(Ie.q7),S=(0,f.d4)(Ie.oV),w=(0,f.d4)(Ie.hG),{userCurrentSpacePermission:m,membersTopScopePermissonMap:I,membersCurrentScopePermissonMap:E,membersInheritedCurrentScopePermissonMap:B,topScopePermissionMembers:K,inheritedPermissionMembers:Q,currentScopePermissionMembers:O,combinedCurrentPermissionMembers:re}=yt(e,r),ne=E.get(Number(l))||V.CZ,L=!!w.get(Number(l)),ee=(0,s.useMemo)(()=>{const xe=new Map;return K.forEach(Te=>{let{user_id:Ae,role:Ze}=Te;const Be=I.get(Number(Ae))||V.CZ,$e=S.get(Number(Ae))||V.CZ,ot=E.get(Number(Ae))||V.CZ,at=B.get(Number(Ae))||V.CZ,lt=!!w.get(Number(Ae)),Mt=u.get(Number(Ae));if(!Mt)return;const Tt=Mt.permission,Ot=ot.isUnknown?Ze:ot.roleName;xe.set(Number(Ae),{...Mt,permissionMap:{currentScopeRoleName:Ot,userCurrentSpacePermission:m,userCurrentScopePermisson:ne,memberTopScopePermisson:Be,memberCurrentScopePermisson:ot,memberInheritedPermisson:at,memberOrgPermisson:Tt,isSelf:Number(Ae)===Number(l),userIsSpaceLimiter:L,memberIsSpaceLimiter:lt,memberIsSpaceManager:$e.isManager}})}),xe},[K,I,E,B,w]),se=(0,s.useMemo)(()=>O.sort((xe,Te)=>Me.Z8[Te.role]-Me.Z8[xe.role]).map(xe=>ee.get(Number(xe.user_id))).filter(xe=>xe),[O,ee]),ge=(0,s.useMemo)(()=>Q.sort((xe,Te)=>Me.Z8[Te.role]-Me.Z8[xe.role]).map(xe=>{const{user_id:Te,role:Ae}=xe,Ze=B.get(Number(Te))||V.CZ,Be=ee.get(Number(xe.user_id));return Be?{...Be,permissionMap:{...Be.permissionMap,currentScopeRoleName:Ae,memberCurrentScopePermisson:Ze}}:null}).filter(xe=>xe),[Q,ee,B]),he=(0,s.useMemo)(()=>re.sort((xe,Te)=>Me.Z8[Te.role]-Me.Z8[xe.role]).map(xe=>ee.get(Number(xe.user_id))).filter(xe=>xe),[re,ee]),fe=(0,s.useMemo)(()=>{const xe=he.map(Ae=>Number(Ae.user_id)),Te=[];for(const[Ae,Ze]of ee.entries())xe.includes(Number(Ae))||Ze&&Te.push(Ze);return Te},[ee,he]),z=(0,s.useMemo)(()=>{const xe=ge.filter(Ae=>{var Ze;return(Ze=Ae.permissionMap)==null||(Ze=Ze.memberCurrentScopePermisson)==null?void 0:Ze.isManager});return Object.values(Object.fromEntries([...xe,...se].map(Ae=>[Ae.user_id,Ae])))},[ge,se]),ye=(0,s.useMemo)(()=>{const xe=z.map(Ae=>Number(Ae.user_id)),Te=[];for(const[Ae,Ze]of ee.entries())xe.includes(Number(Ae))||Ze&&Te.push(Ze);return Te},[ee,z]);return{isOnlyOneManager:(0,s.useMemo)(()=>he.filter(xe=>{var Te;return(Te=xe.permissionMap)==null||(Te=Te.memberCurrentScopePermisson)==null?void 0:Te.isManager}).length===1,[he]),userCurrentScopePermisson:ne,userCurrentSpacePermission:m,currentMembers:se,inheritedMembers:ge,joinedMembers:he,unjoinedMembers:fe,assignedMembers:z,unassignedMembers:ye,currentOrgMembersMap:u}};var wt=n(11777),i=n(57464);const ue=()=>{var e;const r=(0,f.d4)(c.query.getUser),l=(0,f.d4)(c.query.getProject),u=(0,f.d4)(c.query.getInitData),S=st(l==null?void 0:l.team_cid),w=l==null?void 0:l.cid,m=(0,f.wA)(),I=(0,s.useCallback)(L=>{L.stopPropagation(),m({type:c.entryKey["sharing:init"],payload:{mainPage:"access"}}),m({type:c.entryKey["sharing:function:track"],payload:{operation:"\u56E2\u961F\u534F\u4F5C"}})},[m]),{currentMembers:E,inheritedMembers:B,joinedMembers:K}=bt(Ee.W.Project,w);let Q=E;S>=1?B.forEach(L=>{Q.find(se=>se.id===L.id)||Q.push(L)}):Q=K;const re=(e=Q)==null?void 0:e.filter(L=>Number(L.user_id)!==Number(r==null?void 0:r.id));re&&(Q=re.slice(0,2));const ne=(0,s.useCallback)(L=>{var ee;const{avatar:se,name:ge,id:he}=L;return se&&!se.includes("/images/avatar.png")?(0,i.jsx)("img",{className:"avatar",src:L.avatar,alt:L.name},he):(0,i.jsx)("div",{className:"avatar avater-name",children:ge==null||(ee=ge.slice(0,1))==null?void 0:ee.toUpperCase()},he)},[]);return!u||JSON.stringify(u)==="{}"?null:(0,i.jsx)(wt.A,{content:I18N.imockSharing.team_collaborator,direction:"down",distance:5,enterHoverTime:500,children:(0,i.jsxs)(Ve,{onClick:I,children:[ne(r),Q.length>0&&Q.map(L=>ne(L)),(0,i.jsx)("div",{className:"remaining",children:(0,i.jsx)(je.C,{name:"sharing/add_member",isColorPure:!0})}),(0,i.jsx)(je.C,{name:"sharing/member_arror",isColorPure:!0,className:"arror"})]})})},ve=(0,s.memo)(ue),Le=A.Ay.div.withConfig({displayName:"styles__StyledSharingSliderBar",componentId:"sc-1garbfp-0"})(["display:flex;height:100%;align-items:center;position:relative;padding-left:24px;.tab-item{color:",";font-size:14px;font-family:PingFang SC;cursor:pointer;height:100%;display:flex;align-items:center;&:not(:first-child){margin-left:14px;}&.tab-sel{color:",";font-weight:500;border-top:2px solid rgba(0,0,0,0);border-bottom:2px solid ",";box-sizing:border-box;}}"],e=>e.theme.color_share_switch_sel_color,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1),Ge=e=>{let{tabs:r,handleChangeTabIndex:l,tabIndex:u,className:S}=e;return(0,i.jsx)(Le,{className:S,children:r.map((w,m)=>(0,i.jsx)("div",{className:q()("tab-item",u===m&&"tab-sel"),id:"tab-item-"+m,onClick:()=>l(m),children:w},m))})},qe=(0,s.memo)(Ge);var ut=n(15336),It=n(47755);const Ft=()=>{let e=null;const r=(0,f.wA)(),l=(0,f.d4)(c.query.getProject),u=(0,f.d4)(c.query.getCanEditByUser),S=(0,f.d4)(c.query.getHostType),w=(0,f.d4)(c.query.getIsEditMode),m=(0,f.d4)(c.query.getInitData),I=(0,f.d4)(c.query.getTabIndex),E=(0,f.d4)(c.query.getUser),[B,K]=(0,s.useState)(!1),Q=(l==null?void 0:l.is_org_project)||!1,O=S==="iframe"||w,ne=new URLSearchParams(location.search).get("view_mode")||"read_only",L=O&&Q&&m&&JSON.stringify(m)!=="{}",ee=u&&!Q,se=(0,s.useCallback)(()=>{const z=S==="iframe",ye=(z?"\u5DE5\u4F5C\u533A":"\u7F16\u8F91\u533A")+"-v8_\u4E2A\u4EBA_\u5206\u4EAB_\u56E2\u961F\u534F\u4F5C\u5347\u7EA7",be=(z?"dashboard":"workspace")+"-v8_solo_share_upgrade",xe={payEntrance:ye,checkoutPlace:be,checkoutArea:z?"dashboard":"proto",mode:"org",isSelectOrg:!0};if(z){if(!E||!E.solo_org)return;const Te="/workspace/"+E.solo_org.cid+"/admin/order?payment_param="+(0,It._)(xe);(0,ut.JW)(Te,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(xe)},[]),ge=()=>{e=setTimeout(()=>{K(!0)},1e3)},he=()=>{e&&clearTimeout(e),K(!1)},fe=(0,s.useCallback)(z=>{r({type:c.entryKey["sharing:init"],payload:{tabIndex:z}})},[r]);return(0,i.jsx)(Fe,{className:q()(ee&&"tool-upgrade"),children:O?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(qe,{tabIndex:I,tabs:[I18N.imockSharing.default_share,I18N.imockSharing.advanced_sharing],handleChangeTabIndex:fe}),ee&&(0,i.jsxs)("div",{className:"upgrade-team-business",onClick:se,onMouseEnter:ge,onMouseLeave:he,children:[(0,i.jsx)("span",{className:"team-business",children:I18N.imockSharing.team_collaboration}),B&&(0,i.jsxs)("div",{className:"content",onClick:z=>z.stopPropagation(),children:[(0,i.jsx)("div",{className:"top-bar"}),(0,i.jsx)("span",{children:I18N.imockSharing.upgrade_to_team_business_plan}),(0,i.jsx)("a",{className:"learn-text",href:I18N.link.link_upgrade_enterprise,target:"_blank",rel:"noopener noreferrer",children:I18N.imockSharing.learn_more})]})]}),L&&(0,i.jsx)(ve,{})]}):(0,i.jsx)("div",{className:"sharing-title",children:ne==="read_only"?I18N.pPreviewToolbar.share:I18N.pPreviewToolbar.share_preview})})},Gt=(0,s.memo)(Ft),Zt=A.Ay.div.withConfig({displayName:"styles__StyledSharingAdvancedPage",componentId:"sc-1h5adoi-0"})(["width:100%;height:calc(100% - ","px);padding:16px 20px 5px;overflow-y:auto;.create-item{display:flex;align-items:center;padding:6px 12px;height:32px;color:",";text-align:center;font-size:14px;font-family:PingFang SC;width:fit-content;border-radius:6px;cursor:pointer;svg{width:12px;margin-right:4px;svg path{fill:",";}}&:not(.no-edit):hover{background:",";}&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}"],we.gE,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_btn_secondary_active),Rn=A.Ay.div.withConfig({displayName:"styles__StyledSharingEmpty",componentId:"sc-1h5adoi-1"})(["width:100%;height:calc(100% - ","px);display:flex;justify-content:center;flex-direction:column;align-items:center;svg{width:254px;}.create-sharing{width:134px;margin-top:40px;}"],we.gE);var dn=n(15668),In=n(44057),un=n(48590);const En=A.Ay.div.withConfig({displayName:"styles__StyledSharingNormalItem",componentId:"sc-11k1y99-0"})(["margin-top:12px;padding:0px 13px;height:134px;display:flex;flex-direction:column;justify-content:center;background:",";border-radius:8px;.share-icon{width:24px;height:24px;border-radius:4px;margin-left:6px;cursor:pointer;&.tempDisabled{pointer-events:none;}svg{width:100%;height:100%;}}"],e=>e.theme.color_bg_canvas),mn=A.Ay.div.withConfig({displayName:"styles__StyledCenterItem",componentId:"sc-11k1y99-1"})(["display:flex;min-height:36px;width:100%;margin-top:12px;margin-bottom:16px;&.default-link{margin-bottom:0px;}&.advance-item{margin-bottom:12px;}&.userNoEdit{.left.normal-hover{cursor:not-allowed;.view-access-select{svg,path{fill:",";}}}}&.notView{cursor:not-allowed;.url-copy-button{background:",";border:"," solid 1px;color:",";pointer-events:none;}}.left{flex-grow:1;background-color:",";display:flex;align-items:center;border:"," solid 1px;border-right:none;border-radius:6px 0 0 6px;&.can-not-edit{pointer-events:none;}&.normal-hover{cursor:pointer;&:hover{background-color:",";}}.chore{margin-right:21px;color:",";}.view-access-select{margin-left:10px;display:flex;align-items:center;.access-name{color:",";}&.is-expired{","}.svg-icon{color:",";transition:all 0.2s;transform :",";}}.single-preview{width:100%;padding:0 6px;color:",";}}.url-copy-button{flex-grow:0;width:97px;}"],e=>e.theme.color_share_access__button_disable,e=>e.theme.color_share_copy__button_disable_bg,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_copy__button_disable,e=>e.isViewActiveDropdown?e.theme.color_btn_secondary_hover:e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.isViewActiveDropdown?"rotate(-180deg)":"",e=>e.theme.color_text_L1),jn=(0,A.Ay)(In.Ay).withConfig({displayName:"styles__StyledMenuContent",componentId:"sc-11k1y99-2"})(["ul{width:270px;li > a{padding-left:10px;svg{position:absolute;right:8px;}}}",";&.advance_menu ul{width:244px;}&.misc ul{width:80px;min-width:auto;}"],un.ZJ),tn=A.Ay.button.withConfig({displayName:"styles__StyledCopyButton",componentId:"sc-11k1y99-3"})(["display:flex;position:relative;width:82px;font-size:12px;font-weight:500;border-top-right-radius:6px;border-bottom-right-radius:6px;background-color:",";&:hover{background-color:",";}&:active{background-color:",";}color:",";&.is-disabled{cursor:not-allowed;pointer-events:none;color:",";background-color:",";}.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;.copy-check{color:#ffffff;width:24px;}}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}"],e=>e.theme.color_btn_primary_normal,e=>e.theme.color_btn_primary_hover,e=>e.theme.color_btn_primary_clicked,e=>e.theme.color_text_btn,e=>e.theme.color_text_disabled02,e=>e.theme.color_btn_primary_disabled),pn=A.Ay.div.withConfig({displayName:"styles__StyledSharingItemHead",componentId:"sc-1tpfzbt-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.head-left{display:flex;font-size:14px;font-weight:500;align-items:center;color:",";.public-access{margin-right:8px;}.link-form{width:176px;input{width:176px;}}.link-name{width:176px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:text;&.link-name-not-edit{pointer-events:none;}&:not(.link-name-not-edit):hover{border-bottom:1px solid ",";}position:relative;height:24px;line-height:24px;}input{height:24px;line-height:24px;color:",";width:240px;border-bottom:1px solid ",";}.edit-name{width:20px;height:20px;margin-left:5px;}}.head-right{display:flex;justify-content:center;align-items:center;border-radius:4px;padding-left:4px;&:hover{background-color:",";}}.foot-right{display:flex;align-items:center;}.view-mode-icon{width:16px;height:16px;margin-right:6px;[stroke]{stroke:currentColor;fill:none;}}.share-icon{margin-left:5px;}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_btn_secondary_active);function Zs(e){const{fBlur:r,name:l}=e,[u,S]=(0,s.useState)(!1),[w,m]=(0,s.useState)(l),I=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(u){var O;(O=I.current)==null||O.focus()}},[u]);const E=()=>{r(),S(!1)};return{inputRef:I,isRenaming:u,setIsRenaming:S,inputName:w,setInputName:m,handleFocus:()=>{var O;(O=I.current)==null||O.select()},handleBlur:E,handleKeyDown:O=>{O.key==="Enter"&&E()},handleInput:O=>{let re=O.target.value;re.length>200&&(re=re.substring(0,200)),m(re)}}}const Rt={embed:"embed",QRcode:"QRcode",setting:"setting",mkt:"mkt_icon",showPage:"showPage"},Ys=A.Ay.div.withConfig({displayName:"styles__StyledIconBox",componentId:"sc-1juwfby-0"})(["display:flex;justify-content:center;align-items:center;width:20px;height:20px;color:",";cursor:pointer;border-radius:4px;position:relative;transition:background-color 0.2s ease-in-out;.Tooltip{display:flex;}&.tempDisabled{opacity:0.3;}&.isBorder{border-radius:50%;border:1px solid ",";}&.disabled{cursor:not-allowed;color:",";}&:not(.disabled):hover{background:",";}&:not(.disabled):active{background:",";}"],e=>e.theme.color_text_L2,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);function bn(e){const{className:r,size:l=20,name:u,onClick:S,onMouseEnter:w,onMouseLeave:m,children:I,tempDisabled:E,direction:B,toolTipName:K,type:Q,isColorPure:O,isBorder:re}=e,ne=L=>{E||S(L,Q)};return(0,i.jsx)(wt.A,{content:K,direction:B||"up",distance:5,enterHoverTime:500,children:(0,i.jsxs)(Ys,{className:q()(r,E&&"tempDisabled",re&&"isBorder"),onClick:ne,onMouseEnter:w,onMouseLeave:m,children:[(0,i.jsx)(je.C,{size:l,name:u,isColorPure:O}),I]})})}const fs=e=>{let{sharingData:r,handleItemAction:l}=e;const{link_name:u}=r,S=(0,f.wA)(),w=r.device_model,[m,I]=(0,s.useState)(u),E=(0,f.d4)(c.query.getCanEditByUser),B=(0,f.d4)(c.query.getIsEditMode),K=(0,f.d4)(c.query.getHostType),Q=(0,f.d4)(c.query.getScreenMetaList),O=(0,f.d4)(c.query.getAdvancedSharingList),re=K==="iframe"||B,ne=re&&E,L=re&&E,ee=()=>{const $e=be.current.value;if($e==="")Te(m),S({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}});else if((0,U.it)({value:$e,currentSharing:r,sharingList:O}))Te(m),S({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}});else{I($e);const ot={link_name:$e};S({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:r,updatedKV:ot}})}},se=(0,s.useMemo)(()=>r.type==="advanced"?(0,U.Sy)(Q,r):null,[r,Q]),{isRenaming:ge,setIsRenaming:he,handleKeyDown:fe,handleBlur:z,handleFocus:ye,inputRef:be,handleInput:xe,setInputName:Te,inputName:Ae}=Zs({name:m||"",fBlur:ee}),Ze=(0,s.useCallback)(()=>{he(!0)},[he]),Be=(0,s.useMemo)(()=>[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Rt.embed,tempDisabled:!1},ENV.IS_ON_PREMISES?null:{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Rt.QRcode,tempDisabled:!1},{name:"sharing/more",toolTipName:I18N.LeftSidePanel.menu,className:Rt.setting,tempDisabled:!L}].filter(Boolean),[L]);return(0,i.jsxs)(pn,{className:q()(!ne&&"canNotEdit"),children:[(0,i.jsxs)("div",{className:"head-left",children:[(0,i.jsx)(je.C,{className:"view-mode-icon",name:w==="device"?"sharing/mode_device":"sharing/mode_canvas"}),ge?(0,i.jsx)("form",{className:"link-form",children:(0,i.jsx)("input",{value:Ae,onFocus:ye,onChange:xe,ref:be,onBlur:z,onKeyPress:fe})}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:q()("link-name",!L&&"link-name-not-edit"),onClick:Ze,children:m})})]}),(0,i.jsx)(wt.A,{content:I18N.imockSharing.tab_screen,direction:"up",distance:5,enterHoverTime:500,children:(0,i.jsxs)("div",{className:"head-right",children:[(0,i.jsx)("div",{children:se}),(0,i.jsx)(bn,{className:"share-icon",name:"sharing/page_visible",tempDisabled:!L,size:20,onClick:$e=>l($e,Rt.showPage)})]})}),(0,i.jsx)("div",{className:"foot-right",children:Be.map(($e,ot)=>$e&&(0,i.jsx)(bn,{className:q()("share-icon",$e.className),name:$e.name,type:$e.className,toolTipName:$e.toolTipName,onClick:l,tempDisabled:$e.tempDisabled,isColorPure:$e.isColorPure,size:20},ot))})]})},$s=(0,s.memo)(fs),Qs=A.Ay.div.withConfig({displayName:"styles__StyledSharingItemFoot",componentId:"sc-1b50v3w-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.visit_count{color:",";.svg-icon{path{fill:rgba(22,132,252,1);}path:last-of-type{fill:#fff;}}}.expiration-time{display:flex;align-items:center;color:",";.expire-text{margin:0 4px;cursor:pointer;.expired-desc{color:",";}.expired-no{color:",";}}.expire-icon{width:24px;height:24px;}&.is-expired{color:",";}svg{color:",";cursor:pointer;}.self-transform{svg{transition:all 0.4s;transform:rotate(360deg);}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1),Bn=(0,A.DU)([".visit-tips{padding:6px;.tip-updated{display:flex;cursor:pointer;align-items:center;font-size:12px;p{margin:0;display:flex;align-items:center;}.icon-updated{display:inline-flex;align-items:center;margin-left:10px;line-height:14px;color:rgba(112,188,246,1);&:hover{color:rgba(149,209,248,1);}.svg-icon{margin-right:2px;path{fill:rgba(22,132,252,1);}path:last-of-type{fill:#fff;}}}}}"]);var Fn=n(76713),es=n.n(Fn);function kn(e,r,l){const u=(0,s.useMemo)(()=>{const m=es()(),I=es()(e.expired_at).subtract(2,"s");return I.isBefore(m)?0:I.diff(m,"days")+1},[e]),S=u<=0;let w;return r?w="\u5206\u4EAB\u8D85\u9650\uFF0C\u5347\u7EA7\u89E3\u9501":u>0&&u<=9999?w=u+" \u5929\u540E\u5931\u6548":u>9999?w=l===1?"\u6C38\u4E45\uFF08\u9650\u65F6\u514D\u8D39\uFF09":"\u6C38\u4E45\u6709\u6548":w="\u91CD\u65B0\u751F\u6548",{isExpired:S,remainTimeText:w}}var an=n(89604),Tn=n(59305);const Js=e=>{let{sharingData:r,handleUpdateSharing:l}=e;const u=(0,f.wA)(),[S,w]=(0,s.useState)(null),[m,I]=(0,s.useState)(!1),{remainTimeText:E,isExpired:B}=kn(r,!1,999),K=r.device_model,Q=r.expire_type==="forever",O=(0,f.d4)(c.query.getUser),re=(0,f.d4)(c.query.getOrg),ne=(0,f.d4)(c.query.getProject),L=(0,f.d4)(Ie.cb),ee=ne==null?void 0:ne.is_org_project;let se=!1,ge=!1;if(ee){const{plan:be,trial:xe}=(0,Tn.rM)(re);ge=xe,se=be===an.Sj.OrgFull&&!ge}const he=ge||se,fe=L.roleName&&["org_owner","org_admin","org_manager"].includes(L.roleName),z=he?fe?"enterpriseAdmin":"enterpriseUser":"nonEnterprise",ye=(0,s.useCallback)(()=>{l({expire_type:r.expire_type}),I(!0),setTimeout(()=>I(!1),500),u({type:c.entryKey["sharing:function:track"],payload:{operation:"\u91CD\u7F6E\u6709\u6548\u671F",viewMode:K,isDefault:!1}})},[u,l,r.expire_type,K]);return(0,s.useEffect)(()=>{(async()=>{if(r.access_token)try{const xe=await(0,Y.dJ)(r.access_token);w(xe.count)}catch(xe){console.error("Error fetching visit count:",xe)}})()},[r.access_token]),(0,i.jsxs)(Qs,{children:[(0,i.jsxs)("div",{className:"visit_count",children:[I18N.imockSharing.visit_count," ",S]}),(0,i.jsxs)("div",{className:q()("expiration-time",{"is-expired":B}),children:[(0,i.jsx)("div",{className:"expire-text",children:(0,i.jsx)("span",{className:B?"expired-desc":"expired-no",children:E})}),!Q&&(0,i.jsx)(bn,{direction:"down",toolTipName:I18N.imockSharing.resetLink,onClick:ye,className:q()("expire-icon",{"self-transform":m}),size:12,name:"sharing/refresh_24"})]}),(0,i.jsx)(Bn,{})]})},Xs=(0,s.memo)(Js);var pt=n(36521);const ts=e=>{const{project:r,sharing:l,user:u}=e,[S,w]=(0,s.useState)(!1),[m,I]=(0,s.useState)(void 0);return{isURLCopied:S,handleCopyURL:()=>{(0,U.kv)({project:r,action:l.password!==""?"\u590D\u5236\u94FE\u63A5\u548C\u5BC6\u7801":"\u590D\u5236\u94FE\u63A5",linkName:l.link_name}),w(!0),clearTimeout(m);const B=setTimeout(()=>w(!1),3e3);I(B);const K=es()().format("YYYY-MM-DD HH:mm:ss"),Q=(0,U.EL)(u)&&!(0,pt.kV)(we.nM);(0,pt.cH)(we.nM,K),Q&&(0,$.Sx)({prototype_activation_time:K})}}};var vn=n(93869);function An(e){const{password:r}=e;return{isHavePassword:(0,s.useMemo)(()=>r!==null&&r!=="",[r])}}var ns=n(36114);const nn=e=>{var r;let{sharingData:l,setShowDelConfirmModal:u,fromDefault:S}=e;const w=(0,f.wA)(),m=(0,s.useRef)(null),I=l.view_access,E=l.device_model,B=(0,f.d4)(c.query.getProject),K=(0,f.d4)(c.query.getCanEditByUser),Q=(0,f.d4)(c.query.getIsEditMode),O=(0,f.d4)(c.query.getHostType),re=(0,f.d4)(c.query.getUser),ne=(0,f.d4)(c.query.getHostCurrentScreen),L=ne==null?void 0:ne.cid,ee=(B==null?void 0:B.is_org_project)||!1,se=O==="iframe"||Q,ge=se&&K,[he,fe]=(0,s.useState)({top:0,left:0}),[z,ye]=(0,s.useState)(!1),{isURLCopied:be,handleCopyURL:xe}=ts({project:B,sharing:l,user:re}),{isHavePassword:Te}=An(l),Ae=(0,s.useCallback)(()=>{const gt=(0,U.O8)(B,l,L);(0,vn.$)(gt),xe(),w({type:c.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:E,isDefault:!1}}),se&&ns.U.protoEditorShareTrack(re==null?void 0:re.id,O==="iframe"?"\u5DE5\u4F5C\u53F0\u53F3\u952E\u9AD8\u7EA7\u5206\u4EAB":"\u9AD8\u7EA7\u5206\u4EAB")},[w,l,L,xe,B,E]),Ze=(0,s.useCallback)(gt=>{const At={view_access:gt};w({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:At}}),w({type:c.entryKey["sharing:function:track"],payload:{operation:gt==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:E,isDefault:!1}})},[l,w,E]),Be=(0,s.useCallback)(()=>{u({isOpened:!0,item:l})},[u,l]),$e=(0,s.useCallback)(()=>{w({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:l,settingPageType:"edit"}}),w({type:c.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:E,isDefault:!1}})},[w,l,E]),ot=(0,s.useCallback)(gt=>{w({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:gt}})},[w,l]),[at,lt]=(0,s.useState)(void 0),Mt=(0,s.useMemo)(()=>{if(at==="viewAccess"){const gt=(0,i.jsx)(je.C,{name:"toolbar/selected",className:"selected-icon"});if(ee){const At=I==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>Ze("public"),icon:At?gt:(0,i.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>Ze("restricted"),icon:At?(0,i.jsx)("div",{style:{width:0}}):gt}]}else return[]}else return[{label:I18N.imockSharing.setting,onclick:$e},{label:I18N.imockSharing.delete,onclick:Be}]},[at,Ze,Be,$e,I,ee]),Tt=(0,s.useCallback)(gt=>{if(!ee||!ge)return;lt("viewAccess");const At=gt.currentTarget.getBoundingClientRect();fe({top:At.y+At.height+3,left:At.x-1}),ye(!z)},[ee,ge,z,lt,fe]),Ot=(0,s.useCallback)((gt,At)=>{if(gt!=null&&gt.currentTarget)switch(At){case Rt.QRcode:gt.stopPropagation(),w({type:c.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:l}}),w({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:E,isDefault:!1}});break;case Rt.embed:w({type:c.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:l}}),w({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:E,isDefault:!1}});break;case Rt.mkt:(0,ut.JW)("/com24/upload?project_cid="+(B==null?void 0:B.cid),"_blank","noreferrer");break;case Rt.setting:{lt("misc");const Pt=gt.currentTarget.getBoundingClientRect(),on=document.getElementById("v8-share-page").getBoundingClientRect().bottom-Pt.bottom<120?Pt.y-75:Pt.bottom+5;fe({top:on,left:O==="iframe"?Pt.x+20:Pt.x-60}),ye(!z)}break;case Rt.showPage:w({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:l,settingPageType:"edit",subSettingPageType:"visible"}});break;default:break}},[z,lt,fe,ye,w,B,l,E,O]),Dt=(0,s.useCallback)(()=>{var gt;fe({...he,left:((gt=m.current)==null?void 0:gt.getBoundingClientRect().x)-1})},[he]);(0,s.useEffect)(()=>(window.addEventListener("resize",Dt),()=>window.removeEventListener("resize",Dt)));const{isExpired:Vt}=kn(l,!1,999);return(0,i.jsxs)(En,{className:q()(S&&"from-default"),children:[(0,i.jsx)($s,{sharingData:l,handleItemAction:Ot}),(0,i.jsxs)(mn,{className:q()("item-center",!ge&&"userNoEdit","advance-item"),isViewActiveDropdown:z&&at==="viewAccess",children:[(0,i.jsx)("div",{ref:m,className:q()("left","sharingV2-click-visible",{"normal-hover":!0},!ee&&"can-not-edit"),onClick:Tt,children:(0,i.jsxs)("div",{className:"view-access-select",children:[(0,i.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,i.jsx)("div",{className:"access-name",children:(r=I18N.imockSharing[we.nQ[I]])!=null?r:"missing data"}),ee&&(0,i.jsx)(je.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,i.jsxs)(tn,{type:"button",className:q()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(be),{"is-disabled":Vt}),onClick:Ae,children:[(0,i.jsx)("span",{className:"state state-0",children:Vt?I18N.dModule.link_expired_err_title:Te?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,i.jsx)("span",{className:"state state-1",children:(0,i.jsx)(je.C,{name:"new_replace/check",className:"copy-check"})})]})]}),(0,i.jsx)(Xs,{sharingData:l,handleUpdateSharing:ot}),z&&(0,i.jsx)(jn,{className:q()("design-avoid",at,"advance_menu"),position:he,onClose:()=>{ye(!1)},children:Mt.map((gt,At)=>(0,i.jsx)(In.Dr,{text:gt.label,onClick:gt.onclick,icon:gt.icon,disabled:gt.disabled,canClick:gt.tempDisabled},At))})]})},qs=(0,s.memo)(nn),ys=A.Ay.div.withConfig({displayName:"styles__StyledDeletingConfirmModal",componentId:"sc-1ws30dd-0"})(["display:flex;position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;justify-content:center;align-items:center;background:rgba(0,0,0,0.4);.confirm-content{display:flex;height:fit-content;border-radius:10px;background:",";width:calc(100% - 54px);color:",";font-family:PingFang SC;font-style:normal;flex-direction:column;padding-bottom:18px;border:1px solid ",";box-shadow:0px 9px 28px 0px rgba(0,0,0,0.09),0px 6px 16px 0px rgba(0,0,0,0.02),0px 3px 6px 0px rgba(0,0,0,0.02);.top{width:100%;height:","px;display:flex;align-items:center;justify-content:center;justify-content:space-between;padding:0 24px;font-size:16px;font-weight:500;line-height:normal;border-bottom:1px solid ",";.close{width:24px;height:24px;svg{width:24px;height:24px;}}}.center{font-size:14px;line-height:22px;width:100%;padding:20px 24px;}.bottom{width:100%;padding-right:24px;display:flex;align-items:center;justify-content:flex-end;.delete{margin-left:12px;}}}"],e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_share_del_confirm_border_color,we.gE,e=>e.theme.color_bg_border_02);function _n(e){let{handleConfirmAction:r}=e;return(0,i.jsx)(ys,{children:(0,i.jsxs)("div",{className:"confirm-content",children:[(0,i.jsxs)("div",{className:"top",children:[(0,i.jsx)("div",{children:I18N.imockSharing.delete_share}),(0,i.jsx)(bn,{name:"sharing/close",onClick:()=>r(!1),className:"close"})]}),(0,i.jsx)("div",{className:"center",children:I18N.imockSharing.deletion_shared_links_warning}),(0,i.jsxs)("div",{className:"bottom",children:[(0,i.jsx)(dn.tA,{onClick:()=>r(!1),children:I18N.imockSharing.cancel}),(0,i.jsx)(dn.Qi,{className:"delete",onClick:()=>r(!0),children:I18N.imockSharing.delete})]})]})})}const zn=s.memo(_n),Ln=()=>{const e=(0,f.d4)(c.query.getUser),r=(0,f.d4)(c.query.getOrg),{cid:l,name:u,is_org_project:S}=(0,f.d4)(c.query.getProject),w=(0,f.d4)(c.query.getHostType),m=(0,f.d4)(c.query.getAdvancedSharingList),I=(0,f.d4)(c.query.getCanEditByUser),E=(0,f.d4)(c.query.getProjShareToEdit),B=(0,f.d4)(c.query.getTheme),[K,Q]=(0,s.useState)({isOpened:!1,item:null}),[O,re]=(0,s.useState)(!1),ne=(0,f.wA)(),L=m.length===0,ee=(0,s.useCallback)(async ge=>{ge&&ne({type:c.entryKey["sharing:remote:sharing:delete"],payload:{sharingCid:K.item.cid}}),Q({isOpened:!1,item:null})},[K.item,Q,ne]);(0,s.useEffect)(()=>{(async()=>{const fe=(await(0,Y.X0)({projectCid:l})).map(z=>({...z,type:"advanced"})).sort((z,ye)=>new Date(ye.created_at).getTime()-new Date(z.created_at).getTime());if(E){const z=fe.find(ye=>ye.access_token===E);z&&(ne({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:z,settingPageType:"edit"}}),ne({type:c.entryKey["sharing:init"],payload:{projShareToEdit:""}}))}ne({type:c.entryKey["sharing:advancedSharingList:update"],payload:{sharingList:fe}}),re(!0)})()},[l,ne]);const se=async()=>{const ge=(0,U.jc)(e,r),he=()=>{(0,$.kH)("create_advanced_sharing_click",{project_name:u,project_cid:l,source:w==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A"})};if(m.length>=ge){const z=(r==null?void 0:r.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:z}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:z}}),"*"),he();return}const fe=(0,U.zM)(l,m,{view_access:S?"restricted":"public"});ne({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:fe,settingPageType:"create"}}),he()};return O?L?(0,i.jsxs)(Rn,{children:[(0,i.jsx)(je.C,{name:B==="dark"?"sharing/empty_dark":"sharing/empty",isColorPure:!0}),(0,i.jsx)(dn.jn,{onClick:se,className:"create-sharing",children:I18N.imockSharing.new_share})]}):(0,i.jsxs)(Zt,{children:[(0,i.jsxs)("div",{className:"create-item "+(I?"":"no-edit"),onClick:se,children:[(0,i.jsx)(je.C,{name:"sharing/add_new"}),I18N.imockSharing.new_share]}),m.map((ge,he)=>(0,i.jsx)(qs,{setShowDelConfirmModal:Q,sharingData:ge},ge.cid+"-"+he)),K.isOpened&&(0,i.jsx)(zn,{handleConfirmAction:ee})]}):null},ss=(0,s.memo)(Ln),os=A.Ay.div.withConfig({displayName:"styles__StyledSharingDefaultMainPage",componentId:"sc-zm7bo-0"})(["width:100%;height:calc(100% - ","px);.default-top{height:calc(100% - ","px);display:flex;flex-direction:column;justify-content:center;padding:0 24px;.switch-content{height:24px;display:flex;align-items:center;color:",";font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;justify-content:space-between;span{margin-right:10px;}.visit-count{font-weight:400;font-size:12px;color:",";}}.wm-tip{height:25px;margin-top:12px;display:flex;span{height:25px;font-size:12px;font-weight:400;line-height:25px;color:",";}.divider{width:1px;height:13px;margin:6px 10px;background:",";}.btn{display:inline-block;padding:4px 6px;width:60px;height:25px;line-height:17px;font-size:12px;font-weight:500;border-radius:4px;background:",";color:",";&:hover{background:",";}}}}.default-bottom{height:","px;display:flex;align-items:center;justify-content:space-between;padding:0 24px;color:",";background:",";.bottom-left{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;}.share-icon{width:28px;height:28px;margin-left:14px;&:hover,&:active{background:",";}}svg{width:24px;height:24px;}.default-setting{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:400;line-height:14px;padding:6px 12px 6px 6px;height:28px;border-radius:6px;cursor:pointer;svg{margin-right:2px;}&:not(.no-edit):hover,&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],we.gE,we.gE,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_info_bg,e=>e.theme.color_text_link_normal,e=>e.theme.color_grid,we.gE,e=>e.theme.color_text_L1,e=>e.theme.color_bg_canvas,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);var St=n(86778),sn=n(53955),xs=n(42781),is=n(63508),rs=n(64598),Un=n(15915);const Wn=e=>{var r;let{defaultShare:l}=e;const u=(0,f.wA)(),S=(0,s.useRef)(null),w=(0,f.d4)(c.query.getProject),m=l,[I,E]=(0,s.useState)(null);w&&(m.visibility=w.visibility);const B=(0,f.d4)(c.query.getHostType),K=(0,f.d4)(c.query.getIsEditMode),Q=(0,f.d4)(c.query.getUser),O=B==="iframe"||K,re=(0,f.d4)(c.query.getCanEditByUser),ne=(0,f.d4)(c.query.getHostCurrentScreen),L=ne==null?void 0:ne.cid,ee=(0,f.d4)(c.query.getUser),se=(0,f.d4)(c.query.getOrg),ge=(0,f.d4)(Ie.cb),he=(w==null?void 0:w.is_org_project)||!1,fe=!he&&re,[z,ye]=(0,s.useState)({top:0,left:0}),[be,xe]=(0,s.useState)(!1),[Te,Ae]=(0,s.useState)(m==null?void 0:m.visibility);let Ze=!1,Be=!1;if(he){const{plan:nt,trial:Nt}=(0,Tn.rM)(se);Be=Nt,Ze=nt===an.Sj.OrgFull&&!Be}const $e=Be||Ze,ot=ge.roleName&&["org_owner","org_admin","org_manager"].includes(ge.roleName),at=$e?ot?"enterpriseAdmin":"enterpriseUser":"nonEnterprise",lt=O&&re&&Te==="open",Mt=O&&re,{isURLCopied:Tt,handleCopyURL:Ot}=ts({project:w,sharing:m,user:Q}),[Dt,Vt]=(0,s.useState)(!1),[gt,At]=(0,s.useState)(!0);(0,s.useEffect)(()=>{const nt=(0,sn.fV)();if(nt){const{mdWMMktList:Nt,mtWMMktList:Xt,noWMMktList:Ks}=nt;(Nt.size||Xt.size)&&(0,Un._5)()&&At(!1);const Jo=[...Nt,...Xt,...Ks];Jo.length&&(0,xs.q)(Jo).then(Xo=>{if(Xo.mdWMMktList.length>0||Xo.mtWMMktList.length>0){if(!(0,Un._5)())return;Vt(!0),ns.U.watermarkExposureTrack("share")}})}},[]);const Pt=()=>{const{isSoloMdMember:nt}=(0,is.s)(ee,MB.currentOrg),Nt=!!MB.currentOrg,Xt={mode:"mat",payEntrance:"\u7F16\u8F91\u533A-v8-"+(Nt?"\u56E2\u961F":"\u4E2A\u4EBA")+"-\u4ED8\u8D39\u7D20\u6750\u8BD5\u7528-\u5206\u4EAB\u884C\u4E3A\u63D0\u793A-"+(nt?"\u5347\u7EA7\u7D20\u6750\u4F1A\u5458":"\u5347\u7EA7\u53CC\u4F1A\u5458"),checkoutPlace:"workspace_v8_"+(Nt?"org":"solo")+"_watermark_share_"+(nt?"template":"vip-template"),checkoutArea:"proto"};MB.global.popupHelper.chargeAsync({...Xt}),(0,rs._)({click_button:"\u5206\u4EAB-"+(nt?"\u5347\u7EA7\u7D20\u6750\u4F1A\u5458":"\u5347\u7EA7\u53CC\u4F1A\u5458")})},Jt=(0,s.useCallback)(nt=>{const Nt={access:nt};u({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:m,updatedKV:Nt}}),u({type:c.entryKey["sharing:function:track"],payload:{operation:nt==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:m.view_mode,isDefault:!0}})},[m,u]),ft=(0,s.useMemo)(()=>{const nt=(0,i.jsx)(je.C,{name:"toolbar/selected",className:"selected-icon"});if(he){const Nt=(m==null?void 0:m.view_access)==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>Jt("public"),icon:Nt?nt:(0,i.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>Jt("restricted"),icon:Nt?(0,i.jsx)("div",{style:{width:0}}):nt}]}else return[]},[Jt,he,m]),vt=(0,s.useMemo)(()=>{const nt=[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Rt.embed,tempDisabled:Te==="close",isBorder:!0}];return ENV.IS_ON_PREMISES||nt.unshift({name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Rt.QRcode,tempDisabled:Te==="close",isBorder:!0}),fe&&nt.push({name:"sharing/mkt_icon",toolTipName:gt?I18N.imockSharing.publish_to_community:"\u542B\u4ED8\u8D39\u7D20\u6750\uFF0C\u4E0D\u652F\u6301\u4E0A\u4F20",className:Rt.mkt,tempDisabled:Te==="close"||!gt,isColorPure:!0,isBorder:!0}),nt},[Te,fe,gt]),on=(0,s.useCallback)(()=>{const nt=Te==="close"?"open":"close",Nt={visibility:nt};Ae(nt),u({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:m,updatedKV:Nt}}),u({type:c.entryKey["sharing:function:track"],payload:{operation:nt==="open"?"\u6253\u5F00\u8BBF\u95EE":"\u5173\u95ED\u8BBF\u95EE",viewMode:m.view_mode,isDefault:!0}})},[Te,u,m,Ae]),Xn=(0,s.useCallback)(nt=>{if(!he||!lt)return;const Nt=nt.currentTarget.getBoundingClientRect();let Xt=Nt.y+Nt.height+3;B==="iframe"&&(Xt=Xt+56),ye({top:Xt,left:Nt.x-1}),xe(!be)},[he,lt,be,ye,B]),qn=(0,s.useCallback)(()=>{const nt=(0,U.O8)(w,m,L);(0,vn.$)(nt),Ot(),u({type:c.entryKey["sharing:function:track"],payload:{operation:"\u9ED8\u8BA4\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:m.view_mode,isDefault:!0}}),O&&ns.U.protoEditorShareTrack(ee==null?void 0:ee.id,B==="iframe"?"\u5DE5\u4F5C\u53F0\u53F3\u952E\u666E\u901A\u5206\u4EAB":"\u666E\u901A\u5206\u4EAB")},[w,m,L,Ot,u]),xn=(0,s.useCallback)(()=>{const nt=m,{view_mode:Nt}=m;u({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:nt,settingPageType:"edit"}}),u({type:c.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:Nt,isDefault:!0}})},[m,u]),rn=(0,s.useCallback)((nt,Nt)=>{if(!(nt!=null&&nt.currentTarget))return;const Xt=m,{view_mode:Ks}=m;switch(Nt){case Rt.QRcode:nt.stopPropagation(),u({type:c.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:Xt}}),u({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:Ks,isDefault:!1}});break;case Rt.embed:u({type:c.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:Xt}}),u({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:Ks,isDefault:!1}});break;case Rt.mkt:(0,ut.JW)("/com24/upload?project_cid="+(w==null?void 0:w.cid),"_blank","noreferrer");break;default:break}},[u,w,m]),Kt=(0,s.useCallback)(()=>{var nt;ye({...z,left:((nt=S.current)==null?void 0:nt.getBoundingClientRect().x)-1})},[z]);return(0,s.useEffect)(()=>(window.addEventListener("resize",Kt),()=>window.removeEventListener("resize",Kt))),(0,s.useEffect)(()=>{(async()=>{const Nt=m.access_token;if(Nt)try{const Xt=await(0,Y.dJ)(Nt);E(Xt.count)}catch(Xt){console.error("Error fetching visit count:",Xt)}})()},[m.access_token]),m?(0,i.jsxs)(os,{className:q()(!Mt&&"canNotEdit"),children:[(0,i.jsxs)("div",{className:"default-top",children:[O?(0,i.jsxs)("div",{className:"switch-content",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:I18N.imockSharing.public_access}),(0,i.jsx)(St.A,{size:"small",readOnly:!0,isIOS:!0,isChecked:Te==="open",onChange:on})]}),(0,i.jsx)("div",{className:"visit-count",children:I!==null&&I!==0&&(0,i.jsxs)(i.Fragment,{children:[I18N.imockSharing.visit_count," ",I]})})]}):(0,i.jsxs)("div",{className:"switch-content",children:[I18N.imockSharing.default_share,I!==null&&I!==0&&(0,i.jsxs)("div",{className:"visit-count",children:[I18N.imockSharing.visit_count," ",I]})]}),(0,i.jsxs)(mn,{className:q()("item-center","default-link",Te==="close"&&"notView",!lt&&"userNoEdit"),isViewActiveDropdown:be,children:[(0,i.jsx)("div",{ref:S,className:q()("left","sharingV2-click-visible",{"normal-hover":!0},!he&&"can-not-edit"),onClick:Xn,children:(0,i.jsxs)("div",{className:"view-access-select",children:[(0,i.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,i.jsx)("div",{className:"access-name",children:(r=I18N.imockSharing[we.nQ[m.view_access]])!=null?r:"missing data"}),he&&(0,i.jsx)(je.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,i.jsxs)(tn,{type:"button",className:q()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(Tt)),onClick:qn,children:[(0,i.jsx)("span",{className:"state state-0",children:m.password&&m.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,i.jsx)("span",{className:"state state-1",children:(0,i.jsx)(je.C,{name:"new_replace/check",className:"copy-check"})})]})]}),Dt&&(0,i.jsxs)("div",{className:"wm-tip",children:[(0,i.jsx)("span",{children:I18N.WaterMark.mkt.share.tip}),(0,i.jsx)("div",{className:"divider"}),(0,i.jsx)("div",{className:"btn",onClick:Pt,children:I18N.WaterMark.mkt.remove_wm})]})]}),(0,i.jsxs)("div",{className:"default-bottom",children:[(0,i.jsxs)("div",{className:"bottom-left",children:[(0,i.jsx)("div",{children:I18N.imockSharing.share_mode}),vt.map((nt,Nt)=>(0,i.jsx)(bn,{className:q()("share-icon",nt.className),name:nt.name,type:nt.className,toolTipName:nt.toolTipName,onClick:rn,tempDisabled:nt.tempDisabled,isColorPure:nt.isColorPure,isBorder:nt.isBorder,size:24},Nt))]}),O&&(0,i.jsxs)("div",{className:q()("default-setting",!lt&&"no-edit"),onClick:xn,children:[(0,i.jsx)(je.C,{name:"sharing/default_setting"}),I18N.imockSharing.setting]})]}),be&&(0,i.jsx)(jn,{className:q()("design-avoid","viewAccess"),position:z,onClose:()=>{xe(!1)},children:ft.map((nt,Nt)=>(0,i.jsx)(In.Dr,{text:nt.label,onClick:nt.onclick,icon:nt.icon,disabled:nt.disabled,canClick:nt.tempDisabled},Nt))}),(0,i.jsx)(Bn,{})]}):null},eo=(0,s.memo)(Wn),to=A.Ay.div.withConfig({displayName:"styles__StyledSharingMainPage",componentId:"sc-7p2gxy-0"})(["width:100%;position:relative;height:100%;"]),no=A.Ay.div.withConfig({displayName:"styles__StyledSharingEmbedded",componentId:"sc-xvloju-0"})(["width:100%;padding:20px 32px 0 32px;.desc{line-height:17px;font-size:12px;font-family:PingFang SC;color:",";margin-bottom:20px;}.copy-wrapper{display:flex;justify-content:space-between;height:112px;.demo-img{width:192px;height:100%;object-fit:cover;flex-shrink:0;}.copy-box{display:flex;flex-direction:column;width:148px;height:100%;border:1px solid ",";border-radius:2px;overflow:hidden;.sharing-embedded-url{flex-grow:1;height:0;padding:6px 8px;white-space:normal;word-wrap:break-word;color:",";font-size:12px;font-weight:500;}.copy-button{width:100%;height:28px;font-size:12px;background:",";border-top:1px solid ",";color:",";&:hover{background:",";}}}}.open-setting{justify-content:flex-start;.opener-wrapper{display:flex;align-items:center;span{color:#1684fc;margin-right:3px;cursor:pointer;}.svg-icon{width:6px;height:4px;cursor:pointer;transition:transform 0.2s ease-in-out;color:",";}&.is-open{.svg-icon{transform:rotate(-180deg);}}}}.open-setting.line-item.embedded-padding{padding:0;margin-top:14px;}.hidden{height:0;overflow:hidden;transition:height 0.2s;}.hidden.is-open{height:156px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L3);var wn=n(95230);const Yt=A.Ay.div.withConfig({displayName:"styles__StyledSharingTitleBar",componentId:"sc-174zu8p-0"})(["width:100%;height:","px;display:flex;align-items:center;border-bottom:1px solid ",";color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;.title{cursor:pointer;display:flex;align-items:center;svg{width:32px;height:32px;margin-left:10px;}}"],we.gE,e=>e.theme.color_border_state,e=>e.theme.color_text_L1),On=e=>{let{title:r,handleClick:l}=e;return(0,i.jsx)(Yt,{children:(0,i.jsxs)("div",{className:"title",onClick:l,children:[(0,i.jsx)(je.C,{name:"sharing/nav_back"}),r]})})},Bt=()=>{let e="read_only";const r=(0,f.wA)(),l=(0,f.d4)(c.query.getCurrentSelectSharing),u=(0,f.d4)(c.query.getProject),S=(0,f.d4)(c.query.getTheme),w=(0,f.d4)(c.query.getHostCurrentScreen),m=(0,f.d4)(c.query.getHostType),I=w==null?void 0:w.cid,{screen_visible_list:E,access_token:B,is_first_canvas_open:K}=l||{};if(l.type==="default"){const{view_mode:he}=l;e=he}else{const{device_model:he}=l;e=he}let Q="";const O=(0,f.d4)(c.query.getIsEditMode);l.type==="default"?Q=O||e==="read_only"?I:new URLSearchParams(location.search).get("screen")||"":Q=I;let re="";const ne=(0,U.a2)(B);m==="iframe"?re='<iframe src="'+ne+"/embed/v2/sharing?view_mode="+e+'" allowTransparency="true" frameborder="0"></iframe>':E&&E.length!==0?re='<iframe src="'+ne+"/embed/v2/sharing?view_mode="+e+"&selection="+E[0]+(K?"":"&screen="+Q)+'" allowTransparency="true" frameborder="0"></iframe>':re='<iframe src="'+ne+"/embed/v2/sharing?view_mode="+e+(K?"":"&screen="+Q)+'" allowTransparency="true" frameborder="0"></iframe>';let L=null;const ee=(0,s.useCallback)(he=>{const fe=he.currentTarget;fe.innerHTML=I18N.imockSharing.successfully_copied,clearTimeout(L),L=setTimeout(()=>{fe.innerHTML=I18N.imockSharing.successfully_copied},3e3),(0,U.kv)({action:"\u590D\u5236\u4EE3\u7801",project:u||{},linkName:l.link_name});try{MB.notice({text:"\u590D\u5236\u6210\u529F"})}catch(z){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"embedCopy"}}),"*")}},[l,L,u]),se=(0,s.useCallback)(he=>{(0,vn.$)(re),ee(he)},[ee,re]),ge=(0,s.useCallback)(()=>{r({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[r]);return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(On,{title:I18N.imockSharing.insert,handleClick:ge}),(0,i.jsxs)(no,{children:[(0,i.jsx)("p",{className:"desc",children:I18N.imockSharing.zoom_insertion_desc}),(0,i.jsxs)("div",{className:"copy-wrapper",children:[(0,i.jsx)("img",{src:S===wn.Sx.DARK?"/mb-workspace/images/sharing/share_embedded_dark.png":"/mb-workspace/images/sharing/share_embedded_light.png",className:"demo-img"}),(0,i.jsxs)("div",{className:"copy-box",children:[(0,i.jsx)("p",{className:"sharing-embedded-url",children:re}),(0,i.jsx)("button",{className:"copy-button copy","data-clipboard-text":re,onClick:se,children:I18N.imockSharing.copy_code})]})]})]})]})},kt=(0,s.memo)(Bt);var zt=n(54909);const gn=(0,A.AH)([".vip-title{display:inline-block;color:",";background-color:",";font-weight:500;font-size:12px;padding:0 4px;height:20px;text-align:center;border-radius:4px;line-height:20px;}"],e=>e.isIframe?zt.f.color_text_link_normal.value_dark:e.theme.color_text_link_normal,e=>e.isIframe?zt.f.color_info_bg.value_dark:e.theme.color_info_bg),Pn=A.Ay.div.withConfig({displayName:"styles__StyledNewSharePage",componentId:"sc-v150qt-0"})(["width:100%;height:100%;background-color:",";.basic-content{width:100%;height:calc(100% - ","px);:first-child{margin-bottom:16px;}}.header{height:","px;display:flex;align-items:center;border-bottom:1px solid ",";span{margin-left:24px;font-size:14px;font-weight:500;color:",";}}.share-link-title{margin-top:20px;margin-bottom:10px;display:flex;flex-direction:column;justify-content:center;margin-left:24px;font-size:12px;.title-text{color:",";}.name-input{display:flex;align-items:center;height:30px;font-size:14px;font-weight:500;color:",";span{max-width:212px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;height:24px;line-height:24px;&:hover:after{box-sizing:border-box;content:'';position:absolute;top:0;left:0;width:100%;height:100%;border-bottom:1px solid rgba(22,133,252,1);}}.input-icon{margin-left:8px;}input{width:100%;margin-right:32px;height:24px;line-height:24px;color:",";border-bottom:1px solid rgba(22,133,252,1);}}}.tabs{margin:8px 24px 18px 24px;border-bottom:1px solid ",";.sharing-nav{width:90px;height:25px;min-height:25px;padding:0px;}.nav-item{flex:0;padding:0 24px 0 0;}.nav-label{height:24px;}.active .nav-label{color:",";font-weight:600;}.active.basic{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:30px;height:2px;background:",";}}}.active.visible{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:50px;height:2px;background:",";}}}}.line-item{display:flex;padding:0 24px;height:34px;align-items:center;justify-content:space-between;flex-grow:0;.item-title{color:",";}.item-expired{display:flex;.WorkspaceSelect{border-radius:6px;}.general-input{width:65px;height:28px;border-radius:6px;margin-right:12px;}}.RadioGroup label{min-height:unset;margin-right:unset;font-size:12px;&:not(:last-child){margin-right:16px;}}.switch-group{display:flex;.view-sticky{display:flex;align-items:center;margin-right:17px;label{margin-right:4px;}}.view-prd{display:flex;align-items:center;.question-action{display:flex;align-items:center;margin:0 8px;color:",";&:hover{color:",";}}}label.checked{color:",";}}}"],e=>e.theme.color_bg_white,we.gE,we.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1),bs=A.Ay.div.withConfig({displayName:"styles__StyledBasic",componentId:"sc-v150qt-1"})(["overflow-y:overlay;.divider{height:1px;background:",";margin:4px 24px;}&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}.expiration,.menu-list-type{cursor:pointer;display:flex;align-items:center;color:",";.misc{display:flex;align-items:center;}.drop-down-icon{margin-left:6px;}}.expiration{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.menu-list-type{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.password-input-item{display:flex;align-items:center;> :last-child{margin-left:10px;}}.last{margin-bottom:-8px;}.line-item.version-control{"," .vip-title{cursor:pointer;margin-left:4px;}}"],e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.isActiveContextMenu&&e.menuListType==="expiration"?"rotate(-180deg)":"rotate(0deg)",e=>e.isActiveContextMenu&&e.menuListType==="viewMode"?"rotate(-180deg)":"rotate(0deg)",gn),Sn=A.Ay.div.withConfig({displayName:"styles__StyledVisible",componentId:"sc-v150qt-2"})(["height:328px;.visible-check{height:32px;}"]),vs=(0,A.DU)([".custom-title{display:flex;justify-content:space-between;align-items:baseline;","}}#IBOT_SELECT_MENU_ROOT .SelectMenuPortal .WorkspaceSelectMenu .SelectOption{height:28px;&:hover{.vip-title{background-color:",";}}}#IBOT_SELECT_MENU_ROOT .SelectMenuPortal .WorkspaceSelectMenu.is-open{right:-14px;}"],gn,e=>e.isIframe?zt.f.color_bg_white.value_dark:e.theme.color_bg_white);var Hn=n(53159);const _s=A.Ay.div.withConfig({displayName:"styles__StyledPasswordTextInput",componentId:"sc-k8kmsm-0"})(["display:flex;background-color:",";height:28px;&.is-warning{.password-input{border:1px solid #ff6161;border-radius:4px 0 0 4px;&:focus{border:1px solid #ff6161;}}}.divider{height:100%;width:1px;background-color:",";}.password-input-wrapper{position:relative;display:flex;align-items:center;width:100px;.password-input{position:relative;width:100%;font-size:12px;padding-right:22px;padding-left:8px;overflow:hidden;white-space:nowrap;text-overflow:clip;color:",";border:1px solid ",";border-radius:6px;height:100%;&:focus{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;}&:hover{border:1px solid ",";}}.reset-pwd{width:20px;height:20px;position:absolute;border-radius:4px;right:4px;color:",";cursor:pointer;&:hover{path{fill:",";}color:",";background-color:",";}&:active{path{fill:",";}color:",";background-color:",";}}}.password-button{width:72px;padding:8px 12px;color:",";font-size:12px;line-height:16px;white-space:nowrap;border:1px solid ",";border-radius:0 4px 4px 0;border-left:none;background-color:",";&.saved{background-color:",";color:#999;pointer-events:none;}}"],e=>e.theme.color_bg_white,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02,e=>e.theme.color_proto,e=>e.theme.color_proto,e=>e.theme.color_proto,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_canvas,e=>e.theme.color_bg_canvas);function ws(e){return Math.random().toString(36).slice(-e)}function so(e){const{onSubmit:r,value:l}=e,[u,S]=(0,s.useState)(e.value),w=(0,s.useRef)(null),m=K=>{S(K.target.value)},I=()=>{const K=ws(6);S(K),r(K)},E=()=>{if(!r(u)){S(l);try{MB.notice({text:"\u5BC6\u7801\u683C\u5F0F\u9519\u8BEF\uFF0C\u4E0D\u5F97\u4E3A\u7A7A\u6216\u7279\u6B8A\u5B57\u7B26",type:"warning"})}catch(Q){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}}},B=K=>{K.key==="Enter"&&(E(),w.current.blur())};return(0,i.jsx)(_s,{children:(0,i.jsxs)("div",{className:"password-input-wrapper",children:[(0,i.jsx)("input",{ref:w,type:"text",className:"password-input",value:u,onChange:m,onBlur:E,onKeyPress:B}),(0,i.jsx)(wt.A,{content:I18N.imockSharing.gen_pwd_randomly,direction:"down",children:(0,i.jsx)(je.C,{className:"reset-pwd",name:"common/spinner",onClick:I})})]})})}function Ss(e){const{isOrgProject:r,sharingData:l,updateSharing:u}=e,S=l.view_mode,{isHavePassword:w}=An(l),m=(0,f.wA)(),E=(0,f.d4)(c.query.getHostType)==="iframe",{comment_permission:B,wechat:K,view_sticky:Q,is_first_canvas_open:O}=l,re=(0,s.useMemo)(()=>(0,U.R0)(r),[r]),ne=()=>{if(w)u({password:""}),m({type:c.entryKey["sharing:settingPage:default:confirm"]});else{const ye=ws(6);L(ye)}m({type:c.entryKey["sharing:function:track"],payload:{operation:w?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:S}})},L=ye=>/^\s*$/.test(ye)||!/^\w+$/.test(ye)?!1:(u({password:ye}),m({type:c.entryKey["sharing:settingPage:default:confirm"]}),m({type:c.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:S}}),!0),ee=()=>{u({wechat:!K}),m({type:c.entryKey["sharing:settingPage:default:confirm"]}),m({type:c.entryKey["sharing:function:track"],payload:{operation:K?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:S}})},se=()=>{u({is_first_canvas_open:!O}),m({type:c.entryKey["sharing:settingPage:default:confirm"]}),m({type:c.entryKey["sharing:function:track"],payload:{operation:O?"\u5173\u95ED\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03":"\u6253\u5F00\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03",viewMode:S}})},ge=(0,s.useMemo)(()=>B==="org_member",[B]),he=()=>{u({view_sticky:Q==="view_sticky"?"no_sticky":"view_sticky"}),m({type:c.entryKey["sharing:settingPage:default:confirm"]}),m({type:c.entryKey["sharing:function:track"],payload:{operation:Q?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:S}})},fe=()=>{u({comment_permission:B==="org_member"?"off":"org_member"}),m({type:c.entryKey["sharing:settingPage:default:confirm"]}),m({type:c.entryKey["sharing:function:track"],payload:{operation:ge?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:S}})},z=ye=>{let{value:be}=ye;u({view_access:be}),m({type:c.entryKey["sharing:settingPage:default:confirm"]}),m({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:{access:be}}}),m({type:c.entryKey["sharing:function:track"],payload:{operation:be==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:S,isDefault:!1}})};return(0,i.jsxs)(bs,{children:[r&&(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,i.jsx)(Hn.A,{name:"access",optionList:re,value:l.view_access,onChange:z})]}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,i.jsxs)("div",{className:"password-input-item",children:[w&&(0,i.jsx)(so,{value:l.password,onSubmit:L}),(0,i.jsx)(St.A,{size:"small",isIOS:!0,isChecked:w,onChange:ne})]})]}),(0,i.jsx)("div",{className:"divider"}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,i.jsx)(St.A,{size:"small",isIOS:!0,isChecked:Q==="view_sticky",onChange:he})]}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,i.jsx)(St.A,{size:"small",isIOS:!0,isChecked:ge,onChange:fe})]}),(0,i.jsx)("div",{className:"divider"}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,i.jsx)(St.A,{size:"small",isIOS:!0,isChecked:K,onChange:ee})]}),!E&&(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:"\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03"}),(0,i.jsx)(St.A,{size:"small",isIOS:!0,isChecked:O,onChange:se})]})]})}var oo=n(60185);const Cs=()=>[{key:"read_only",label:I18N.imockSharing.read_only_mode,icon:"sharing/mode_canvas"},{key:"device",label:I18N.imockSharing.device_mode,icon:"sharing/mode_device"},{key:"inspect",label:I18N.imockSharing.inspect_mode,icon:"sharing/mode_inspect"}],Ms=e=>{let{sharingData:r,updateSharing:l}=e;const u=O=>()=>{l({device_model:O})},[S,w]=(0,s.useState)(!1),m=(0,s.createRef)(),I=(0,f.d4)(c.query.getTheme),[E,B]=(0,s.useState)({left:0,top:0}),K=()=>{if(!(m!=null&&m.current))return;const{left:O,top:re,height:ne}=m.current.getBoundingClientRect();B({left:O-58,top:re+ne+6}),setTimeout(()=>{w(!0)},0)},Q=()=>{w(!1)};return(0,i.jsx)(io,{className:q()({dark:I==="dark"}),children:(0,i.jsxs)("div",{className:"device-model",children:[(0,i.jsxs)("div",{className:"device-model-header",children:[(0,i.jsx)("div",{className:"device-model-title",children:I18N.imockSharing.default_mode}),(0,i.jsxs)("div",{className:"modal-container",ref:m,children:[(0,i.jsx)(je.C,{onMouseEnter:K,onMouseLeave:Q,className:"tipsIcon",name:"sharing/question",size:14}),S&&(0,i.jsx)(Vn,{theme:I,position:E})]})]}),(0,i.jsx)("div",{className:"device-model-type-container",children:Cs().map((O,re)=>{let{key:ne,label:L,icon:ee}=O;const se="device-model-"+ne+"   ";return(0,i.jsxs)("div",{className:q()("device-model-type-item",se,{"is-active":ne===r.device_model,dark:I==="dark"}),onClick:u(ne),children:[(0,i.jsx)(je.C,{name:ee,size:16}),(0,i.jsx)("span",{children:L})]},re)})})]})})},Vn=(0,s.memo)(e=>{const{theme:r,position:l}=e;return(0,oo.createPortal)((0,i.jsxs)(Ns,{className:q()("device-model-modal",{light:r==="light",dark:r==="dark"}),style:{left:l.left,top:l.top},children:[(0,i.jsx)("div",{className:"icon-triangle"}),(0,i.jsxs)("div",{className:q()("modal-content"),children:[(0,i.jsxs)("div",{className:"content-item read_only",children:[(0,i.jsx)("img",{src:"/mb-proto2/images/sharing/intro_read_only_"+r+"_2.png"}),(0,i.jsxs)("div",{className:"content-item-text",children:[(0,i.jsx)("div",{className:"intro-title",children:I18N.imockSharing.read_only_mode}),(0,i.jsx)("div",{className:"intro-content",children:I18N.imockSharing.read_only_mode_intro})]})]}),(0,i.jsxs)("div",{className:"content-item device",children:[(0,i.jsx)("img",{src:"/mb-proto2/images/sharing/intro_device_"+r+"_2.png"}),(0,i.jsxs)("div",{className:"content-item-text",children:[(0,i.jsx)("div",{className:"intro-title",children:I18N.imockSharing.device_mode}),(0,i.jsx)("div",{className:"intro-content",children:I18N.imockSharing.device_mode_intro})]})]}),(0,i.jsxs)("div",{className:"content-item inspect",children:[(0,i.jsx)("img",{src:"/mb-proto2/images/sharing/intro_inspect_"+r+"_2.png"}),(0,i.jsxs)("div",{className:"content-item-text",children:[(0,i.jsx)("div",{className:"intro-title",children:I18N.imockSharing.inspect_mode}),(0,i.jsx)("div",{className:"intro-content",children:I18N.imockSharing.inspect_mode_intro})]})]})]})]}),document.body)}),io=A.Ay.div.withConfig({displayName:"ViewModeModel__StyledDeviceModel",componentId:"sc-spi606-0"})(["position:relative;margin-bottom:14px;margin-top:20px;.device-model{padding:0 24px;.device-model-header{display:flex;align-items:center;margin-bottom:10px;color:",";.device-model-title{margin-right:4px;line-height:14px;}}.modal-container{display:flex;.tipsIcon{color:",";&:hover{color:",";}}}.device-model-type-container{display:flex;justify-content:space-between;.svg-icon > *{fill:currentColor;}.device-model-type-item{width:111px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid rgba(219,219,219,1);border-radius:6px;color:",";&.dark{border:1px solid #4f5052;}span{margin-left:4px;font-size:14px;}&:hover{border:1px solid  ",";}.svg-icon{[stroke]{stroke:currentColor;fill:none;}}&.is-active{border:1px solid  ",";color:",";.svg-icon{color:",";}}}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal),Ns=A.Ay.div.withConfig({displayName:"ViewModeModel__StyledDeviceModelModal",componentId:"sc-spi606-1"})(["&.device-model-modal{z-index:100;position:absolute;border-radius:8px;&.dark{.modal-content{outline:1px solid ",";}}&.light{box-shadow:0px 2px 10px 0px #27364E14;box-shadow:4px 12px 40px 0px #27364E1A;}.icon-triangle{z-index:1;position:absolute;width:10px;height:10px;top:-4px;left:58px;background:",";transform:rotate(45deg);border-top-left-radius:1px;}&.dark .icon-triangle{width:9px;height:9px;top:-5px;left:59px;border-top:1px solid ",";border-left:1px solid ",";}.modal-content{display:flex;flex-direction:column;padding:20px;width:374px;height:366px;border-radius:8px;background:",";&:lang(en){height:250px;}img{width:160px;height:96px;}.content-item:not(:last-child){margin-bottom:16px;}.content-item-text{display:flex;flex-direction:column;justify-content:center;height:100%;margin-left:16px;}.device,.read_only,.inspect{width:100%;height:96px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;.intro-title{width:56px;height:22px;color:",";font-size:14px;font-weight:600;margin-bottom:6px;&:lang(en){width:max-content;}}.intro-content{color:",";}}}}"],e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2);function ro(){const e=(0,f.d4)(c.query.getCurrentSharing),r=(0,f.d4)(c.query.getProject),l=(0,f.wA)(),u=(0,s.useCallback)(m=>{l({type:c.entryKey["sharing:currentSharing:update"],payload:{updatedKV:m}})},[l]),S=m=>{l({type:c.entryKey["sharing:currentSharing:update"],payload:{updatedKV:m}}),(0,pt.a0)(r.cid+"_default_sharing_view_mode",m.device_model,pt.qW.String),l({type:c.entryKey["sharing:settingPage:default:confirm"]})},w=()=>{l({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})};return(0,i.jsxs)(Pn,{children:[(0,i.jsx)(On,{title:I18N.imockSharing.sharing_setting_title,handleClick:w}),(0,i.jsxs)("div",{className:"basic-content",children:[(0,i.jsx)(Ms,{sharingData:e,updateSharing:S}),(0,i.jsx)(Ss,{isOrgProject:r.is_org_project,sharingData:e,updateSharing:u})]})]})}var as=n(54608);const Is=()=>(0,i.jsx)(Es,{}),Es=A.Ay.div.withConfig({displayName:"Divider__StyledDivider",componentId:"sc-x06h85-0"})(["height:1px;background:",";margin:8px 24px;"],e=>e.theme.color_background_icon_hover2);var ao=n(7775),lo=n(60081),js=n(24660),ks=n(39547);function co(e){const{isOrgProject:r,sharingData:l,updateSharing:u,settingPageType:S}=e,w=l.device_model,m=(0,s.useMemo)(()=>(0,U.R0)(r),[r]),{isHavePassword:I}=An(l),E=(0,f.d4)(c.query.getUser),B=(0,f.d4)(c.query.getOrg),Q=(0,f.d4)(c.query.getHostType)==="iframe",O=(0,f.wA)(),re="v8-\u5206\u4EAB\u5F39\u7A97_\u81EA\u5B9A\u4E49\u94FE\u63A5\u6709\u6548\u671F";let ne=!1,L=!1;if(r){const{plan:ft}=(0,Tn.rM)(B);ne=[an.Sj.OrgExpired,an.Sj.OrgFree].includes(ft),L=ft!==an.Sj.OrgFull}else{const ft=ks.t.InitialUser(E),vt=ft.planSdk.prototypePlan.getUserPlan(),on=ft.planSdk.prototypePlan.getUserStatus();ne=![an.L1.Lifetime,an.L1.PremiumLifetime].includes(vt)&&on!==an.pZ.Trial,L=![an.L1.Lifetime,an.L1.PremiumLifetime].includes(vt)}const{view_sticky:ee,comment_permission:se,wechat:ge,enable_version_record:he,is_first_canvas_open:fe}=l,z=ft=>{let{value:vt}=ft;u({view_access:vt})},ye=()=>{if(I)u({password:""});else{const ft=ws(6);be(ft)}O({type:c.entryKey["sharing:function:track"],payload:{operation:I?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:w,isDefault:!0}})},be=ft=>/^\s*$/.test(ft)||!/^\w+$/.test(ft)?!1:(u({password:ft}),O({type:c.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:w,isDefault:!0}}),!0),xe=()=>{u({wechat:!ge}),O({type:c.entryKey["sharing:function:track"],payload:{operation:ge?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:w,isDefault:!0}})},Te=()=>{u({is_first_canvas_open:!fe}),O({type:c.entryKey["sharing:function:track"],payload:{operation:fe?"\u6253\u5F00\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03":"\u5173\u95ED\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03",viewMode:w,isDefault:!0}})},Ae=(0,s.useMemo)(()=>se==="org_member",[se]),Ze=()=>{u({view_sticky:!ee,sticky:!ee}),O({type:c.entryKey["sharing:function:track"],payload:{operation:ee?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:w,isDefault:!0}})},Be=()=>{u({comment_permission:se==="org_member"?"off":"org_member"}),O({type:c.entryKey["sharing:function:track"],payload:{operation:Ae?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:w,isDefault:!0}})},[$e,ot]=(0,s.useState)("1"),[at,lt]=(0,s.useState)("forever"),{remainTimeText:Mt}=kn(l,!1,999);(0,s.useEffect)(()=>{l&&l.expire_type==="forever"?lt(l.expire_type):(ot(l.expire_type),lt(Mt))},[l,Mt]);const Tt=(0,s.useRef)(null),Ot=()=>{if(ne){const ft=(0,js.l)(B,re);if(B||(ft.mode="org",ft.isSelectOrg=!0),Q){const vt="/workspace?payment_param="+(0,It._)(ft);(0,ut.JW)(vt,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(ft);return!0}return!1},Dt=ft=>{if(ft==="forever")u({expire_type:ft});else if(Ot()){u({expire_type:"forever"},{isCustom:!0});return}O({type:c.entryKey["sharing:function:track"],payload:{operation:ft==="forever"?"\u6709\u6548\u671F\u6C38\u4E45":"\u6709\u6548\u671F\u81EA\u5B9A\u4E49",viewMode:w,isDefault:!1}}),lt(ft)},Vt=[{label:"\u6C38\u4E45\u6709\u6548",value:"forever"},{label:ne?(0,i.jsxs)("div",{className:"custom-title",children:["\u81EA\u5B9A\u4E49",(0,i.jsx)("span",{className:"vip-title",children:"\u56E2\u961F\u7248"})]}):"\u81EA\u5B9A\u4E49",value:"custom"}],gt=ft=>/^([1-9]\d{0,3}|9999)$/.test(ft),At=ft=>{const vt=ft.target.value;if(!gt(vt))try{MB.notice({text:"\u8F93\u5165\u503C\u65E0\u6548\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165",type:"warning"});return}catch(Xn){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}u({expire_type:vt}),ot(vt)},Pt=()=>{const ft=(0,js.l)(B,"\u7F16\u8F91\u533A_v8\u539F\u578B\u5206\u4EAB_\u7248\u672C\u8BB0\u5F55\u5F00\u5173","v8proto-share-set-version",!0);if(ft.immediateUse="org_full",Q){const vt="/workspace?payment_param="+(0,It._)(ft);(0,ut.JW)(vt,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(ft)},Jt=()=>{L?Pt():(u({enable_version_record:!he}),O({type:c.entryKey["sharing:function:track"],payload:{operation:he?"\u5173\u95ED\u67E5\u770B\u7248\u672C\u8BB0\u5F55":"\u6253\u5F00\u67E5\u770B\u7248\u672C\u8BB0\u5F55",viewMode:w,isDefault:!1}}))};return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsxs)(bs,{children:[l.type==="advanced"&&r&&(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,i.jsx)(Hn.A,{name:"access",optionList:m,value:l.view_access,onChange:z})]}),(0,i.jsxs)("div",{className:"line-item "+(r?"mt":""),children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,i.jsxs)("div",{className:"password-input-item",children:[I&&(0,i.jsx)(so,{value:l.password,onSubmit:be}),(0,i.jsx)(St.A,{size:"small",isIOS:!0,isChecked:I,onChange:ye})]})]}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_link_expired}),(0,i.jsxs)("div",{className:"item-expired",children:[at==="custom"&&(0,i.jsx)(lo.A,{className:"general-input",attr:"width",value:$e,cursorDirection:!1,min:1,max:9999,rightTitle:"\u5929",actionButton:!1,ref:Tt,isSelect:!0,onBlur:At,disableKeyboardEvents:!0}),(0,i.jsx)(ao.mq,{value:at,attr:"expire_type",placeholder:S==="create"?$e+"\u5929\u540E\u5931\u6548":at,optionList:Vt,onChange:ft=>Dt(ft)})]})]}),(0,i.jsx)(Is,{}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,i.jsx)(St.A,{size:"small",isIOS:!0,isChecked:ee,onChange:Ze})]}),(0,i.jsxs)("div",{className:"line-item mt",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,i.jsx)(St.A,{size:"small",isIOS:!0,isChecked:Ae,onChange:Be})]}),(0,i.jsxs)("div",{className:"line-item version-control mt",children:[(0,i.jsxs)("label",{className:"item-title",children:[I18N.imockSharing.version_control,L&&(0,i.jsx)("span",{className:"vip-title",onClick:Pt,children:I18N.Common.business_plan})]}),(0,i.jsx)(St.A,{size:"small",isIOS:!0,isChecked:he,readOnly:L,onChange:Jt})]}),(0,i.jsx)(Is,{}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,i.jsx)(St.A,{size:"small",isIOS:!0,isChecked:ge,onChange:xe})]}),!Q&&(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:"\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03"}),(0,i.jsx)(St.A,{size:"small",isIOS:!0,isChecked:fe,onChange:Te})]})]}),(0,i.jsx)(vs,{isIframe:Q})]})}var ln=n(74059),uo=n(66748),_t=n.n(uo);const Ts=A.Ay.div.withConfig({displayName:"styles__StyledCheck",componentId:"sc-1wxzhto-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:#f2f2f2;}}> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:",";transition:all 0.2s ease-in-out;background-color:",";.icon{transition:all 0.2s ease-in-out;position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#f2f4f5;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_disabled01,e=>e.isCircle?"50%":"2px",e=>e.theme.color_bg_white,e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2);class Gn extends s.PureComponent{constructor(){super(...arguments),(0,ln.A)(this,"onToggle",r=>{const{onChange:l}=this.props;l(r)})}render(){const{className:r,isDisabled:l,readOnly:u,isChecked:S,isCircle:w}=this.props,m=q()(r,{"is-checked":S,"is-disabled":l,readonly:u});return(0,i.jsx)(Ts,{className:m,onClick:this.onToggle,isCircle:w,children:(0,i.jsx)("span",{className:"Check-state",children:(0,i.jsx)(je.C,{name:"new_replace/box_check"})})})}}(0,ln.A)(Gn,"propTypes",{isChecked:_t().bool,isDisabled:_t().bool,readOnly:_t().bool,onChange:_t().func,label:_t().any,name:_t().string,value:_t().any,className:_t().string,isCircle:_t().bool}),(0,ln.A)(Gn,"defaultProps",{isChecked:!1,label:"",className:"",isCircle:!1,onChange:()=>null,onToggle:()=>null});var ls=n(67234),cs=n(89099),As=n(44622);const po=A.Ay.div.withConfig({displayName:"styles__StyledSharingScreenHiddenList",componentId:"sc-1bmii7a-0"})(["padding:0 17px;.sm-hidden-check{display:flex;height:40px;align-items:center;justify-content:space-between;.item-title{color:",";}}.sm-check{.Check-state{background-color:transparent;border:1px solid ",";}.Check-label{color:",";}&.is-checked .Check-state{background-color:#1684fc;border:1px solid #1684fc;.icon{color:#fff;}}&.is-checked.is-disabled .Check-state{background-color:",";border:1px solid ",";span.icon{color:",";}}&.is-disabled .Check-state{background-color:",";border:1px solid ",";}&.is-disabled::after{background-color:unset;}}.screen-config-header{display:flex;padding-left:8px;flex-direction:row;height:36px;&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}> label{&.is-disabled::after{background-color:unset;}}span.Check-label{color:",";}.content-wrapper{span{color:",";}}}span.Check-label{color:",";margin-left:10px;}.content-wrapper{display:flex;align-items:center;span{&.divider{margin-left:10px;margin-right:11px;}color:",";}}}.screen-list-content{height:210px;overflow-y:overlay;background:",";margin:0 8px;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&.dark{&::-webkit-scrollbar-thumb{background-color:#666;border-radius:4px;&:hover{background-color:#cccccc;}}}&::-webkit-scrollbar-corner{background-color:transparent;}&::-webkit-scrollbar{width:6px;}.screen-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}}ol,li{list-style:none;}.sm-list{height:auto;overflow-y:overlay;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}margin-left:8px;padding-left:15px;.sm-box{display:flex;align-items:center;height:36px;&.is-disabled{cursor:not-allowed;.sm-item{cursor:not-allowed;.expander{svg{color:",";cursor:not-allowed;}}.screen-name{color:",";}}}}.sm-item{display:flex;height:100%;width:100%;align-items:center;cursor:pointer;.sm-icon{min-width:20px;min-height:20px;margin-right:4px;color:",";}.expander{display:flex;align-items:center;justify-content:center;margin-left:-15px;margin-right:1px;width:14px;height:14px;.arrow-icon{margin-right:0;color:#999;width:8px;&:not(.is-expand){transform:rotate(-90deg);}}}.screen-icon{margin-right:4px;}.screen-name{color:",";}}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1);class Ls extends s.PureComponent{constructor(r){super(r),(0,ln.A)(this,"handleCheck",m=>{const{onUpdateScreenVisibleList:I,screenVisibleList:E}=this.props,B=new Set(E),K=(0,As.YU)(m),Q=B.has(m.cid);K.forEach(re=>{let{cid:ne}=re;Q?B.delete(ne):B.add(ne)});const O=[];for(const re of B){const ne=this.screenDataMap[re];ne&&!(0,As.Mo)(ne)&&O.push(ne)}I(Array.from(B))}),(0,ln.A)(this,"onSelectAll",m=>{const{onUpdateScreenVisibleList:I}=this.props;I(m?this.pageKeyList:[])});const{screenMetaList:l}=r,{treeData:u,pageAttrMap:S,pageKeyList:w}=l;this.screenDataMap=S,this.screenTreeData=u,this.pageKeyList=w,this.pageExceptFolderList=(0,U.RF)(S)}componentDidMount(){const r=(0,pt.Yt)("currentJumpingSharingScreenMetaCid",void 0,pt.qW.String);(0,pt.G5)("currentJumpingSharingScreenMetaCid"),r!==void 0&&setTimeout(()=>document.getElementById("app-sharing").querySelector('.content-item[data-cid="'+r+'"]').scrollIntoView(),300)}render(){const{theme:r,screenVisibleList:l,isDisplayScreenAll:u}=this.props,S=(l==null?void 0:l.length)===this.pageKeyList.length,w=(0,U.Mj)(u,l,this.pageExceptFolderList);return(0,i.jsxs)(po,{children:[(0,i.jsxs)("div",{className:q()("screen-config-header",{"is-disabled":u}),children:[(0,i.jsx)(ls.A,{className:"sm-check",label:I18N.imockSharing.select_all,onChange:this.onSelectAll,isDisabled:u,isChecked:S}),(0,i.jsxs)("div",{className:"content-wrapper",children:[(0,i.jsx)("span",{className:"divider",children:"|"}),(0,i.jsx)("span",{children:I18N.imockSharing.select_n_screens.replace("%1",w).replace("%2",this.pageExceptFolderList.length)})]})]}),(0,i.jsx)("div",{className:q()("screen-list-content",{"is-disabled":u,dark:r==="dark"}),children:(0,i.jsx)("div",{className:"sm-list",children:(0,i.jsx)(Os,{theme:r,isDisplayScreenAll:u,screenTreeData:this.screenTreeData,screenVisibleList:l,onCheck:this.handleCheck})})})]})}}(0,ln.A)(Ls,"propTypes",{theme:_t().string,screenMetaList:_t().object,screenVisibleList:_t().array,onUpdateScreenVisibleList:_t().func,isDisplayScreenAll:_t().bool});const Os=e=>{let{theme:r,isDisplayScreenAll:l,screenTreeData:u,screenVisibleList:S,onCheck:w}=e;return(0,i.jsx)(i.Fragment,{children:u.children.map(m=>(0,i.jsx)(Kn,{theme:r,treeNode:m,root:!0,depth:0,screenVisibleList:S,isDisplayScreenAll:l,onCheck:w},m.cid))})};Os.propTypes={theme:_t().string,isDisplayScreenAll:_t().bool,screenTreeData:_t().object,screenVisibleList:_t().array,onCheck:_t().func};class Kn extends s.PureComponent{constructor(r){super(r),(0,ln.A)(this,"handleCheck",l=>{l.stopPropagation();const{isDisplayScreenAll:u}=this.props;if(u)return;const{treeNode:S,onCheck:w}=this.props;w(S)}),(0,ln.A)(this,"handleExpand",l=>{const{isDisplayScreenAll:u}=this.props;u||(l.stopPropagation(),this.setState({expand:!this.state.expand}))}),this.state={expand:!0}}render(){const{isDisplayScreenAll:r,treeNode:l,root:u,depth:S,screenVisibleList:w,onCheck:m,theme:I}=this.props,{children:E,data:B}=l,K=E.length!==0,{expand:Q}=this.state,O=w&&w.includes(l.cid);return(0,i.jsxs)("li",{className:q()("content-item"),"data-cid":l.cid,children:[(0,i.jsxs)("div",{className:q()("sm-box",{"is-display":O,"is-disabled":r}),children:[(0,i.jsx)(Gn,{isDisabled:r,className:"sm-check",isChecked:O,onChange:this.handleCheck}),(0,i.jsx)(Ps,{isDisabled:r,theme:I,root:u,depth:S,showExpander:K,data:B,expand:Q,onClick:this.handleCheck,onExpand:this.handleExpand})]}),E.length>0&&Q&&(0,i.jsx)("ol",{className:"sm-child",children:E.map(re=>(0,i.jsx)(Kn,{theme:I,treeNode:re,depth:S+1,screenVisibleList:w,isDisplayScreenAll:r,onCheck:m},re.cid))})]})}}(0,ln.A)(Kn,"propTypes",{theme:_t().string,isDisplayScreenAll:_t().bool,treeNode:_t().object,screenVisibleList:_t().array,depth:_t().number,root:_t().bool,onCheck:_t().func});class Ps extends s.PureComponent{render(){const{depth:r,showExpander:l,data:u,expand:S,onExpand:w,onClick:m,theme:I,isDisabled:E}=this.props,B=19*(r+1);return(0,i.jsxs)("div",{className:q()("sm-item"),style:{paddingLeft:B},onClick:m,children:[l&&(0,i.jsx)("a",{className:"expander",onClick:w,children:(0,i.jsx)(je.C,{className:q()("arrow-icon",{"is-expand":S}),name:"common/expand"})}),(0,i.jsx)(cs.k,{icon:u.icon,theme:I,disabled:E,isExpand:S}),(0,i.jsx)("span",{className:"screen-name",children:u.name})]})}}(0,ln.A)(Ps,"propTypes",{theme:_t().string,isDisabled:_t().bool,showExpander:_t().bool,data:_t().object,depth:_t().number,expand:_t().bool,onExpand:_t().func,onClick:_t().func});function ho(e){const r=[{value:1,label:I18N.imockSharing.all_pages},{value:2,label:I18N.imockSharing.partial_pages}],{sharingData:l,updateSharing:u}=e,[S,w]=(0,s.useState)(l.screen_visible_switch?2:1),m=(0,f.d4)(c.query.getTheme),I=(0,f.d4)(c.query.getScreenMetaList),E=K=>{u({screen_visible_list:K})},B=K=>{let{value:Q}=K;u({screen_visible_switch:Q==="2",screen_visible_list:[]}),w(Q)};return(0,i.jsxs)(Sn,{children:[(0,i.jsx)("div",{className:"line-item visible-check",children:(0,i.jsx)(Hn.A,{name:"access",optionList:r,value:S,onChange:B})}),I&&(0,i.jsx)(Ls,{theme:m,screenMetaList:I,screenVisibleList:l.screen_visible_list,isDisplayScreenAll:!l.screen_visible_switch,onUpdateScreenVisibleList:E})]})}var Ds=n(19722);const mo=e=>{let{handleConfirm:r,handleCancel:l}=e;const u=(0,f.d4)(c.query.getCurrentSharing),S=(0,f.d4)(c.query.getTheme),w=(0,f.d4)(c.query.getScreenMetaList),m=u.type==="default"?!1:u.screen_visible_switch&&(0,U.Mb)(w,u).selectedSize===0,I=()=>{m||r()};return(0,i.jsxs)(Rs,{className:"confirm-bar",children:[(0,i.jsx)(dn.jn,{className:q()("confirm",{dark:S==="dark"}),disabled:m,onClick:I,children:I18N.SettingPanel.confirm}),(0,i.jsx)(dn.tA,{className:"cancel",onClick:l,children:I18N.imockSharing.cancel})]})},Rs=A.Ay.div.withConfig({displayName:"ConfirmBar__StyledConfirmBar",componentId:"sc-1m75upe-0"})(["&.confirm-bar{display:inline-flex;flex-direction:row-reverse;padding:20px 24px;transition:all 0.2s ease-in-out 0s;position:absolute;bottom:0px;right:0px;.confirm{margin-left:12px;}}"]),Bs=()=>[{key:0,name:"basic",label:I18N.imockSharing.sharing_basic},{key:1,name:"visible",label:I18N.imockSharing.sharing_visible}];function ds(){const e=(0,f.d4)(c.query.getProject),r=(0,f.d4)(c.query.getSettingPageType),l=(0,f.d4)(c.query.getSubSettingPageType),u=(0,f.d4)(c.query.getCurrentSharing),S=(0,f.d4)(c.query.getAdvancedSharingList),w="recommend",m=(0,f.wA)(),[I,E]=(0,s.useState)(l==="basic"?0:1),[B,K]=(0,s.useState)(u.link_name),[Q,O]=(0,s.useState)(!1),re=Be=>{E(Be)},ne=(0,s.useCallback)(async(Be,$e)=>{const{isCustom:ot}=$e||{};m({type:c.entryKey["sharing:settingPage:advanced:confirm"],payload:{updatedKV:Be,...ot!==void 0&&{isCustom:ot}}})},[m]),L=(0,s.useCallback)(()=>{m({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}}),r==="edit"&&Q&&m({type:"sharing:advance:click:track"})},[m,r,Q]),ee=(0,s.useCallback)((Be,$e)=>{m({type:c.entryKey["sharing:currentSharing:update"],payload:{updatedKV:Be}}),r==="edit"&&(O(!0),ne(Be,$e))},[m,r,ne,O]),se=()=>{const Be=be.current.value;Be===""?(m({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}}),Ae(B)):(0,U.it)({value:Be,currentSharing:u,sharingList:S})?(Ae(B),m({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}})):(K(Be),ee({link_name:Be}))},{isRenaming:ge,setIsRenaming:he,handleKeyDown:fe,handleBlur:z,handleFocus:ye,inputRef:be,handleInput:xe,inputName:Te,setInputName:Ae}=Zs({name:u.link_name,fBlur:se}),Ze=()=>{he(!0)};return(0,i.jsxs)(Pn,{children:[r==="create"?(0,i.jsx)("div",{className:"header",children:(0,i.jsx)("span",{children:I18N.imockSharing.sharing_create_title})}):(0,i.jsx)(On,{title:I18N.imockSharing.sharing_setting_title,handleClick:L}),(0,i.jsxs)("div",{className:"share-link-title",children:[(0,i.jsx)("div",{className:"title-text",children:I18N.SmartFill.title}),(0,i.jsx)("div",{className:q()("name-input",{"is-renaming":ge}),children:ge?(0,i.jsx)("form",{children:(0,i.jsx)("input",{value:Te,onFocus:ye,onChange:xe,ref:be,onBlur:z,onKeyPress:fe})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{onClick:Ze,children:B}),(0,i.jsx)(Ds.A,{size:20,name:"sharing/pen_20",className:"input-icon",onClick:Ze})]})})]}),(0,i.jsx)(Ms,{sharingData:u,updateSharing:ee}),(0,i.jsxs)("div",{className:"tabs",children:[(0,i.jsx)(as.A,{className:"sharing-nav",activeIndex:I,onTabChange:re,layoutV9:w,children:Bs().map(Be=>{let{key:$e,name:ot,...at}=Be;return(0,i.jsx)(as.n,{...at,active:I===$e,className:q()({visible:ot==="visible",basic:ot==="basic"})},$e)})}),(0,i.jsx)("div",{})]}),I===0?(0,i.jsx)(co,{isOrgProject:e.is_org_project,sharingData:u,updateSharing:ee,settingPageType:r}):(0,i.jsx)(ho,{sharingData:u,updateSharing:ee}),r==="create"&&(0,i.jsx)(mo,{handleConfirm:ne,handleCancel:L})]})}function go(){return(0,f.d4)(c.query.getCurrentSharing).type==="default"?(0,i.jsx)(ro,{}):(0,i.jsx)(ds,{})}const qt=A.Ay.div.withConfig({displayName:"styles__StyledSharingToast",componentId:"sc-lv8qo5-0"})(["z-index:1;border-radius:4px;position:absolute;display:flex;align-items:center;padding:6px 10px;color:#FFF;font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:24px;background:#454647;top:72px;left:50%;transform:translateX(-50%);svg{width:21px;height:21px;margin-right:4px;}"]),fo=(0,s.memo)(function(){const r=(0,f.d4)(c.query.getSharingToast),l=(0,f.wA)();return(0,s.useEffect)(()=>{setTimeout(()=>{l({type:c.entryKey["sharing:init"],payload:{sharingToast:""}})},1500)},[l]),r?(0,i.jsxs)(qt,{children:[(0,i.jsx)(je.C,{name:"sharing/toast_waring",isColorPure:!0}),r]}):null}),yo=A.Ay.div.withConfig({displayName:"styles__StyledSharingQrCode",componentId:"sc-17am38q-0"})(["margin-top:70px;display:flex;align-items:center;justify-content:flex-start;flex-direction:column;height:calc(100% - ","px);p{margin-top:16px;color:","}"],we.gE,e=>e.theme.color_text_L3);var Zn=n(80582);const xo=A.Ay.div.withConfig({displayName:"styles__StyledQRcodeBox",componentId:"sc-1xfoi8f-0"})(["display:flex;justify-content:center;align-items:center;background-color:",";border-radius:8px;width:130px;height:130px;filter:",";border:1px solid ",";.qrcode{width:110px;height:110px;}&.qrcode-and-icon{.p-icon-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;overflow:hidden;background-color:#f2f2f3;border-radius:2px;img{display:block;width:100%;height:100%;}}}"],e=>e.theme.color_sharing_qrcode_bg,e=>e.theme.color_sharing_qrcode_filter,e=>e.theme.color_share_del_confirm_border_color);function Fs(e){const{isQRcodePanel:r,text:l,project:u}=e,S=u.icon||null;return r?(0,i.jsxs)(xo,{className:"qrcode-and-icon",children:[(0,i.jsx)(Zn.A,{className:"qrcode",text:l,width:110,height:110}),S&&(0,i.jsx)("div",{className:"p-icon-box",children:(0,i.jsx)("img",{src:S})})]}):null}const bo=()=>{const e=(0,f.wA)(),r=(0,f.d4)(c.query.getCurrentSelectSharing),l=(0,f.d4)(c.query.getProject),u=(0,f.d4)(c.query.getHostCurrentScreen),S=u==null?void 0:u.cid,w=(0,s.useMemo)(()=>(0,U.O8)(l,r,S),[r,l,S]),m=(0,s.useCallback)(()=>{e({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[e]);return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(On,{title:I18N.imockSharing.qr_code,handleClick:m}),(0,i.jsxs)(yo,{children:[(0,i.jsx)(Fs,{isQRcodePanel:!0,project:l,text:w}),(0,i.jsx)("p",{children:I18N.imockSharing.qr_tips})]})]})},vo=(0,s.memo)(bo),zs=()=>{var e;const r=(0,f.wA)(),l=(0,f.d4)(c.query.getHostSharingData),u=(0,f.d4)(c.query.getProject),S=u==null?void 0:u.is_org_project,{link_name:w,view_access:m}=l,I=(0,f.d4)(c.query.getUser),E=(0,f.d4)(c.query.getHostType),B=(0,f.d4)(c.query.getIsEditMode),K=E==="iframe"||B,Q=(0,f.d4)(c.query.getCanEditByUser),O=(0,f.d4)(c.query.getHostCurrentScreen),re=O==null?void 0:O.cid,{isURLCopied:ne,handleCopyURL:L}=ts({project:u,sharing:l,user:I}),ee=K&&Q,se=(0,s.useMemo)(()=>[{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Rt.QRcode,tempDisabled:!1,isBorder:!0},{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Rt.embed,tempDisabled:!1,isBorder:!0}],[]),ge=(0,s.useCallback)(()=>{const fe=(0,U.O8)(u,l,re);(0,vn.$)(fe),L(),r({type:c.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:l.device_model,isDefault:!1}})},[r,l,L,re,u]),he=(0,s.useCallback)((fe,z)=>{if(!(fe!=null&&fe.currentTarget))return;const ye=l,{device_model:be}=l;switch(z){case Rt.QRcode:fe.stopPropagation(),r({type:c.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:ye}}),r({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:be,isDefault:!1}});break;case Rt.embed:r({type:c.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:ye}}),r({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:be,isDefault:!1}});break;default:break}},[r,l]);return(0,i.jsxs)(os,{children:[(0,i.jsxs)("div",{className:"default-top",children:[(0,i.jsx)("div",{className:"switch-content",children:w}),(0,i.jsxs)(mn,{className:q()("item-center","default-link",!ee&&"userNoEdit"),children:[(0,i.jsx)("div",{className:q()("left","sharingV2-click-visible",{"normal-hover":!0},!S&&"can-not-edit"),children:(0,i.jsxs)("div",{className:"view-access-select",children:[(0,i.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,i.jsx)("div",{className:"access-name",children:(e=I18N.imockSharing[we.nQ[m]])!=null?e:"missing data"}),S&&(0,i.jsx)(je.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,i.jsxs)(tn,{type:"button",className:q()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(ne)),onClick:ge,children:[(0,i.jsx)("span",{className:"state state-0",children:l.password&&l.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,i.jsx)("span",{className:"state state-1",children:(0,i.jsx)(je.C,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,i.jsx)("div",{className:"default-bottom",children:(0,i.jsxs)("div",{className:"bottom-left",children:[(0,i.jsx)("div",{children:I18N.imockSharing.share_mode}),se.map((fe,z)=>(0,i.jsx)(bn,{className:q()("share-icon",fe.className),name:fe.name,type:fe.className,toolTipName:fe.toolTipName,onClick:he,tempDisabled:fe.tempDisabled,isColorPure:fe.isColorPure,isBorder:fe.isBorder,size:24},z))]})})]})},_o=(0,s.memo)(zs),wo=()=>{const e=(0,f.d4)(c.query.getTopPageIndex),r=(0,f.d4)(c.query.getTabIndex),l=(0,f.d4)(c.query.getSharingToast),u=(0,f.d4)(c.query.getHostSharingData),S=!u||u.type==="default",w=(0,f.d4)(c.query.getProject),m=(0,f.d4)(c.query.getIsEditMode),E=(0,f.d4)(c.query.getHostType)==="iframe"||m,[B,K]=(0,s.useState)(u);return(0,s.useEffect)(()=>{const{sharing:Q}=(0,Y.Y5)(w);K(Q)},[u,w]),(0,i.jsxs)(to,{children:[e==="edit"&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Gt,{}),r===0?!E&&!S?(0,i.jsx)(_o,{}):B?(0,i.jsx)(eo,{defaultShare:B}):(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(ss,{})]}),e==="embed"&&(0,i.jsx)(kt,{}),e==="setting"&&(0,i.jsx)(go,{}),e==="qrCode"&&(0,i.jsx)(vo,{}),l&&(0,i.jsx)(fo,{})]})},fn=(0,s.memo)(wo),Yn=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z0-9-]{2,63}$/i,Dn=/^(?:\+?86)?1(?:3\d{3}|5[^4\D]\d{2}|8\d{3}|7(?:[0-35-9]\d{2}|4(?:0\d|1[0-2]|9\d))|9[0-35-9]\d{2}|6[2567]\d{2}|4[579]\d{2})\d{6}$/;var us=n(46795);const ps=async(e,r)=>{try{let u=null;return e?u=await(0,us.DE)("/api/dashboard/v4/users/search?email="+e):r&&(u=await(0,us.DE)("/api/dashboard/v4/users/search?mobile="+r)),u}catch(u){var l;return u!=null&&(l=u.message)!=null&&l.includes("failed with 404")?{}:null}};var hs=n(29584);const So=(0,A.Ay)(hs.A).withConfig({displayName:"styles__StyledPermissionTipDropdown",componentId:"sc-1ofnwys-0"})(["display:flex;align-items:center;justify-content:center;line-height:14px;button{.permisison-tip-icon{margin:5px 6px 0 6px;&:hover{path{fill:","}}}}"],e=>e.theme.color_project_access_tip_hover),ms=(0,A.DU)(['#IBOT_DROPDOWN_MENU_ROOT{.DropdownMenuBase{.permission-tip{.content{min-height:fit-content;padding:0;background-color:#333;border:1px solid #4f5052;.multi-line{padding:14px 14px 20px 14px;p,ul{padding:0;padding-left:3px;}&::before{content:"";width:0;height:0;border:11px solid transparent;border-bottom-color:#4F5052;position:absolute;top:-1px;left:',';margin-top:-18px;border-bottom-width:9px;}&::after{content:"";width:0;height:0;border:9px solid transparent;border-bottom-color:#333;position:absolute;top:3px;left:',";margin-top:-18px;border-bottom-width:7px;}}.single-line{padding:4px 12px;p{margin:0;padding:0;}}h4{font-weight:500;font-size:14px;line-height:16px;margin:0;margin-bottom:10px;}ul{text-align:justify;list-style:none;li{list-style:none;margin-bottom:8px;&:last-child{margin-bottom:0px;}}}.desc{font-weight:400;font-size:12px;line-height:18px;white-space:nowrap;.strong{font-weight:500;}.link{margin-left:4px;text-align:left;color:#1684fc;cursor:pointer;&:hover{text-decoration:underline;}}}.extra{white-space:nowrap;margin:12px 0 8px;font-weight:400;font-size:12px;color:rgba(255,255,255,0.5);}}}}}"],e=>e.isOnlyMemberManager?"66px":"88px",e=>e.isOnlyMemberManager?"68px":"90px");let yn=function(e){return e.OrgSpace="orgspace-permission-tip",e.OrgSpaceLimiter="orgspace-limiter-permission-tip",e.RootFolder="root-folder-permission-tip",e.SubFolder="sub-folder-permission-tip",e.Project="project-permission-tip",e}({});const Co=e=>{const{tipType:r,position:l="center",className:u,isOnlyMemberManager:S=!1}=e,[w,m]=(0,s.useState)({}),I=(0,f.d4)(Ie.il);(0,s.useEffect)(()=>{const B=document.querySelector(".sharingBoxV2 ");if(B){const{left:K,top:Q}=B.getBoundingClientRect();m({left:Number(K)+13,top:Number(Q)+29})}},[]);const E=()=>{switch(r){case yn.Project:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsxs)("h4",{children:["\u{1F537} ",I18N.imockSharing.permissions]}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_file]}),(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_file]}),(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_file]}),(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_file]})]}),(0,i.jsx)("p",{className:"extra",dangerouslySetInnerHTML:{__html:I18N.imockSharing.permissions_automatically_sync_desc}})]});case yn.SubFolder:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,i.jsxs)("p",{className:"extra",children:["\u6839\u6587\u4EF6\u5939\u6210\u5458\u53CA\u6743\u9650\u81EA\u52A8\u540C\u6B65\u81F3\u7EC4\u5185\uFF0C\u82E5\u6709\u8C03\u6574\uFF0C",(0,i.jsx)("br",{}),"\u8BF7\u524D\u5F80\u6839\u6587\u4EF6\u5939\u8FDB\u884C\u6210\u5458\u53CA\u6743\u9650\u8C03\u6574"]})]});case yn.RootFolder:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_folder]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_folder]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_folder]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_folder]})]})]});case yn.OrgSpace:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_manager_desc]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_collaboration_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_collaboration_member_desc]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_review_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_review_member_desc]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_unregistered_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_unregistered_member_desc]})]})]});case yn.OrgSpaceLimiter:return(0,i.jsx)("section",{className:"single-line",children:(0,i.jsxs)("p",{className:"desc",children:["\u8BE5\u6210\u5458\u53EA\u5BF9\u56E2\u961F\u5185\u6307\u5B9A\u6587\u4EF6/\u6587\u4EF6\u5939\u53EF\u67E5\u770B/\u7F16\u8F91 ",(0,i.jsx)("a",{href:"/hc/articles/222",className:"link",children:" \u67E5\u770B\u8BE6\u60C5"})]})});default:break}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(So,{opener:(0,i.jsx)("svg",{className:"permisison-tip-icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.33341 7.00008C2.33341 4.42275 4.42275 2.33341 7.00008 2.33341C9.57741 2.33341 11.6667 4.42275 11.6667 7.00008C11.6667 9.57741 9.57741 11.6667 7.00008 11.6667C4.42275 11.6667 2.33341 9.57741 2.33341 7.00008ZM7.00008 1.16675C3.77842 1.16675 1.16675 3.77842 1.16675 7.00008C1.16675 10.2217 3.77842 12.8334 7.00008 12.8334C10.2217 12.8334 12.8334 10.2217 12.8334 7.00008C12.8334 3.77842 10.2217 1.16675 7.00008 1.16675ZM6.00842 5.82717V5.69267C6.00912 5.53262 6.06636 5.35509 6.19406 5.22162C6.31201 5.09835 6.54189 4.95841 6.99673 4.95841C7.42386 4.95841 7.72087 5.16234 7.87234 5.39386C8.0341 5.6411 8.00223 5.84856 7.92545 5.9522C7.82971 6.08146 7.71083 6.20085 7.56715 6.33019C7.52345 6.36954 7.46957 6.41642 7.4118 6.46669L7.41179 6.4667C7.30849 6.55659 7.19276 6.6573 7.10047 6.74511C6.77279 7.05691 6.41686 7.49208 6.41686 8.16675L6.41875 8.46216L7.5854 8.45467L7.58354 8.16515C7.58397 7.96563 7.66576 7.81765 7.90469 7.5903C7.985 7.51388 8.0572 7.45142 8.1398 7.37995L8.13984 7.37992C8.20093 7.32707 8.26773 7.26928 8.34772 7.19727C8.51407 7.04752 8.69919 6.8677 8.86295 6.64662C9.30517 6.0496 9.20176 5.29489 8.84863 4.75513C8.48521 4.19965 7.82399 3.79175 6.99673 3.79175C6.28084 3.79175 5.72583 4.02342 5.35109 4.41508C4.98633 4.79631 4.84308 5.27667 4.84175 5.68971V5.82717H6.00842ZM6.41874 9.04175V10.2107H7.58541V9.04175H6.41874Z",fill:"#999999"})}),mode:"dark",menuX:l,shouldOpenOnHover:!0,hoverDelay:100,menuClassName:q()("permission-tip",u&&u),menu:E(),menuBaseStyle:w}),(0,i.jsx)(ms,{isOnlyMemberManager:S})]})};var Us=n(99739);const Mo=A.Ay.div.withConfig({displayName:"styles__StyledReadOnlyOption",componentId:"sc-1j0j1bo-0"})(["min-width:65px;text-align:start;padding-left:10px;cursor:default;&:lang(en){width:auto;}&.disabled{cursor:not-allowed;}.label{color:#9EA9BC;font-size:12px;}"]),Ws=(0,A.Ay)(Us.Ay).withConfig({displayName:"styles__StyledPermissionSelector",componentId:"sc-1j0j1bo-1"})(["min-width:65px;&:lang(en){width:auto;}&.is-disabled{opacity:1;.caret{display:none;}button{span{color:#9EA9BC;}}}&.is-open .caret{transform:rotate(180deg);svg{transform:translateY(-3px) rotate(-45deg);}}button{text-align:right;span{color:#35445D;font-size:12px;}}.caret{margin:0 0 0 6px;transition:transform .2s;svg{width:6px;height:6px;margin:1px;border:solid 1px #35445D;border-top-color:transparent;border-right-color:transparent;transform:translateY(0) rotate(-45deg);path{opacity:0;}}}"]),No=(0,A.DU)([".permission-select.CheckSelectMenu{padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";&:lang(en){min-width:136px;}&:not(.is-empty){padding:8px;}.SelectOption{height:24px;margin-bottom:2px;padding:0;color:",";border-radius:4px;line-height:24px;&:last-child{margin-bottom:0;}&.is-active,&:not(.empty-msg):not(.is-disabled):hover{background-color:",";color:",";}&:hover{color:",";}> span.Ellipsis{min-width:80px;padding:0 10px;margin-left:20px;&:lang(en){width:calc(100% - 22px);}}> .svg-icon{position:absolute;margin:0 0 0 10px;path{fill:",";}}&[data-value=\"__mb_delete_permission\"]{position:relative;margin-top:9px;&::before{position:absolute;top:-5px;right:0;left:0;border-top:solid 1px rgba(255,255,255,.1);content:'';}}}}"],e=>e.theme.color_bg_border_01,e=>e.theme.color_text_L1,e=>e.theme.color_bg_white,e=>e.theme.shadow_m,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1);var Hs=n(23485);const Vs=e=>{let r=[],l={};switch(e){case Ee.W.OrgSpace:r=J,l=Me.FU;break;case Ee.W.Folder:r=Z,l=Me.lY;break;case Ee.W.Project:r=me,l=Me.au;break;default:break}return r.map(u=>({...u,permission:(0,V.pf)(u.value,l)}))},Io=(e,r)=>{let l={};switch(e){case Ee.W.OrgSpace:return r;case Ee.W.Folder:l=ke;break;case Ee.W.Project:l=Ce;break;default:return r}return l[r]||r},Eo=e=>{switch(e){case Ee.W.OrgSpace:return I18N.imockSharing.permission_no_right_project;case Ee.W.Folder:return I18N.imockSharing.permission_no_right_folder;case Ee.W.Project:return I18N.imockSharing.permission_no_right_project;default:return I18N.imockSharing.permission_no_right}},jo=e=>{const{value:r,optionList:l,handleChange:u}=e,S=(0,s.useRef)(null),[w,m]=(0,s.useState)(!0),I=l.filter(B=>B.value===r),E=(0,s.useCallback)(()=>{S.current&&S.current.close()},[]);return(0,s.useEffect)(()=>(document.body.addEventListener("wheel",E),()=>{document.body.removeEventListener("wheel",E)}),[E]),(0,s.useEffect)(()=>{const B=setTimeout(()=>{m(!1)},1e3);return()=>{clearTimeout(B)}},[]),w?(0,i.jsx)(Ws,{unstyled:!0,ref:S,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:r,menuX:"right",onChange:u,optionList:I,menuClassName:"permission-select"}):(0,i.jsx)(Ws,{unstyled:!0,ref:S,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:r,menuX:"right",onChange:u,optionList:l,menuClassName:"permission-select"})},ko=(0,s.memo)(jo);var To=n(44367);const gs=(e,r)=>{const{isSelf:l,userCurrentSpacePermission:u,userCurrentScopePermisson:S,memberCurrentScopePermisson:w,memberTopScopePermisson:m,memberOrgPermisson:I,memberIsSpaceManager:E}=r;return e.map(K=>{let{value:Q,label:O,permission:re}=K,ne=!1;const L=re.roleName.includes("ban_viewer");return u.isManager&&l?ne=L:S.isMember?S.level<w.level||S.level<re.level?ne=!0:(!m.isMember&&m.isViewer&&!I.isMember&&re.isMember&&(ne=!0),L&&(ne=!S.isManager||l||E)):ne=!0,Object.assign({},{value:Q,label:I18N.imockSharing[O]||O},{isDisabled:ne})})},$n=e=>{const{readOnlyTooltip:r,isReset:l=!1,member:u,isOnlyOneManager:S,permissionScope:w,onPermissionChange:m,currentOrg:I}=e;let{readOnly:E}=e,B=E,K=r;const Q=Vs(w),{permissionMap:O}=u,{memberCurrentScopePermisson:re,userCurrentScopePermisson:ne,userCurrentSpacePermission:L,currentScopeRoleName:ee,isSelf:se,userIsSpaceLimiter:ge,memberIsSpaceLimiter:he}=O;let fe=gs(Q,O);w===Ee.W.OrgSpace&&!he&&(fe=fe.filter(be=>be.value!=="space_limiter")),(w===Ee.W.OrgSpace||he)&&!re.isUnknown&&!re.isInherited&&!l&&(se&&!re.isUnknown||ne.isManager&&fe.push({value:tt,label:I18N.imockSharing.remove,isDisabled:!1})),!B&&w===Ee.W.OrgSpace&&ge&&!l&&(E=!0,B=!0),!B&&([Ee.W.Project,Ee.W.Folder].includes(w)||re.isViewer)&&!l&&(ne.isMember?ne.level<re.level?(B=!0,K="\u65E0\u6743\u66F4\u6539\u6743\u9650\u9AD8\u7684\u6210\u5458\u6743\u9650"):re.isManager&&S?(B=!0,K=Eo(w)):(w===Ee.W.OrgSpace&&!ne.isManager||[Ee.W.Project,Ee.W.Folder].includes(w)&&!ne.isManager&&re.isBanned)&&(B=!0):L!=null&&L.isManager&&se||(B=!0));let z=Io(w,ee);l&&(z="");const ye=be=>{B||m(u,be)};if(I){const{protoSeat:be}=(0,To.rA)(I,Number(u.user_id)),Te=be?"":"(\u65E0\u5E2D\u4F4D)";fe.map(Ae=>{(Ae.value==="project_manager"||Ae.value==="project_member")&&(Ae.label+=Te)})}if(B||E){const be=fe.find(xe=>xe.value===z);return be?(0,i.jsx)(Mo,{className:q()("read-only-option",!E&&B&&"disabled"),children:(0,i.jsx)(Hs.A,{content:K,position:"bottom",children:(0,i.jsx)("span",{className:"label",children:be.label})})}):null}return(0,i.jsx)(ko,{value:z,handleChange:ye,optionList:fe})},Ao=(0,s.memo)($n),a=(0,A.DU)(["#IBOT_DROPDOWN_MENU_ROOT{.add-outer-member-tip{.content{min-height:fit-content;padding:2px 8px;background-color:#333;.desc{white-space:nowrap;.copy-text{text-decoration:underline;cursor:pointer;}}}}}"]),t=A.Ay.section.withConfig({displayName:"styles__StyledMemberList",componentId:"sc-188anjy-0"})(['margin-bottom:10px;width:406px;&.sharing{.members > .enterTip > span > div{display:flex;flex-direction:column;align-items:center;justify-content:center;}}&[data-expanded="false"]{.members{display:none;}.caption{margin-bottom:15px;}}&+.member-list{margin-top:10px;}.caption{position:relative;display:flex;align-items:center;justify-content:flex-start;padding:0;font-weight:400;font-size:14px;line-height:20px;color:',";span{color:",";}.invite-item{display:flex;align-items:center;height:32px;text-align:center;font-family:PingFang SC;width:fit-content;border-radius:6px;font-weight:500;font-size:14px;color:",";cursor:pointer;position:absolute;right:20px;z-index:1;&:hover{color:",";}&:active{color:",";}.svg-icon{width:32px;color:inherit;& > *{fill:currentColor;}}}.btn-add-collaborator{position:absolute;right:0;display:flex;align-items:center;color:#1883FB;.svg-icon{margin-right:4px;width:12px;height:12px;}}.btn-toggle-expand{margin-left:10px;user-select:none;color:#1883FB;cursor:pointer;&.with-red-point{position:relative;&::after{content:'';background:rgb(228,33,33);position:absolute;width:6px;height:6px;top:-2px;left:100%;border-radius:50%;}}}}.members{.item{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;&:hover{background:",";border-radius:4px;}.title,.account,.Select{button{font-weight:500;font-size:14px;line-height:20px;letter-spacing:1.2px;color:#545F6F;.Ellipsis{max-width:100px;&:lang(en){max-width:none;}}}}.title{flex:1;display:flex;justify-content:flex-start;align-items:center;.avatar{width:30px;height:30px;overflow:hidden;border-radius:50%;margin-right:12px;border:1px solid ",";&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:14px;text-align:center;display:flex;align-items:center;}}.name{width:120px;overflow:hidden;color:#1f292e;white-space:nowrap;text-overflow:ellipsis;}}.account{flex:1;width:160px;color:#999;}.register{display:inline-block;text-align:center;height:22px;line-height:22px;border:1px solid rgb(41,141,248);box-sizing:border-box;border-radius:4px;width:48px;color:rgb(41,141,248);font-size:12px;font-weight:400;margin-left:8px;position:relative;color:red;&:lang(en){display:block;background:#F1F8FF;border:none;color:#1684FC;padding:3px 4px;width:max-content;margin-left:10px;font-weight:500;font-size:12px;line-height:12px;height:auto;}}}}.invite{.item{.title{.name{width:150px;&:lang(en){width:max-content;flex:1;display:flex;align-items:center;}}}.account{width:150px;display:inline-block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;word-break:break-all;&:lang(en){margin:10px;}}}.addOuter{color:#999999;width:108px;text-align:right;.add{font-size:12px;margin-right:2px;}button{color:rgb(91,107,115);position:relative;top:2px;left:4px;}}.enterTip{font-size:12px;color:",";}}.inviteJoin{border-radius:4px;background:#298DF8;color:#fff;font-size:12px;font-weight:400;padding:7px 11px;cursor:pointer;word-break:keep-all;&:lang(en){padding:5px 11px;}}&.dark{.members .item .register{&:lang(en){background:rgba(22,132,252,0.1);}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_link_hover,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_share_member__border_color,e=>e.theme.color_AI_Text_Auto_fill_path_hover);var o=n(18824);function h(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var F=n(7043),ce=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function Pe(e,r){return!!(e===r||ce(e)&&ce(r))}function De(e,r){if(e.length!==r.length)return!1;for(var l=0;l<e.length;l++)if(!Pe(e[l],r[l]))return!1;return!0}function ze(e,r){r===void 0&&(r=De);var l,u=[],S,w=!1;function m(){for(var I=[],E=0;E<arguments.length;E++)I[E]=arguments[E];return w&&l===this&&r(I,u)||(S=e.apply(this,I),w=!0,l=this,u=I),S}return m}const He=ze;var Ue=typeof performance=="object"&&typeof performance.now=="function",Xe=Ue?function(){return performance.now()}:function(){return Date.now()};function _e(e){cancelAnimationFrame(e.id)}function Se(e,r){var l=Xe();function u(){Xe()-l>=r?e.call(null):S.id=requestAnimationFrame(u)}var S={id:requestAnimationFrame(u)};return S}var We=-1;function Qe(e){if(e===void 0&&(e=!1),We===-1||e){var r=document.createElement("div"),l=r.style;l.width="50px",l.height="50px",l.overflow="scroll",document.body.appendChild(r),We=r.offsetWidth-r.clientWidth,document.body.removeChild(r)}return We}var rt=null;function Et(e){if(e===void 0&&(e=!1),rt===null||e){var r=document.createElement("div"),l=r.style;l.width="50px",l.height="50px",l.overflow="scroll",l.direction="rtl";var u=document.createElement("div"),S=u.style;return S.width="100px",S.height="100px",r.appendChild(u),document.body.appendChild(r),r.scrollLeft>0?rt="positive-descending":(r.scrollLeft=1,r.scrollLeft===0?rt="negative":rt="positive-ascending"),document.body.removeChild(r),rt}return rt}var Ct=150,Ht=function(r){var l=r.columnIndex,u=r.data,S=r.rowIndex;return S+":"+l},Ut=null,en=null,ct=null;function Ke(e){var r,l=e.getColumnOffset,u=e.getColumnStartIndexForOffset,S=e.getColumnStopIndexForStartIndex,w=e.getColumnWidth,m=e.getEstimatedTotalHeight,I=e.getEstimatedTotalWidth,E=e.getOffsetForColumnAndAlignment,B=e.getOffsetForRowAndAlignment,K=e.getRowHeight,Q=e.getRowOffset,O=e.getRowStartIndexForOffset,re=e.getRowStopIndexForStartIndex,ne=e.initInstanceProps,L=e.shouldResetStyleCacheOnItemSizeChange,ee=e.validateProps;return r=function(se){(0,F.A)(ge,se);function ge(fe){var z;return z=se.call(this,fe)||this,z._instanceProps=ne(z.props,h(z)),z._resetIsScrollingTimeoutId=null,z._outerRef=void 0,z.state={instance:h(z),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof z.props.initialScrollLeft=="number"?z.props.initialScrollLeft:0,scrollTop:typeof z.props.initialScrollTop=="number"?z.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},z._callOnItemsRendered=void 0,z._callOnItemsRendered=He(function(ye,be,xe,Te,Ae,Ze,Be,$e){return z.props.onItemsRendered({overscanColumnStartIndex:ye,overscanColumnStopIndex:be,overscanRowStartIndex:xe,overscanRowStopIndex:Te,visibleColumnStartIndex:Ae,visibleColumnStopIndex:Ze,visibleRowStartIndex:Be,visibleRowStopIndex:$e})}),z._callOnScroll=void 0,z._callOnScroll=He(function(ye,be,xe,Te,Ae){return z.props.onScroll({horizontalScrollDirection:xe,scrollLeft:ye,scrollTop:be,verticalScrollDirection:Te,scrollUpdateWasRequested:Ae})}),z._getItemStyle=void 0,z._getItemStyle=function(ye,be){var xe=z.props,Te=xe.columnWidth,Ae=xe.direction,Ze=xe.rowHeight,Be=z._getItemStyleCache(L&&Te,L&&Ae,L&&Ze),$e=ye+":"+be,ot;if(Be.hasOwnProperty($e))ot=Be[$e];else{var at=l(z.props,be,z._instanceProps),lt=Ae==="rtl";Be[$e]=ot={position:"absolute",left:lt?void 0:at,right:lt?at:void 0,top:Q(z.props,ye,z._instanceProps),height:K(z.props,ye,z._instanceProps),width:w(z.props,be,z._instanceProps)}}return ot},z._getItemStyleCache=void 0,z._getItemStyleCache=He(function(ye,be,xe){return{}}),z._onScroll=function(ye){var be=ye.currentTarget,xe=be.clientHeight,Te=be.clientWidth,Ae=be.scrollLeft,Ze=be.scrollTop,Be=be.scrollHeight,$e=be.scrollWidth;z.setState(function(ot){if(ot.scrollLeft===Ae&&ot.scrollTop===Ze)return null;var at=z.props.direction,lt=Ae;if(at==="rtl")switch(Et()){case"negative":lt=-Ae;break;case"positive-descending":lt=$e-Te-Ae;break}lt=Math.max(0,Math.min(lt,$e-Te));var Mt=Math.max(0,Math.min(Ze,Be-xe));return{isScrolling:!0,horizontalScrollDirection:ot.scrollLeft<Ae?"forward":"backward",scrollLeft:lt,scrollTop:Mt,verticalScrollDirection:ot.scrollTop<Ze?"forward":"backward",scrollUpdateWasRequested:!1}},z._resetIsScrollingDebounced)},z._outerRefSetter=function(ye){var be=z.props.outerRef;z._outerRef=ye,typeof be=="function"?be(ye):be!=null&&typeof be=="object"&&be.hasOwnProperty("current")&&(be.current=ye)},z._resetIsScrollingDebounced=function(){z._resetIsScrollingTimeoutId!==null&&_e(z._resetIsScrollingTimeoutId),z._resetIsScrollingTimeoutId=Se(z._resetIsScrolling,Ct)},z._resetIsScrolling=function(){z._resetIsScrollingTimeoutId=null,z.setState({isScrolling:!1},function(){z._getItemStyleCache(-1)})},z}ge.getDerivedStateFromProps=function(z,ye){return it(z,ye),ee(z),null};var he=ge.prototype;return he.scrollTo=function(z){var ye=z.scrollLeft,be=z.scrollTop;ye!==void 0&&(ye=Math.max(0,ye)),be!==void 0&&(be=Math.max(0,be)),this.setState(function(xe){return ye===void 0&&(ye=xe.scrollLeft),be===void 0&&(be=xe.scrollTop),xe.scrollLeft===ye&&xe.scrollTop===be?null:{horizontalScrollDirection:xe.scrollLeft<ye?"forward":"backward",scrollLeft:ye,scrollTop:be,scrollUpdateWasRequested:!0,verticalScrollDirection:xe.scrollTop<be?"forward":"backward"}},this._resetIsScrollingDebounced)},he.scrollToItem=function(z){var ye=z.align,be=ye===void 0?"auto":ye,xe=z.columnIndex,Te=z.rowIndex,Ae=this.props,Ze=Ae.columnCount,Be=Ae.height,$e=Ae.rowCount,ot=Ae.width,at=this.state,lt=at.scrollLeft,Mt=at.scrollTop,Tt=Qe();xe!==void 0&&(xe=Math.max(0,Math.min(xe,Ze-1))),Te!==void 0&&(Te=Math.max(0,Math.min(Te,$e-1)));var Ot=m(this.props,this._instanceProps),Dt=I(this.props,this._instanceProps),Vt=Dt>ot?Tt:0,gt=Ot>Be?Tt:0;this.scrollTo({scrollLeft:xe!==void 0?E(this.props,xe,be,lt,this._instanceProps,gt):lt,scrollTop:Te!==void 0?B(this.props,Te,be,Mt,this._instanceProps,Vt):Mt})},he.componentDidMount=function(){var z=this.props,ye=z.initialScrollLeft,be=z.initialScrollTop;if(this._outerRef!=null){var xe=this._outerRef;typeof ye=="number"&&(xe.scrollLeft=ye),typeof be=="number"&&(xe.scrollTop=be)}this._callPropsCallbacks()},he.componentDidUpdate=function(){var z=this.props.direction,ye=this.state,be=ye.scrollLeft,xe=ye.scrollTop,Te=ye.scrollUpdateWasRequested;if(Te&&this._outerRef!=null){var Ae=this._outerRef;if(z==="rtl")switch(Et()){case"negative":Ae.scrollLeft=-be;break;case"positive-ascending":Ae.scrollLeft=be;break;default:var Ze=Ae.clientWidth,Be=Ae.scrollWidth;Ae.scrollLeft=Be-Ze-be;break}else Ae.scrollLeft=Math.max(0,be);Ae.scrollTop=Math.max(0,xe)}this._callPropsCallbacks()},he.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&_e(this._resetIsScrollingTimeoutId)},he.render=function(){var z=this.props,ye=z.children,be=z.className,xe=z.columnCount,Te=z.direction,Ae=z.height,Ze=z.innerRef,Be=z.innerElementType,$e=z.innerTagName,ot=z.itemData,at=z.itemKey,lt=at===void 0?Ht:at,Mt=z.outerElementType,Tt=z.outerTagName,Ot=z.rowCount,Dt=z.style,Vt=z.useIsScrolling,gt=z.width,At=this.state.isScrolling,Pt=this._getHorizontalRangeToRender(),Jt=Pt[0],ft=Pt[1],vt=this._getVerticalRangeToRender(),on=vt[0],Xn=vt[1],qn=[];if(xe>0&&Ot)for(var xn=on;xn<=Xn;xn++)for(var rn=Jt;rn<=ft;rn++)qn.push((0,s.createElement)(ye,{columnIndex:rn,data:ot,isScrolling:Vt?At:void 0,key:lt({columnIndex:rn,data:ot,rowIndex:xn}),rowIndex:xn,style:this._getItemStyle(xn,rn)}));var Kt=m(this.props,this._instanceProps),nt=I(this.props,this._instanceProps);return(0,s.createElement)(Mt||Tt||"div",{className:be,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,o.A)({position:"relative",height:Ae,width:gt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:Te},Dt)},(0,s.createElement)(Be||$e||"div",{children:qn,ref:Ze,style:{height:Kt,pointerEvents:At?"none":void 0,width:nt}}))},he._callPropsCallbacks=function(){var z=this.props,ye=z.columnCount,be=z.onItemsRendered,xe=z.onScroll,Te=z.rowCount;if(typeof be=="function"&&ye>0&&Te>0){var Ae=this._getHorizontalRangeToRender(),Ze=Ae[0],Be=Ae[1],$e=Ae[2],ot=Ae[3],at=this._getVerticalRangeToRender(),lt=at[0],Mt=at[1],Tt=at[2],Ot=at[3];this._callOnItemsRendered(Ze,Be,lt,Mt,$e,ot,Tt,Ot)}if(typeof xe=="function"){var Dt=this.state,Vt=Dt.horizontalScrollDirection,gt=Dt.scrollLeft,At=Dt.scrollTop,Pt=Dt.scrollUpdateWasRequested,Jt=Dt.verticalScrollDirection;this._callOnScroll(gt,At,Vt,Jt,Pt)}},he._getHorizontalRangeToRender=function(){var z=this.props,ye=z.columnCount,be=z.overscanColumnCount,xe=z.overscanColumnsCount,Te=z.overscanCount,Ae=z.rowCount,Ze=this.state,Be=Ze.horizontalScrollDirection,$e=Ze.isScrolling,ot=Ze.scrollLeft,at=be||xe||Te||1;if(ye===0||Ae===0)return[0,0,0,0];var lt=u(this.props,ot,this._instanceProps),Mt=S(this.props,lt,ot,this._instanceProps),Tt=!$e||Be==="backward"?Math.max(1,at):1,Ot=!$e||Be==="forward"?Math.max(1,at):1;return[Math.max(0,lt-Tt),Math.max(0,Math.min(ye-1,Mt+Ot)),lt,Mt]},he._getVerticalRangeToRender=function(){var z=this.props,ye=z.columnCount,be=z.overscanCount,xe=z.overscanRowCount,Te=z.overscanRowsCount,Ae=z.rowCount,Ze=this.state,Be=Ze.isScrolling,$e=Ze.verticalScrollDirection,ot=Ze.scrollTop,at=xe||Te||be||1;if(ye===0||Ae===0)return[0,0,0,0];var lt=O(this.props,ot,this._instanceProps),Mt=re(this.props,lt,ot,this._instanceProps),Tt=!Be||$e==="backward"?Math.max(1,at):1,Ot=!Be||$e==="forward"?Math.max(1,at):1;return[Math.max(0,lt-Tt),Math.max(0,Math.min(Ae-1,Mt+Ot)),lt,Mt]},ge}(s.PureComponent),r.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},r}var it=function(r,l){var u=r.children,S=r.direction,w=r.height,m=r.innerTagName,I=r.outerTagName,E=r.overscanColumnsCount,B=r.overscanCount,K=r.overscanRowsCount,Q=r.width,O=l.instance},et=50,ht=function(r,l){var u=r.rowCount,S=l.rowMetadataMap,w=l.estimatedRowHeight,m=l.lastMeasuredRowIndex,I=0;if(m>=u&&(m=u-1),m>=0){var E=S[m];I=E.offset+E.size}var B=u-m-1,K=B*w;return I+K},mt=function(r,l){var u=r.columnCount,S=l.columnMetadataMap,w=l.estimatedColumnWidth,m=l.lastMeasuredColumnIndex,I=0;if(m>=u&&(m=u-1),m>=0){var E=S[m];I=E.offset+E.size}var B=u-m-1,K=B*w;return I+K},jt=function(r,l,u,S){var w,m,I;if(r==="column"?(w=S.columnMetadataMap,m=l.columnWidth,I=S.lastMeasuredColumnIndex):(w=S.rowMetadataMap,m=l.rowHeight,I=S.lastMeasuredRowIndex),u>I){var E=0;if(I>=0){var B=w[I];E=B.offset+B.size}for(var K=I+1;K<=u;K++){var Q=m(K);w[K]={offset:E,size:Q},E+=Q}r==="column"?S.lastMeasuredColumnIndex=u:S.lastMeasuredRowIndex=u}return w[u]},Wt=function(r,l,u,S){var w,m;r==="column"?(w=u.columnMetadataMap,m=u.lastMeasuredColumnIndex):(w=u.rowMetadataMap,m=u.lastMeasuredRowIndex);var I=m>0?w[m].offset:0;return I>=S?Lt(r,l,u,m,0,S):Re(r,l,u,Math.max(0,m),S)},Lt=function(r,l,u,S,w,m){for(;w<=S;){var I=w+Math.floor((S-w)/2),E=jt(r,l,I,u).offset;if(E===m)return I;E<m?w=I+1:E>m&&(S=I-1)}return w>0?w-1:0},Re=function(r,l,u,S,w){for(var m=r==="column"?l.columnCount:l.rowCount,I=1;S<m&&jt(r,l,S,u).offset<w;)S+=I,I*=2;return Lt(r,l,u,Math.min(S,m-1),Math.floor(S/2),w)},dt=function(r,l,u,S,w,m,I){var E=r==="column"?l.width:l.height,B=jt(r,l,u,m),K=r==="column"?mt(l,m):ht(l,m),Q=Math.max(0,Math.min(K-E,B.offset)),O=Math.max(0,B.offset-E+I+B.size);switch(S==="smart"&&(w>=O-E&&w<=Q+E?S="auto":S="center"),S){case"start":return Q;case"end":return O;case"center":return Math.round(O+(Q-O)/2);case"auto":default:return w>=O&&w<=Q?w:O>Q||w<O?O:Q}},$t=Ke({getColumnOffset:function(r,l,u){return jt("column",r,l,u).offset},getColumnStartIndexForOffset:function(r,l,u){return Wt("column",r,u,l)},getColumnStopIndexForStartIndex:function(r,l,u,S){for(var w=r.columnCount,m=r.width,I=jt("column",r,l,S),E=u+m,B=I.offset+I.size,K=l;K<w-1&&B<E;)K++,B+=jt("column",r,K,S).size;return K},getColumnWidth:function(r,l,u){return u.columnMetadataMap[l].size},getEstimatedTotalHeight:ht,getEstimatedTotalWidth:mt,getOffsetForColumnAndAlignment:function(r,l,u,S,w,m){return dt("column",r,l,u,S,w,m)},getOffsetForRowAndAlignment:function(r,l,u,S,w,m){return dt("row",r,l,u,S,w,m)},getRowOffset:function(r,l,u){return jt("row",r,l,u).offset},getRowHeight:function(r,l,u){return u.rowMetadataMap[l].size},getRowStartIndexForOffset:function(r,l,u){return Wt("row",r,u,l)},getRowStopIndexForStartIndex:function(r,l,u,S){for(var w=r.rowCount,m=r.height,I=jt("row",r,l,S),E=u+m,B=I.offset+I.size,K=l;K<w-1&&B<E;)K++,B+=jt("row",r,K,S).size;return K},initInstanceProps:function(r,l){var u=r,S=u.estimatedColumnWidth,w=u.estimatedRowHeight,m={columnMetadataMap:{},estimatedColumnWidth:S||et,estimatedRowHeight:w||et,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return l.resetAfterColumnIndex=function(I,E){E===void 0&&(E=!0),l.resetAfterIndices({columnIndex:I,shouldForceUpdate:E})},l.resetAfterRowIndex=function(I,E){E===void 0&&(E=!0),l.resetAfterIndices({rowIndex:I,shouldForceUpdate:E})},l.resetAfterIndices=function(I){var E=I.columnIndex,B=I.rowIndex,K=I.shouldForceUpdate,Q=K===void 0?!0:K;typeof E=="number"&&(m.lastMeasuredColumnIndex=Math.min(m.lastMeasuredColumnIndex,E-1)),typeof B=="number"&&(m.lastMeasuredRowIndex=Math.min(m.lastMeasuredRowIndex,B-1)),l._getItemStyleCache(-1),Q&&l.forceUpdate()},m},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(r){var l=r.columnWidth,u=r.rowHeight}}),Qt=150,Cn=function(r,l){return r},Mn=null,hn=null;function Nn(e){var r,l=e.getItemOffset,u=e.getEstimatedTotalSize,S=e.getItemSize,w=e.getOffsetForIndexAndAlignment,m=e.getStartIndexForOffset,I=e.getStopIndexForStartIndex,E=e.initInstanceProps,B=e.shouldResetStyleCacheOnItemSizeChange,K=e.validateProps;return r=function(Q){(0,F.A)(O,Q);function O(ne){var L;return L=Q.call(this,ne)||this,L._instanceProps=E(L.props,h(L)),L._outerRef=void 0,L._resetIsScrollingTimeoutId=null,L.state={instance:h(L),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof L.props.initialScrollOffset=="number"?L.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},L._callOnItemsRendered=void 0,L._callOnItemsRendered=He(function(ee,se,ge,he){return L.props.onItemsRendered({overscanStartIndex:ee,overscanStopIndex:se,visibleStartIndex:ge,visibleStopIndex:he})}),L._callOnScroll=void 0,L._callOnScroll=He(function(ee,se,ge){return L.props.onScroll({scrollDirection:ee,scrollOffset:se,scrollUpdateWasRequested:ge})}),L._getItemStyle=void 0,L._getItemStyle=function(ee){var se=L.props,ge=se.direction,he=se.itemSize,fe=se.layout,z=L._getItemStyleCache(B&&he,B&&fe,B&&ge),ye;if(z.hasOwnProperty(ee))ye=z[ee];else{var be=l(L.props,ee,L._instanceProps),xe=S(L.props,ee,L._instanceProps),Te=ge==="horizontal"||fe==="horizontal",Ae=ge==="rtl",Ze=Te?be:0;z[ee]=ye={position:"absolute",left:Ae?void 0:Ze,right:Ae?Ze:void 0,top:Te?0:be,height:Te?"100%":xe,width:Te?xe:"100%"}}return ye},L._getItemStyleCache=void 0,L._getItemStyleCache=He(function(ee,se,ge){return{}}),L._onScrollHorizontal=function(ee){var se=ee.currentTarget,ge=se.clientWidth,he=se.scrollLeft,fe=se.scrollWidth;L.setState(function(z){if(z.scrollOffset===he)return null;var ye=L.props.direction,be=he;if(ye==="rtl")switch(Et()){case"negative":be=-he;break;case"positive-descending":be=fe-ge-he;break}return be=Math.max(0,Math.min(be,fe-ge)),{isScrolling:!0,scrollDirection:z.scrollOffset<be?"forward":"backward",scrollOffset:be,scrollUpdateWasRequested:!1}},L._resetIsScrollingDebounced)},L._onScrollVertical=function(ee){var se=ee.currentTarget,ge=se.clientHeight,he=se.scrollHeight,fe=se.scrollTop;L.setState(function(z){if(z.scrollOffset===fe)return null;var ye=Math.max(0,Math.min(fe,he-ge));return{isScrolling:!0,scrollDirection:z.scrollOffset<ye?"forward":"backward",scrollOffset:ye,scrollUpdateWasRequested:!1}},L._resetIsScrollingDebounced)},L._outerRefSetter=function(ee){var se=L.props.outerRef;L._outerRef=ee,typeof se=="function"?se(ee):se!=null&&typeof se=="object"&&se.hasOwnProperty("current")&&(se.current=ee)},L._resetIsScrollingDebounced=function(){L._resetIsScrollingTimeoutId!==null&&_e(L._resetIsScrollingTimeoutId),L._resetIsScrollingTimeoutId=Se(L._resetIsScrolling,Qt)},L._resetIsScrolling=function(){L._resetIsScrollingTimeoutId=null,L.setState({isScrolling:!1},function(){L._getItemStyleCache(-1,null)})},L}O.getDerivedStateFromProps=function(L,ee){return qo(L,ee),K(L),null};var re=O.prototype;return re.scrollTo=function(L){L=Math.max(0,L),this.setState(function(ee){return ee.scrollOffset===L?null:{scrollDirection:ee.scrollOffset<L?"forward":"backward",scrollOffset:L,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},re.scrollToItem=function(L,ee){ee===void 0&&(ee="auto");var se=this.props,ge=se.itemCount,he=se.layout,fe=this.state.scrollOffset;L=Math.max(0,Math.min(L,ge-1));var z=0;if(this._outerRef){var ye=this._outerRef;he==="vertical"?z=ye.scrollWidth>ye.clientWidth?Qe():0:z=ye.scrollHeight>ye.clientHeight?Qe():0}this.scrollTo(w(this.props,L,ee,fe,this._instanceProps,z))},re.componentDidMount=function(){var L=this.props,ee=L.direction,se=L.initialScrollOffset,ge=L.layout;if(typeof se=="number"&&this._outerRef!=null){var he=this._outerRef;ee==="horizontal"||ge==="horizontal"?he.scrollLeft=se:he.scrollTop=se}this._callPropsCallbacks()},re.componentDidUpdate=function(){var L=this.props,ee=L.direction,se=L.layout,ge=this.state,he=ge.scrollOffset,fe=ge.scrollUpdateWasRequested;if(fe&&this._outerRef!=null){var z=this._outerRef;if(ee==="horizontal"||se==="horizontal")if(ee==="rtl")switch(Et()){case"negative":z.scrollLeft=-he;break;case"positive-ascending":z.scrollLeft=he;break;default:var ye=z.clientWidth,be=z.scrollWidth;z.scrollLeft=be-ye-he;break}else z.scrollLeft=he;else z.scrollTop=he}this._callPropsCallbacks()},re.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&_e(this._resetIsScrollingTimeoutId)},re.render=function(){var L=this.props,ee=L.children,se=L.className,ge=L.direction,he=L.height,fe=L.innerRef,z=L.innerElementType,ye=L.innerTagName,be=L.itemCount,xe=L.itemData,Te=L.itemKey,Ae=Te===void 0?Cn:Te,Ze=L.layout,Be=L.outerElementType,$e=L.outerTagName,ot=L.style,at=L.useIsScrolling,lt=L.width,Mt=this.state.isScrolling,Tt=ge==="horizontal"||Ze==="horizontal",Ot=Tt?this._onScrollHorizontal:this._onScrollVertical,Dt=this._getRangeToRender(),Vt=Dt[0],gt=Dt[1],At=[];if(be>0)for(var Pt=Vt;Pt<=gt;Pt++)At.push((0,s.createElement)(ee,{data:xe,key:Ae(Pt,xe),index:Pt,isScrolling:at?Mt:void 0,style:this._getItemStyle(Pt)}));var Jt=u(this.props,this._instanceProps);return(0,s.createElement)(Be||$e||"div",{className:se,onScroll:Ot,ref:this._outerRefSetter,style:(0,o.A)({position:"relative",height:he,width:lt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:ge},ot)},(0,s.createElement)(z||ye||"div",{children:At,ref:fe,style:{height:Tt?"100%":Jt,pointerEvents:Mt?"none":void 0,width:Tt?Jt:"100%"}}))},re._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var L=this.props.itemCount;if(L>0){var ee=this._getRangeToRender(),se=ee[0],ge=ee[1],he=ee[2],fe=ee[3];this._callOnItemsRendered(se,ge,he,fe)}}if(typeof this.props.onScroll=="function"){var z=this.state,ye=z.scrollDirection,be=z.scrollOffset,xe=z.scrollUpdateWasRequested;this._callOnScroll(ye,be,xe)}},re._getRangeToRender=function(){var L=this.props,ee=L.itemCount,se=L.overscanCount,ge=this.state,he=ge.isScrolling,fe=ge.scrollDirection,z=ge.scrollOffset;if(ee===0)return[0,0,0,0];var ye=m(this.props,z,this._instanceProps),be=I(this.props,ye,z,this._instanceProps),xe=!he||fe==="backward"?Math.max(1,se):1,Te=!he||fe==="forward"?Math.max(1,se):1;return[Math.max(0,ye-xe),Math.max(0,Math.min(ee-1,be+Te)),ye,be]},O}(s.PureComponent),r.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},r}var qo=function(r,l){var u=r.children,S=r.direction,w=r.height,m=r.layout,I=r.innerTagName,E=r.outerTagName,B=r.width,K=l.instance;if(0)var Q},ei=50,Qn=function(r,l,u){var S=r,w=S.itemSize,m=u.itemMetadataMap,I=u.lastMeasuredIndex;if(l>I){var E=0;if(I>=0){var B=m[I];E=B.offset+B.size}for(var K=I+1;K<=l;K++){var Q=w(K);m[K]={offset:E,size:Q},E+=Q}u.lastMeasuredIndex=l}return m[l]},ti=function(r,l,u){var S=l.itemMetadataMap,w=l.lastMeasuredIndex,m=w>0?S[w].offset:0;return m>=u?zo(r,l,w,0,u):ni(r,l,Math.max(0,w),u)},zo=function(r,l,u,S,w){for(;S<=u;){var m=S+Math.floor((u-S)/2),I=Qn(r,m,l).offset;if(I===w)return m;I<w?S=m+1:I>w&&(u=m-1)}return S>0?S-1:0},ni=function(r,l,u,S){for(var w=r.itemCount,m=1;u<w&&Qn(r,u,l).offset<S;)u+=m,m*=2;return zo(r,l,Math.min(u,w-1),Math.floor(u/2),S)},Uo=function(r,l){var u=r.itemCount,S=l.itemMetadataMap,w=l.estimatedItemSize,m=l.lastMeasuredIndex,I=0;if(m>=u&&(m=u-1),m>=0){var E=S[m];I=E.offset+E.size}var B=u-m-1,K=B*w;return I+K},zi=Nn({getItemOffset:function(r,l,u){return Qn(r,l,u).offset},getItemSize:function(r,l,u){return u.itemMetadataMap[l].size},getEstimatedTotalSize:Uo,getOffsetForIndexAndAlignment:function(r,l,u,S,w,m){var I=r.direction,E=r.height,B=r.layout,K=r.width,Q=I==="horizontal"||B==="horizontal",O=Q?K:E,re=Qn(r,l,w),ne=Uo(r,w),L=Math.max(0,Math.min(ne-O,re.offset)),ee=Math.max(0,re.offset-O+re.size+m);switch(u==="smart"&&(S>=ee-O&&S<=L+O?u="auto":u="center"),u){case"start":return L;case"end":return ee;case"center":return Math.round(ee+(L-ee)/2);case"auto":default:return S>=ee&&S<=L?S:S<ee?ee:L}},getStartIndexForOffset:function(r,l,u){return ti(r,u,l)},getStopIndexForStartIndex:function(r,l,u,S){for(var w=r.direction,m=r.height,I=r.itemCount,E=r.layout,B=r.width,K=w==="horizontal"||E==="horizontal",Q=K?B:m,O=Qn(r,l,S),re=u+Q,ne=O.offset+O.size,L=l;L<I-1&&ne<re;)L++,ne+=Qn(r,L,S).size;return L},initInstanceProps:function(r,l){var u=r,S=u.estimatedItemSize,w={itemMetadataMap:{},estimatedItemSize:S||ei,lastMeasuredIndex:-1};return l.resetAfterIndex=function(m,I){I===void 0&&(I=!0),w.lastMeasuredIndex=Math.min(w.lastMeasuredIndex,m-1),l._getItemStyleCache(-1),I&&l.forceUpdate()},w},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(r){var l=r.itemSize}}),Ui=Ke({getColumnOffset:function(r,l){var u=r.columnWidth;return l*u},getColumnWidth:function(r,l){var u=r.columnWidth;return u},getRowOffset:function(r,l){var u=r.rowHeight;return l*u},getRowHeight:function(r,l){var u=r.rowHeight;return u},getEstimatedTotalHeight:function(r){var l=r.rowCount,u=r.rowHeight;return u*l},getEstimatedTotalWidth:function(r){var l=r.columnCount,u=r.columnWidth;return u*l},getOffsetForColumnAndAlignment:function(r,l,u,S,w,m){var I=r.columnCount,E=r.columnWidth,B=r.width,K=Math.max(0,I*E-B),Q=Math.min(K,l*E),O=Math.max(0,l*E-B+m+E);switch(u==="smart"&&(S>=O-B&&S<=Q+B?u="auto":u="center"),u){case"start":return Q;case"end":return O;case"center":var re=Math.round(O+(Q-O)/2);return re<Math.ceil(B/2)?0:re>K+Math.floor(B/2)?K:re;case"auto":default:return S>=O&&S<=Q?S:O>Q||S<O?O:Q}},getOffsetForRowAndAlignment:function(r,l,u,S,w,m){var I=r.rowHeight,E=r.height,B=r.rowCount,K=Math.max(0,B*I-E),Q=Math.min(K,l*I),O=Math.max(0,l*I-E+m+I);switch(u==="smart"&&(S>=O-E&&S<=Q+E?u="auto":u="center"),u){case"start":return Q;case"end":return O;case"center":var re=Math.round(O+(Q-O)/2);return re<Math.ceil(E/2)?0:re>K+Math.floor(E/2)?K:re;case"auto":default:return S>=O&&S<=Q?S:O>Q||S<O?O:Q}},getColumnStartIndexForOffset:function(r,l){var u=r.columnWidth,S=r.columnCount;return Math.max(0,Math.min(S-1,Math.floor(l/u)))},getColumnStopIndexForStartIndex:function(r,l,u){var S=r.columnWidth,w=r.columnCount,m=r.width,I=l*S,E=Math.ceil((m+u-I)/S);return Math.max(0,Math.min(w-1,l+E-1))},getRowStartIndexForOffset:function(r,l){var u=r.rowHeight,S=r.rowCount;return Math.max(0,Math.min(S-1,Math.floor(l/u)))},getRowStopIndexForStartIndex:function(r,l,u){var S=r.rowHeight,w=r.rowCount,m=r.height,I=l*S,E=Math.ceil((m+u-I)/S);return Math.max(0,Math.min(w-1,l+E-1))},initInstanceProps:function(r){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(r){var l=r.columnWidth,u=r.rowHeight}}),si=Nn({getItemOffset:function(r,l){var u=r.itemSize;return l*u},getItemSize:function(r,l){var u=r.itemSize;return u},getEstimatedTotalSize:function(r){var l=r.itemCount,u=r.itemSize;return u*l},getOffsetForIndexAndAlignment:function(r,l,u,S,w,m){var I=r.direction,E=r.height,B=r.itemCount,K=r.itemSize,Q=r.layout,O=r.width,re=I==="horizontal"||Q==="horizontal",ne=re?O:E,L=Math.max(0,B*K-ne),ee=Math.min(L,l*K),se=Math.max(0,l*K-ne+K+m);switch(u==="smart"&&(S>=se-ne&&S<=ee+ne?u="auto":u="center"),u){case"start":return ee;case"end":return se;case"center":{var ge=Math.round(se+(ee-se)/2);return ge<Math.ceil(ne/2)?0:ge>L+Math.floor(ne/2)?L:ge}case"auto":default:return S>=se&&S<=ee?S:S<se?se:ee}},getStartIndexForOffset:function(r,l){var u=r.itemCount,S=r.itemSize;return Math.max(0,Math.min(u-1,Math.floor(l/S)))},getStopIndexForStartIndex:function(r,l,u){var S=r.direction,w=r.height,m=r.itemCount,I=r.itemSize,E=r.layout,B=r.width,K=S==="horizontal"||E==="horizontal",Q=l*I,O=K?B:w,re=Math.ceil((O+u-Q)/I);return Math.max(0,Math.min(m-1,l+re-1))},initInstanceProps:function(r){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(r){var l=r.itemSize}});function Lo(e,r){for(var l in e)if(!(l in r))return!0;for(var u in r)if(e[u]!==r[u])return!0;return!1}var oi=null,ii=null;function ri(e,r){var l=e.style,u=_objectWithoutPropertiesLoose(e,oi),S=r.style,w=_objectWithoutPropertiesLoose(r,ii);return!Lo(l,S)&&!Lo(u,w)}function Wi(e,r){return!ri(this.props,e)||Lo(this.state,r)}let cn;typeof window<"u"?cn=window:typeof self<"u"?cn=self:cn=n.g;let Oo=null,Po=null;const Wo=20,Do=cn.clearTimeout,Ho=cn.setTimeout,Ro=cn.cancelAnimationFrame||cn.mozCancelAnimationFrame||cn.webkitCancelAnimationFrame,Vo=cn.requestAnimationFrame||cn.mozRequestAnimationFrame||cn.webkitRequestAnimationFrame;Ro==null||Vo==null?(Oo=Do,Po=function(r){return Ho(r,Wo)}):(Oo=function(r){let[l,u]=r;Ro(l),Do(u)},Po=function(r){const l=Vo(function(){Do(u),r()}),u=Ho(function(){Ro(l),r()},Wo);return[l,u]});function ai(e){let r,l,u,S,w,m,I;const E=typeof document<"u"&&document.attachEvent;if(!E){m=function(se){const ge=se.__resizeTriggers__,he=ge.firstElementChild,fe=ge.lastElementChild,z=he.firstElementChild;fe.scrollLeft=fe.scrollWidth,fe.scrollTop=fe.scrollHeight,z.style.width=he.offsetWidth+1+"px",z.style.height=he.offsetHeight+1+"px",he.scrollLeft=he.scrollWidth,he.scrollTop=he.scrollHeight},w=function(se){return se.offsetWidth!==se.__resizeLast__.width||se.offsetHeight!==se.__resizeLast__.height},I=function(se){if(se.target.className&&typeof se.target.className.indexOf=="function"&&se.target.className.indexOf("contract-trigger")<0&&se.target.className.indexOf("expand-trigger")<0)return;const ge=this;m(this),this.__resizeRAF__&&Oo(this.__resizeRAF__),this.__resizeRAF__=Po(function(){w(ge)&&(ge.__resizeLast__.width=ge.offsetWidth,ge.__resizeLast__.height=ge.offsetHeight,ge.__resizeListeners__.forEach(function(z){z.call(ge,se)}))})};let O=!1,re="";u="animationstart";const ne="Webkit Moz O ms".split(" ");let L="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),ee="";{const se=document.createElement("fakeelement");if(se.style.animationName!==void 0&&(O=!0),O===!1){for(let ge=0;ge<ne.length;ge++)if(se.style[ne[ge]+"AnimationName"]!==void 0){ee=ne[ge],re="-"+ee.toLowerCase()+"-",u=L[ge],O=!0;break}}}l="resizeanim",r="@"+re+"keyframes "+l+" { from { opacity: 0; } to { opacity: 0; } } ",S=re+"animation: 1ms "+l+"; "}const B=function(O){if(!O.getElementById("detectElementResize")){const re=(r||"")+".resize-triggers { "+(S||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',ne=O.head||O.getElementsByTagName("head")[0],L=O.createElement("style");L.id="detectElementResize",L.type="text/css",e!=null&&L.setAttribute("nonce",e),L.styleSheet?L.styleSheet.cssText=re:L.appendChild(O.createTextNode(re)),ne.appendChild(L)}};return{addResizeListener:function(O,re){if(E)O.attachEvent("onresize",re);else{if(!O.__resizeTriggers__){const ne=O.ownerDocument,L=cn.getComputedStyle(O);L&&L.position==="static"&&(O.style.position="relative"),B(ne),O.__resizeLast__={},O.__resizeListeners__=[],(O.__resizeTriggers__=ne.createElement("div")).className="resize-triggers";const ee=ne.createElement("div");ee.className="expand-trigger",ee.appendChild(ne.createElement("div"));const se=ne.createElement("div");se.className="contract-trigger",O.__resizeTriggers__.appendChild(ee),O.__resizeTriggers__.appendChild(se),O.appendChild(O.__resizeTriggers__),m(O),O.addEventListener("scroll",I,!0),u&&(O.__resizeTriggers__.__animationListener__=function(he){he.animationName===l&&m(O)},O.__resizeTriggers__.addEventListener(u,O.__resizeTriggers__.__animationListener__))}O.__resizeListeners__.push(re)}},removeResizeListener:function(O,re){if(E)O.detachEvent("onresize",re);else if(O.__resizeListeners__.splice(O.__resizeListeners__.indexOf(re),1),!O.__resizeListeners__.length){O.removeEventListener("scroll",I,!0),O.__resizeTriggers__.__animationListener__&&(O.__resizeTriggers__.removeEventListener(u,O.__resizeTriggers__.__animationListener__),O.__resizeTriggers__.__animationListener__=null);try{O.__resizeTriggers__=!O.removeChild(O.__resizeTriggers__)}catch(ne){}}}}}class li extends s.Component{constructor(){super(...arguments),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:r,disableWidth:l,onResize:u}=this.props;if(this._parentNode){const S=window.getComputedStyle(this._parentNode)||{},w=parseFloat(S.paddingLeft||"0"),m=parseFloat(S.paddingRight||"0"),I=parseFloat(S.paddingTop||"0"),E=parseFloat(S.paddingBottom||"0"),B=this._parentNode.getBoundingClientRect(),K=B.height-I-E,Q=B.width-w-m,O=this._parentNode.offsetHeight-I-E,re=this._parentNode.offsetWidth-w-m;(!r&&(this.state.height!==O||this.state.scaledHeight!==K)||!l&&(this.state.width!==re||this.state.scaledWidth!==Q))&&(this.setState({height:O,width:re,scaledHeight:K,scaledWidth:Q}),typeof u=="function"&&u({height:O,scaledHeight:K,scaledWidth:Q,width:re}))}},this._setRef=r=>{this._autoSizer=r}}componentDidMount(){const{nonce:r}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=ai(r),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:r,defaultHeight:l,defaultWidth:u,disableHeight:S=!1,disableWidth:w=!1,nonce:m,onResize:I,style:E={},tagName:B="div",...K}=this.props,{height:Q,scaledHeight:O,scaledWidth:re,width:ne}=this.state,L={overflow:"visible"},ee={};let se=!1;return S||(Q===0&&(se=!0),L.height=0,ee.height=Q,ee.scaledHeight=O),w||(ne===0&&(se=!0),L.width=0,ee.width=ne,ee.scaledWidth=re),(0,s.createElement)(B,{ref:this._setRef,style:{...L,...E},...K},!se&&r(ee))}}function Hi(e){return e&&e.disableHeight!==!0&&e.disableWidth!==!0}function Vi(e){return e&&e.disableHeight!==!0&&e.disableWidth===!0}function Gi(e){return e&&e.disableHeight===!0&&e.disableWidth!==!0}const ci=(0,s.memo)(e=>{let{className:r,itemCount:l,itemSize:u,itemData:S,renderItem:w,onItemCountChange:m,onListRef:I}=e;const E=s.createRef();return(0,s.useEffect)(()=>{E.current&&m&&m(E)},[l,E,m]),(0,s.useEffect)(()=>{E.current&&I&&I(E)},[E,I]),(0,i.jsx)(li,{children:B=>{let{width:K,height:Q=0}=B;return(0,i.jsx)(si,{ref:E,className:r,itemCount:l,itemSize:u,itemData:S,height:Q,width:K,children:w})}})}),di=e=>{const{theme:r,caption:l,captionExtra:u,className:S,permissionScope:w,memberList:m,isOnlyOneManager:I,readOnly:E,readOnlyTooltip:B,expandable:K,defaultExpanded:Q=!0,isResetPermission:O=!1,children:re,onPermissionChange:ne,onChangeHeight:L,isMemberList:ee,onlyTitle:se,isUseVirtualizedRender:ge=!1,onClickInviteButton:he,isShowInviteButton:fe=!1,currentOrg:z}=e,[ye,be]=(0,s.useState)(Q),xe=(0,s.useCallback)(()=>{be(Be=>!Be),L&&L()},[L]),Te=(0,s.useCallback)(Be=>{var $e;const{avatar:ot,name:at}=Be;return ot&&!ot.includes("/images/avatar.png")?(0,i.jsx)("img",{className:"avatar",src:Be.avatar,alt:Be.name}):(0,i.jsx)("div",{className:"avatar avater-name",children:at==null||($e=at.slice(0,1))==null?void 0:$e.toUpperCase()})},[]),Ae=(Be,$e)=>(0,i.jsxs)("div",{className:"item",style:$e,children:[(0,i.jsxs)("span",{className:"title",children:[Te(Be),(0,i.jsx)("span",{className:"name",children:Be.name})]}),(0,i.jsx)("span",{className:"account",children:Be.email||Be.mobile}),(0,i.jsx)(Ao,{readOnly:E,readOnlyTooltip:B,member:Be,isReset:O,isOnlyOneManager:I,permissionScope:w,currentOrg:z,onPermissionChange:ne})]},Be.user_cid),Ze=Be=>{let{data:$e,index:ot,style:at}=Be;const{memberList:lt}=$e;return Ae(lt[ot],at)};return(0,i.jsxs)(t,{className:q()("member-list",r,S&&S,ge&&"use-virtualized-list"),"data-expanded":ye,children:[K&&(0,i.jsxs)("h5",{className:"caption",children:[(0,i.jsx)("span",{children:l}),fe&&!(!se&&K&&!ee)&&(0,i.jsxs)("div",{className:"invite-item",onClick:he,children:[(0,i.jsx)(je.C,{name:"sharing/invite_member"}),I18N.imockSharing.add_collaborator]}),!se&&K&&!ee&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:m.length>0&&"\xB7"+m.length}),(0,i.jsx)("span",{className:q()("btn-toggle-expand"),onClick:xe,children:ye?I18N.BasicWidgetsNav.share_collapse:I18N.BasicWidgetsNav.share_view})]}),u]}),re,!!m.length&&(0,i.jsx)("div",{className:"members",children:ge?(0,i.jsx)(ci,{className:"virtualized-list",itemSize:48,itemCount:m.length,itemData:{memberList:m},renderItem:Ze}):m.map(Be=>Ae(Be))})]})},Bo=(0,s.memo)(di),ui=A.Ay.div.withConfig({displayName:"style__StyledSearchBox",componentId:"sc-f6syk1-0"})(["flex:1;position:relative;.icon-search{position:absolute;top:12px;left:12px;width:16px;height:17px;color:#666;}.autoCompleteInput{position:absolute;width:1px;height:1px;top:-2000px;}input{width:100%;height:36px;padding:0 12px 0 12px;border-radius:4px;outline:none;color:",";border:1px solid ",";font-size:14px;&:hover,&:focus{border-color:#298df8;border:1px solid #1883FB;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02),pi=e=>{const{value:r,onChange:l,onKeyPress:u}=e,S=m=>{l(m.currentTarget.value)},w=m=>{m.key==="Enter"&&u(m.currentTarget.value)};return(0,i.jsx)(ui,{className:"search-box",children:(0,i.jsx)("input",{className:"search-input",placeholder:I18N.imockSharing.search_member,type:"text",value:r,onChange:S,onKeyPress:w})})},hi=(0,s.memo)(pi),Jn={OWNER:1e4,SUPERMANAGER:9999,MANAGER:999,MEMBER:99,LIMITER:10,VIEWER:9,BANNED:1,UNKNOWN:0,UNJOINED:-1},Ki={space_owner:16,space_manager:15,space_member:14,space_viewer:13,space_limiter:12,team_owner:11,team_manager:10,team_member:9,team_viewer:8,project_owner:6,project_manager:5,project_member:4,project_viewer:3,project_ban_viewer:2,project_team_owner:1,team_ban_viewer:1},mi={org_owner:Jn.OWNER,org_manager:Jn.SUPERMANAGER,org_admin:Jn.MANAGER,org_member:Jn.MEMBER,org_viewer:Jn.VIEWER};var Go=n(67029);const gi=e=>{const r={pt_total_seats:10,pt_bindings:[],ptlt_total_seats:0,ptlt_bindings:[],bx_total_seats:10,bx_bindings:[],total_viewer_seats:100,viewer_seats_taken:0},{pt_total_seats:l,pt_bindings:u,ptlt_total_seats:S,ptlt_bindings:w,bx_total_seats:m,bx_bindings:I,total_viewer_seats:E,viewer_seats_taken:B}=e||r;return{plTotalSeats:S,pTotalSeats:l,pBindings:u||[],plBindings:w||[],bTotalSeats:m,bBindings:I||[],totalViewerSeats:E,viewerSeatsTaken:B}},fi=e=>{if(!e)return null;const{permissions:r,total_viewer_seats:l,viewer_seats_taken:u}=e,{bBindings:S,pTotalSeats:w,pBindings:m,bTotalSeats:I,plBindings:E,plTotalSeats:B}=gi(e);let K=I;const Q=ks.t.InitialOrg(e),O=Q.planSdk.getIsDefaultFreeOrg(),re=Q.planSdk.getOrgPlan()===Go.Sj.OrgExpired,ne=Q.planSdk.getOrgStatus()===Go._E.Trial;let L=m.length,ee=S.length;if(ne||O||re){const Be=r.filter($e=>mi[$e.role]>Jn.VIEWER);ee=(Be==null?void 0:Be.length)||10,L=(Be==null?void 0:Be.length)||10,K=w}const se=E.length>=B,ge=L>=w&&se,he=ee>=K,fe=he&&ge,z=L>=w&&ee>=K,ye=u>=l,be=L+E.length,xe=ee,Te=w+B,Ae=Te+K,Ze=be+xe;return{isNormalSeatFull:z,isLifetimeFull:se,isPtMemberFull:ge,isBxMemberFull:he,isMemberFull:fe,isViewerFull:ye,ptSeatsTaken:be,bxSeatsTaken:xe,ptTotalSeats:Te,bxTotalSeats:K,viewerSeatsTaken:u,totalViewerSeats:l,totalSeats:Ae,seatsTaken:Ze}};var Ko=n(90503);function yi(e){const{theme:r,caption:l,outerMembers:u,canInvite:S,isSharing:w,handleClickInviteMember:m}=e,I=()=>{const K="\u54C8\u55BD\uFF0C\u7BA1\u7406\u5458\u60A8\u597D\uFF0C\u7533\u8BF7\u5C06"+(u[0].mobile||u[0].email)+"\u52A0\u5165\u300C\u58A8\u5200\u5E73\u53F0-"+l+"\u300D\uFF0C\u52A0\u5165\u540E\u6211\u5C31\u53EF\u4EE5\u548CTA\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~";(0,vn.$)(K)},E=!u||u.length<1;return w?(0,i.jsxs)(t,{className:"member-list sharing "+r,children:[(0,i.jsxs)("div",{className:"members invite",children:[!E&&u.map(B=>(0,i.jsxs)("div",{className:"item",children:[(0,i.jsxs)("span",{className:"title",children:[(0,i.jsx)("img",{className:"avatar",src:B.avatar,alt:B.name}),(0,i.jsxs)("span",{className:"name",children:[B.name,(0,i.jsx)("span",{className:"register",children:B.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,i.jsx)("span",{className:"account",children:B.email||B.mobile}),!n.g.ENV.IS_ON_PREMISES&&(S?(0,i.jsx)("span",{className:"inviteJoin",onClick:m,children:I18N.imockSharing.invite_h}):(0,i.jsxs)("div",{className:"addOuter",children:[(0,i.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,i.jsx)(hs.A,{opener:(0,i.jsx)(Ko.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,i.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,i.jsx)("a",{className:"copy-text",onClick:I,children:I18N.imockSharing.copy})]})})]}))]},B.cid)),E&&(0,i.jsx)("div",{className:"enterTip",children:(0,i.jsx)("span",{children:n.g.ENV.IS_ON_PREMISES?(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,i.jsx)("br",{}),(0,i.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,i.jsx)(a,{})]}):(i.Fragment,(0,i.jsxs)(t,{className:"member-list "+r,children:[(0,i.jsxs)("div",{className:"members invite",children:[!E&&u.map(B=>(0,i.jsxs)("div",{className:"item",children:[(0,i.jsxs)("span",{className:"title",children:[(0,i.jsx)("img",{className:"avatar",src:B.avatar,alt:B.name}),(0,i.jsxs)("span",{className:"name",children:[B.name,(0,i.jsx)("span",{className:"register",children:B.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,i.jsx)("span",{className:"account",children:B.email||B.mobile}),!n.g.ENV.IS_ON_PREMISES&&(S?(0,i.jsx)("span",{className:"inviteJoin",onClick:m,children:I18N.imockSharing.invite_h}):(0,i.jsxs)("div",{className:"addOuter",children:[(0,i.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,i.jsx)(hs.A,{opener:(0,i.jsx)(Ko.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,i.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,i.jsx)("a",{className:"copy-text",onClick:I,children:I18N.imockSharing.copy})]})})]}))]},B.cid)),E&&(0,i.jsx)("div",{className:"enterTip",children:(0,i.jsx)("span",{children:n.g.ENV.IS_ON_PREMISES?(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,i.jsx)("br",{}),(0,i.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,i.jsx)(a,{})]}))}const xi=(0,s.memo)(yi),Zo=()=>!!Number(sessionStorage.getItem("inClowdz"));function bi(e){let r="file_editarea-proto-v8-add",l="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0";return r=e?"file_editarea-proto-v8-input-add":"file_editarea-proto-v8-add-direct",l=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u6DFB\u52A0":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u6DFB\u52A0",{trackSourceId:r,trackSource:l}}function vi(e,r){r===void 0&&(r=!1);let l="file_editarea-proto-v8-invite",u="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u9080\u8BF7\u6210\u5458";return r?(l="file_editarea-proto-v8-input-inviteTA",u="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7TA"):(l=e?"file_editarea-proto-v8-input-invite":"file_editarea-proto-v8-add-invite",u=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7\u6210\u5458":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u9080\u8BF7\u6210\u5458"),{trackSourceId:l,trackSource:u}}function Yo(e){if(!e)return"";let r="";return e==="org_owner"?r="\u4F01\u4E1A\u6240\u6709\u8005":e==="org_manager"?r="\u8D85\u7EA7\u7BA1\u7406\u5458":e==="org_admin"||e!=null&&e.includes("manager")?r="\u7BA1\u7406\u5458":e!=null&&e.includes("member")?r="\u534F\u4F5C\u6210\u5458":e!=null&&e.includes("viewer")&&(r="\u5BA1\u9605\u6210\u5458"),r}const $o=(e,r,l)=>{try{const{source_id:u,source:S,step:w,option:m=null}=l;if(!r||!e||ENV.IS_ON_PREMISES||ENV.IS_WONDER_SHARE)return;if((!m||(m==null?void 0:m.results)!==!1)&&u)try{(0,us.Ds)("/api/dashboard/v5/org/invitation_records",{invitation_record:{user_id:e,org_cid:r,source:u,step:w}})}catch(I){console.log(I.message)}if(w===0)(0,$.kH)("invite_members_entrance",{source:S});else if(w===2&&m){const I=Yo(m==null?void 0:m.invitor_role),E=Yo(m==null?void 0:m.invitee_role);(0,$.kH)("invite_members_via_add",{source:S,join_space_num:1,has_department:!1,invitor_role:I,invitee_role:E,results:(m==null?void 0:m.results)||!0,error_type:(m==null?void 0:m.error_type)||""})}}catch(u){console.log(u.message)}},Gs=function(e,r,l,u,S){S===void 0&&(S=null);const{trackSourceId:w,trackSource:m}=bi(l);$o(e,r,{source_id:w,source:m,step:u,option:S})},_i=function(e,r,l,u){u===void 0&&(u=!1);const{trackSourceId:S,trackSource:w}=vi(l,u),m={trackSourceId:S,trackSource:w},I="/workspace/"+r+"/admin/member?openInviteByLinkModal=true&invite_track="+(0,It._)(m);if($o(e,r,{source_id:S,source:w,step:0}),Zo()){location.pathname=I;return}(0,ut.JW)(I)},wi=(e,r,l)=>{const[u]=(0,s.useState)(l),S=(0,s.useRef)(0);return(0,s.useEffect)(()=>{u&&S.current>=1||S.current>=2||(Gs(e,r,l,0),S.current+=1)},[!!l]),u||l},Si=A.Ay.div.withConfig({displayName:"styles__StyledInviteMemberOverlay",componentId:"sc-six6tj-0"})(["z-index:3;height:100%;width:100%;display:flex;flex-direction:column;align-items:stretch;.overlay-content{flex:1;padding:0 4px;overflow:auto;position:relative;height:calc(100% - ","px);overflow-x:hidden;&::-webkit-scrollbar{display:block;width:4px;height:4px;}.member-list.use-virtualized-list{height:calc(100% - 10px);width:410px;.members{height:100%;.virtualized-list{&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}}}.overlay-content.no-members{.member-list{height:90%;.invite{height:90%;.enterTip{height:100%;display:flex;align-items:center;justify-content:center;&:lang(en){span{display:flex;justify-content:center;div{width:80%;text-align:center;line-height:20px;}}}}}}}.collaboration-remind{position:absolute;bottom:57px;left:0;width:100%;height:29px;color:#FFFFFF;background:#298DF8;padding:0 23px;font-size:12px;line-height:17px;display:flex;justify-content:space-between;align-items:center;.collaboration-remind-close{width:16px;height:16px;cursor:pointer;path{fill:#FFFFFF;}}}.overlay-footer{display:flex;align-items:center;justify-content:space-between;height:","px;padding:0 24px;border-top:1px solid ",";.seats{color:",";font-size:12px;}}"],we.gE,we.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1),Ci=e=>{const{theme:r,keyword:l,source:u,caption:S,permissionScope:w,assignedMembers:m,unassignedMembers:I,outerMember:E,onPermissionChange:B,hostType:K,handleClose:Q}=e,O=(0,f.d4)(Ie.wA),re=(0,f.d4)(Ie.cb),ne=(0,f.d4)(Ie.WR),{settings:L,cid:ee}=O,{seatsTaken:se,totalSeats:ge}=fi(O)||{},he=wi(ne,ee,l);let fe=!1;(L.invite_permission&&L.invite_permission[0]==="all"||re.isManager)&&(fe=!0);const z=()=>{const Ze={mode:"org",orgCid:O.cid,payEntrance:"\u7F16\u8F91\u533A-v8_\u7248\u672C\u7BA1\u7406_\u4E2A\u4EBA\u5347\u4F01\u4E1A",checkoutPlace:"workspace-v8_org_mem_limit",checkoutArea:"proto"};if(K==="proto")MB.global.popupHelper.chargeAsync(Ze),Q&&Q();else{const Be="/workspace/"+O.cid+"/admin/order?payment_param="+(0,It._)(Ze);if(Zo()){location.pathname=Be;return}(0,ut.JW)(Be)}},ye=(0,s.useMemo)(()=>I.filter(Ze=>Ze.name&&Ze.name.includes(l)||Ze.mobile&&Ze.mobile.includes(l)||Ze.email&&Ze.email.includes(l)),[l,I]),be=()=>{fe&&_i(ne,ee,he,!0)},xe=(Ze,Be)=>{B(Ze,Be),Gs(ne,ee,he,1),E&&Gs(ne,ee,he,2,{invitor_role:re==null?void 0:re.roleName,invitee_role:Be}),Gs(ne,ee,he,3)},Te=!ye||ye.length<1,Ae=E?[E]:[];return(0,i.jsxs)(Si,{className:"overlay-adding-member sharing",children:[(0,i.jsxs)("div",{className:q()("overlay-content",!E&&Te&&"no-members"),children:[!Te&&(0,i.jsx)(Bo,{theme:r,caption:l?null:I18N.imockSharing.unjoined,expandable:!1,className:q()(l&&"invite"),permissionScope:w,currentOrg:O,memberList:ye,isResetPermission:!0,onPermissionChange:xe,isUseVirtualizedRender:!0},"filtered-unassigned-members"),Te&&(0,i.jsx)(xi,{theme:r,caption:S,outerMembers:Ae,canInvite:fe,isSharing:!0,handleClickInviteMember:be})]}),(0,i.jsxs)("footer",{className:"overlay-footer",children:[(0,i.jsxs)("span",{className:"seats",children:["\u5DF2\u5360\u7528\u5E2D\u4F4D/\u4F01\u4E1A\u603B\u5E2D\u4F4D\u6570\uFF1A",se,"/",ge]}),!n.g.ENV.IS_ON_PREMISES&&(0,i.jsx)(dn.Oc,{type:"primary",size:"tiny",corner:"soft",onClick:z,children:I18N.imockSharing.add_team_seat})]})]})},Mi=(0,s.memo)(Ci),Ni=A.Ay.div.withConfig({displayName:"styles__StyledProjectCollaborators",componentId:"sc-th5siy-0"})(["position:relative;display:flex;flex-direction:column;width:500px;height:100%;border-radius:8px;&.sharing{width:100%;&.dark{background:#252626;&.isInviteOverlayOpen{.overlay-adding-member{background:#252626;.overlay-header{.btn-back > svg > path{stroke:rgba(255,255,255,0.9);}.caption{color:rgba(255,255,255,0.9);}}.overlay-content{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}.nav-header > .title-left{label > button > svg > path{fill:#B8BCBF;}}.modal-content{.collaborators{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}.inherited-members{.caption > span{color:",";&:last-child{color:#1684FC;}}.members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}}&.isInviteOverlayOpen{.overlay-adding-member{.overlay-header{height:50px;.btn-back{left:20px;}.caption{font-size:14px;font-weight:500;color:",";left:82px;&:lang(en){left:100px;}}}}}& > .blank{height:86px;&.noSearch{height:18px;}}.modal-content{.blank{height:55px;}.collaborators{overflow-y:overlay;.member-list{.caption{padding:10px 20px;& > span{font-weight:500;font-size:12px;}.btn-toggle-expand{color:",";&:hover{color:",";}}.btn-add-collaborator{right:20px;}}.members{margin-top:0;.item{padding:7px 20px;height:48px;.title{flex:none;width:150px;.avatar{width:28px;height:28px;}.name{width:105px;font-weight:400;font-size:14px;line-height:initial;color:#333;}}.account{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}}}}}}.nav-header{display:flex;padding-left:10px;font-weight:500;font-size:16px;color:",";height:","px;align-items:center;border-bottom:1px solid ",";justify-content:space-between;.title-left{display:flex;align-items:center;.title-left-back{cursor:pointer;display:flex;align-items:center;}.member-manager{cursor:default;margin-left:10px;}svg{margin-top:2px;}.nav-title{color:"," !important;font-size:14px;margin-top:1px;}}.title-close{margin-right:20px;cursor:pointer;.svg-icon{color:",";&:hover{color:",";}&:active{color:",";}}}}.modal-content{display:flex;flex:1;flex-direction:column;align-items:stretch;height:calc(100% - ","px);padding-top:10px;&.modal-content-show-search{height:calc(100% - 116px);}&.in-invite-overlay{padding-top:20px;}.collaborators{padding:0 4px 20px 4px;height:100%;overflow:hidden auto;&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}.search{display:flex;align-items:center;position:relative;margin:0px 20px;padding-top:20px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_L1,we.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,we.gE),Ii=e=>{const{theme:r,from:l,caption:u,targetCid:S,permissionScope:w,captionTipType:m,isFolder:I=!1,isAllowSetCollaborators:E,isShowInheritedCollaborators:B=!1,handleBackSharingHandel:K,onChangeMembersAccess:Q,handleClose:O,hostType:re,isOnlyMemberManager:ne=!1,currentOrg:L}=e,[ee,se]=(0,s.useState)(""),[ge,he]=(0,s.useState)(null),[fe,z]=(0,s.useState)(!1),{currentMembers:ye,inheritedMembers:be,joinedMembers:xe,unjoinedMembers:Te,assignedMembers:Ae,unassignedMembers:Ze,userCurrentScopePermisson:Be,isOnlyOneManager:$e}=bt(w,S),ot=xt(w,S,l),at=async(vt,on)=>{await ot(vt,on),Q&&Q(vt,on)};let lt=ye,Mt=Ae,Tt=Ze;const Ot=Be.isMember,Dt=E&&Ot,Vt=!fe&&Ot;E&&!B&&(lt=xe,Mt=xe,Tt=Te);const gt=(0,s.useCallback)(()=>{z(!1),se(""),he(null)},[]),At=(0,s.useCallback)(vt=>{se(vt),he(null),vt&&z(!0)},[]),Pt=(0,s.useCallback)(async vt=>{if(!n.g.ENV.IS_ON_PREMISES&&(se(vt),vt)){const on=Tt.find(Kt=>Kt.email===vt.trim()||Kt.mobile===vt.trim()),Xn=Mt.find(Kt=>Kt.email===vt.trim()||Kt.mobile===vt.trim());if(on||Xn)return;const qn=Yn.test(vt.trim()),xn=Dn.test(vt.trim());let rn=null;if(qn?rn=await ps(vt.trim()):xn&&(rn=await ps(null,vt.trim())),rn){let Kt=null;rn.user?(Kt=rn.user,Kt.name=I18N.imockSharing.to_be_invited,Kt.cid="outer"):Kt={avatar:"/images/avatar.png",cid:vt,email:vt,isNotRegister:!0,name:I18N.imockSharing.to_be_invited},he(Kt)}}},[]),Jt=(0,s.useCallback)(()=>{if(!(ne&&!fe)){if(se(""),he(null),fe){z(!1);return}K()}},[fe,z,K]),ft=(0,s.useCallback)(()=>{z(!0)},[z]);return(0,i.jsxs)(Ni,{className:q()("ProjectCollaborators sharing",""+r,{isInviteOverlayOpen:!0}),children:[(0,i.jsxs)("div",{className:"nav-header",children:[(0,i.jsxs)("div",{className:"title-left",children:[(0,i.jsxs)("div",{className:q()("title-left-back",{"member-manager":ne&&!fe}),onClick:Jt,children:[ne?fe&&(0,i.jsx)(je.C,{name:"sharing/nav_back",size:32}):(0,i.jsx)(je.C,{name:"sharing/nav_back",size:32}),(0,i.jsx)("div",{className:"nav-title",children:fe?I18N.imockSharing.add_collaborator:I18N.imockSharing.team_collaborator})]}),!fe&&(0,i.jsx)(Co,{tipType:m,position:"left",isOnlyMemberManager:ne})]}),ne&&(0,i.jsx)("div",{className:"title-close",onClick:O,children:(0,i.jsx)(je.C,{size:24,name:"sharing/close"})})]}),Dt&&(0,i.jsx)("div",{className:q()("search"),children:(0,i.jsx)(hi,{value:ee,onChange:At,onKeyPress:Pt})}),(0,i.jsx)("div",{className:q()("modal-content",Dt&&"modal-content-show-search"),children:fe?(0,i.jsx)(Mi,{theme:r,permissionScope:w,currentOrg:L,unassignedMembers:Tt,assignedMembers:Mt,outerMember:ge,keyword:ee,caption:u,onClose:gt,onPermissionChange:at,handleClose:O,hostType:re}):(0,i.jsxs)("div",{className:q()("collaborators",fe&&"in-invite-overlay"),children:[E&&(0,i.jsx)(Bo,{theme:r,caption:I18N.imockSharing.project_collaborators,permissionScope:w,currentOrg:L,memberList:lt,isOnlyOneManager:$e,isMemberList:!1,expandable:!0,onlyTitle:!0,onPermissionChange:at,onClickInviteButton:ft,isShowInviteButton:Vt},"current-collaborators"),B&&(0,i.jsx)(Bo,{theme:r,caption:I18N.imockSharing.parent_folder_collaborator,expandable:!0,defaultExpanded:I,readOnly:!0,permissionScope:w,currentOrg:L,memberList:be,onPermissionChange:at,className:"inherited-members",onClickInviteButton:ft,isShowInviteButton:Vt},"inherited-collaborators")]})}),(0,i.jsx)(No,{})]})},Ei=(0,s.memo)(Ii);function ji(e){const{theme:r,targetCid:l,isSharing:u,handleBackSharingHandel:S,onChangeMembersAccess:w,handleClose:m,hostType:I,isOnlyMemberManager:E,currentOrg:B}=e,Q=(0,f.d4)(Ie._B).get(l),O=st(Q==null?void 0:Q.team_cid);return!Q||O<0?null:(0,i.jsx)(Ei,{theme:r,targetCid:l,caption:Q.name,isAllowSetCollaborators:!0,isShowInheritedCollaborators:O>=1,captionTipType:Ee.p.Project,currentOrg:B,permissionScope:Ee.W.Project,isSharing:u,handleBackSharingHandel:S,onChangeMembersAccess:w,handleClose:m,hostType:I,isOnlyMemberManager:E})}const ki=(0,s.memo)(ji);var Ti=n(63686);const Ai=e=>{const{user:r,initData:l,currentProject:u,members:S,dispatch:w}=e,m=u==null?void 0:u.cid;return(0,s.useEffect)(()=>{(async E=>{w({type:"entry:projectAccess:initProjectData",payload:{initData:l,members:S}})})(m)},[w,l,S,m,r]),r!=null&&r.id?(0,i.jsx)(ki,{targetCid:m,isSharing:!0,...e}):null},Li=(0,Ti.Mz)([],()=>({})),Oi=(0,f.Ng)(e=>Li(e))(Ai);var Pi=n(11645),Qo=n(87537),Di=n(33520);function Ri(e){const{getIframeContentHeight:r,handleChangeMembersAccess:l,handleClose:u}=e,S=(0,f.wA)(),w=(0,f.d4)(c.query.getProject),m=(0,f.d4)(c.query.getMembers),I=(0,f.d4)(c.query.getTheme),E=(0,f.d4)(c.query.getTopPageIndex),B=(0,f.d4)(c.query.getHostType),K=(0,f.d4)(c.query.getTabIndex),Q=(0,f.d4)(c.query.getMainPage),O=(0,f.d4)(c.query.getLoading),re=(0,f.d4)(c.query.getInitData),ne=(0,f.d4)(c.query.getOrg),L=(0,f.d4)(c.query.getUser),ee=(0,f.d4)(c.query.getIsEditMode),se=(0,f.d4)(c.query.getIsOnlyMemberManager),[ge,he]=(0,s.useState)(!1);(0,s.useEffect)(()=>{const xe=(0,sn.fV)();if(xe){const{mdWMMktList:Te,mtWMMktList:Ae,noWMMktList:Ze}=xe,Be=[...Te,...Ae,...Ze];Be.length&&(0,xs.q)(Be).then($e=>{if($e.mdWMMktList.length>0||$e.mtWMMktList.length>0){if(!(0,Un._5)())return;he(!0)}})}},[]);const[fe,z]=(0,s.useState)(282);(0,s.useEffect)(()=>{let xe=619;Q!=="access"&&(K===0&&E==="edit"?xe=212:(E==="embed"||E==="qrCode"||K===0&&E==="setting")&&(xe=380)),ge&&(xe+=37),z(xe),B!=="proto"&&r(xe)},[B,K,E,Q,r,ee,ge]);const ye=(0,s.useCallback)(()=>{S({type:c.entryKey["sharing:init"],payload:{mainPage:"share"}})},[S]);(0,s.useEffect)(()=>{S({type:c.entryKey["sharing:projectAccess:init"]})},[Q,S]);const be=(0,s.useCallback)(async(xe,Te)=>{l&&l(xe,Te)},[l]);return O?(0,i.jsx)(Qo.A,{className:q()("sharingBoxV2",""+I,"loading"),children:(0,i.jsx)(Pi.A,{})}):(0,i.jsxs)(Qo.A,{className:q()("sharingBoxV2",""+I,B==="iframe"&&"in-iframe"),style:{height:fe+"px"},id:"v8-share-page",children:[Q==="share"?(0,i.jsx)(fn,{}):(0,i.jsx)(Oi,{theme:I,user:L,currentProject:w,members:m,initData:re,currentOrg:ne,handleBackSharingHandel:ye,onChangeMembersAccess:be,hostType:B,handleClose:u,isOnlyMemberManager:se}),(0,i.jsx)(Di.r,{})]})}var Bi=n(40778);const Fi=e=>{let{theme:r,org:l=null,user:u,project:S,flatKey:w,members:m=[],hostType:I="proto",screenMetaList:E,hostSharingData:B,projShareToEdit:K="",handleClose:Q,isOnlyMemberManager:O=!1,hostCurrentScreen:re}=e;const ne=oe();let L=!0;I!=="iframe"&&(L=(0,Bi.OB)());const ee=K?1:0;ne.dispatch({type:c.entryKey["sharing:init"],payload:{project:S,theme:r,user:u,org:l,flatKey:w,hostType:I,members:m,screenMetaList:E,hostSharingData:B,isEditMode:L,tabIndex:ee,projShareToEdit:K,hostCurrentScreen:re}});const se=(0,s.useCallback)(he=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:height",payload:{height:he}}),"*")},[]),ge=(0,s.useCallback)((he,fe)=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:changeMembersAccess",payload:{member:he,value:fe}}),"*")},[]);return I==="iframe"&&O&&(ne.dispatch({type:c.entryKey["sharing:init"],payload:{mainPage:"access",isOnlyMemberManager:!0}}),se(585)),(0,s.useEffect)(()=>{if(I==="iframe"&&!O&&se(212),!S)return;const{cid:he}=S;(async()=>{if(!S)return;const{result:{result:z},statusOk:ye}=await(0,Y.QC)(he);ye&&ne.dispatch({type:c.entryKey["sharing:init"],payload:{canEditByUser:z}})})()},[I,se,S,ne]),(0,i.jsx)(f.Kq,{store:ne,children:(0,i.jsx)(A.NP,{theme:le.A[r],children:(0,i.jsx)(te.$,{children:(0,i.jsx)(Ri,{getIframeContentHeight:se,handleChangeMembersAccess:ge,handleClose:Q})})})})}},87537:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>p});var s=n(21676);const p=s.Ay.div.withConfig({displayName:"styles__StyledMainPage",componentId:"sc-8fjrks-0"})(["width:414px;background-color:",";color:",";position:relative;height:212px;&.loading{height:212px;}&.dark{.personal-project-access{.title{span{color:rgba(255,255,255,0.9);}}.content{span{color:rgba(255,255,255,0.9);}}}.access-operation{.open-access-switch > span{color:rgba(255,255,255,0.9);}.item-center > button{background-color:#252626;&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}.sharing-footer{background-color:#151515;.sharing-type{span{color:rgba(255,255,255,0.9);}.toolbar-icon-item > svg > path{color:rgba(255,255,255,0.9);}}.sharingV2-click-visible{&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}}.access-operation{margin:20px 20px 14px;.open-access-switch{display:flex;align-items:center;margin-bottom:20px;span{font-weight:500;font-size:14px;line-height:20px;color:#333333;margin-right:6px;}}}"],M=>M.theme.color_bg_white,M=>M.theme.color_text_L2)},60482:(Ne,de,n)=>{"use strict";n.d(de,{CV:()=>R,EL:()=>$,Mb:()=>y,Mj:()=>_,O8:()=>N,R0:()=>j,RF:()=>V,R_:()=>Y,Sy:()=>C,Uh:()=>ae,a2:()=>pe,eH:()=>v,it:()=>b,jc:()=>D,kv:()=>U,vt:()=>x,zM:()=>g});var s=n(51691),p=n(88223),M=n(76713),d=n.n(M),k=n(41449),X=n(72907),H=n(44864),T=n(36521),P=n(39547);const j=c=>c?[{value:"public",label:I18N.imockSharing.share_anyone_view},{value:"restricted",label:I18N.imockSharing.org_members_only}]:[{value:"public",label:I18N.imockSharing.share_anyone_view}],R=c=>{let{accessToken:G,targetKey:W,pageKey:oe,view_mode:f,selection:A,page_begin:te,canvas_begin:le}=c;const ie=(we,Fe)=>Fe?"&"+we+"="+Fe:"";let q=""+location.origin+k.o$+"/"+G+"/sharing?view_mode="+(f||"read_only");return f==="read_only"?q=""+q+ie("screen",oe)+ie("canvasId",W)+ie("selection",A):f==="device"?q=""+q+ie("screen",te!=null?te:oe)+ie("canvasId",le!=null?le:W)+ie("selection",A):q=""+q+ie("screen",oe)+ie("selection",A),q},ae=c=>c&&c.length>0?c[0]:"",Y=(c,G,W,oe)=>{const f=oe?"  \u5BC6\u7801\uFF1A"+oe:"";return c+" #"+(0,p.qk)(G)+"-"+(0,p.qk)(W||"\u5206\u4EAB")+f},pe=c=>""+(["v6.modao.cc"].includes(location.host)?"https://modao.cc":location.origin)+k.o$+"/"+c,U=c=>{const{project:G,action:W,linkName:oe,isFromScreenList:f}=c;s.Y4.trackShareProjectAction({project_type:"\u539F\u578B V8",source:f?"\u9875\u9762\u5217\u8868\u83DC\u5355":(0,s.IQ)(),project_name:G.name,project_cid:G.cid,share_link_action:W,share_link_name:oe})},$=c=>{if(!c)return!1;const{created_at:G}=c;return d()(G).isBetween(d()().subtract(3,"days"),d()())},V=c=>Object.entries(c).filter(W=>{let[oe,f]=W;return!f.hotAttr.asFolder&&oe!==H.$k}).map(W=>W[0]),_=(c,G,W)=>{if(c)return W.length;let oe=0;return G==null||G.forEach(f=>{W.find(te=>te===f)&&(oe+=1)}),oe},C=(c,G)=>{if(G.screen_visible_switch){const{selectedSize:W,pageSize:oe}=y(c,G);return W+"/"+oe}else return I18N.imockSharing.all},y=(c,G)=>{const W=V(c.pageAttrMap),oe=_(!G.screen_visible_switch,G.screen_visible_list,W);return{pageSize:W.length,selectedSize:oe}},x=c=>{const G={},W=[],oe=new Map;for(const[te,le,ie]of c)if(ie.type==="rResBunch"){te!==H.$k&&W.push(te),G[te]={hotAttr:ie},oe.get(te)||oe.set(te,[]);const q=oe.get(le);Array.isArray(q)&&oe.set(le,[...q,te])}const f=te=>{let le=[];for(const q of oe.get(te))le.push(f(q));le=le.sort((q,we)=>q.data.zIndex-we.data.zIndex);const{hotAttr:ie}=G[te];return{cid:te,data:{cid:te,...ie},children:le}},A=f("B@main");return{pageAttrMap:G,pageKeyList:W,treeData:A}};function g(c,G,W){let oe=I18N.imockSharing.share;return G&&(oe=oe+" "+(G.length+1)),{project_cid:c,view_access:"public",screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,view_sticky:!0,comment_permission:"org_member",is_default_link:!1,password:"",device_model:"read_only",view_prd:!1,expire_type:"forever",sticky:!1,...W,link_name:oe,type:"advanced"}}const v=async c=>{let{updateType:G,org:W,updateFn:oe,updatedKV:f,isCustom:A}=c;const te=()=>{const ie=(W==null?void 0:W.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:ie}),window.top&&window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:ie}}),"*")},le=()=>{if(!A&&G==="update"){const ie={sharingMessage:"sharing:notice",payload:{type:"settingSuccess"}};try{f!=null&&f.expire_type?MB.notice({text:I18N.imockSharing.sharing_hasRest,type:"success"}):MB.notice({text:I18N.imockSharing.setting_valid})}catch(q){window.top&&window.top.postMessage(JSON.stringify(ie),"*")}}};try{const ie=await oe();if(ie)return le(),ie}catch(ie){await(0,X.m0)(ie,te)}},b=c=>{let{value:G,currentSharing:W,sharingList:oe}=c,f=!1;for(const A of oe)if(A.cid!==W.cid&&G===A.link_name){f=!0;break}return f},N=(c,G,W)=>{let oe;if(G.type==="default"){const A=new URLSearchParams(location.search),te=A.get("view_mode")||(0,T.Yt)(c.cid+"_default_sharing_view_mode","read_only",T.qW.String),le=A.get("selection"),ie=A.get("screen"),q=A.get("canvasId");oe=R({accessToken:G.access_token,view_mode:te,page_begin:G.is_first_canvas_open?"":ie,canvas_begin:G.is_first_canvas_open?"":q,selection:le,pageKey:G.is_first_canvas_open?"":W})}else G.screen_visible_switch?W&&G.screen_visible_list.includes(W)?oe=R({accessToken:G.access_token,view_mode:G.device_model,pageKey:G.is_first_canvas_open?"":W}):oe=R({accessToken:G.access_token,view_mode:G.device_model}):oe=R({accessToken:G.access_token,view_mode:G.device_model,pageKey:G.is_first_canvas_open?"":W});return Y(oe,c==null?void 0:c.name,G.link_name||"",G.password)},D=(c,G)=>G&&(G==null?void 0:G.otype)!=="personal"?P.t.InitialOrg(G).limitationSdk.prototypeLimit.pLimitation.max_project_share_count:c?P.t.InitialUser(c).limitationSdk.prototypeLimit.pLimitation.max_project_share_count:1},72907:(Ne,de,n)=>{"use strict";n.d(de,{$r:()=>P,AG:()=>k,FY:()=>d,K7:()=>T,ai:()=>X,m0:()=>H});var s=n(46795),p=n(33386),M=n(39719);const d=async(j,R)=>{if((0,p.p)("[alertAsyncBlocked]",j,{url:j.url,status:j.status}),j.status===403||/403/.test(j.message)){var ae;(ae=MB)==null||(ae=ae.messageBucket)==null||ae.send("mobileLoadProjectError",{errMsg:I18N.dPages.cant_edit_desc}),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(()=>R?R():MB.global.onBackButtonClick())}else if(j.status===401||/401/.test(j.message))T(),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>R?R():k());else{var Y;const pe=String(j.status||j.message||"UNKNOWN").replace(/\s/g,"").slice(0,16);(Y=MB)==null||(Y=Y.messageBucket)==null||Y.send("mobileLoadProjectError",{errMsg:window.I18N.dModule.unknown_error.replace(/%s/i,pe)}),await MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,pe),isHTML:!0})}},k=async()=>{try{await(0,s.DE)("/api/web/v3/initial"),location.reload()}catch(j){const R=location.origin+"/signin?next="+location.pathname;location.href=R}},X=j=>{j.status===404&&j.error_type==="MT_NOT_FOUND"&&MB.notice({text:I18N.dModals.template_no_available,type:"error"})},H=async(j,R)=>{j.status===403||/403/.test(j.message)?R():(j.status===401||/401/.test(j.message))&&await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>k())},T=()=>{window.top.postMessage(JSON.stringify({sharingMessage:"sharing:loginInvalid"}),"*")},P=function(j){let{onClick:R}=j===void 0?{}:j;R&&!ENV.IS_WONDER_SHARE?MB.notice({text:window.I18N.dModule.network_api_error_1,CustomChildComponent:(0,M.DV)({onClick:R}),type:"error",duration:5e3}):MB.notice({text:window.I18N.dModule.network_api_error,type:"error"})}},42226:(Ne,de,n)=>{"use strict";n.d(de,{JQ:()=>ae,kZ:()=>U,tg:()=>$,zW:()=>Y});var s=n(76713),p=n.n(s),M=n(35736),d=n.n(M),k=n(54466),X=n.n(k);if(n.j!=15)var H=n(29601);function T(_){return _<10?"0"+_:_}function P(_,C,y){const x=new Date(_),g=x.getFullYear(),v=T(x.getMonth()+1),b=T(x.getDate()),N=T(x.getHours()),D=T(x.getMinutes());return C==="time"?N+":"+D:C==="datetime"?""+v+y+b+" "+N+":"+D:""+g+y+v+y+b+" "+N+":"+D}const j=n.j!=15?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"]:null;function R(_,C){const y=new Date(_),x=y.getFullYear(),g=j[y.getMonth()],v=T(y.getDate()),b=T(y.getHours()),N=T(y.getMinutes());return C==="time"?b+":"+N:C==="datetime"?g+" "+v+" "+b+":"+N:g+" "+v+", "+x+" "+b+":"+N}function ae(_,C,y){if(C===void 0&&(C="datetime"),y===void 0&&(y="."),!_)return"";let x=_;typeof _!="number"&&(x=parseInt(_,10)),x.length===10&&(x=x*1e3);let g="";const v=(0,H.w)();return v==="zh-CN"?g=P(x,C,y):(v==="en-US"||v==="en")&&(g=R(x,C,y)),g}function Y(_){const y=pe()-_;let x="";if(y<=3*1e3)x=I18N.Common.just_now||"\u521A\u521A";else if(y>3*1e3&&y<60*1e3)x=Math.floor(y/1e3)+I18N.Common.num_seconds_ago||"\u79D2\u524D";else if(y>=60*1e3&&y<60*60*1e3)x=Math.floor(y/(60*1e3))+I18N.Common.num_minutes_ago||"\u5206\u949F\u524D";else{x=ae(_,"full");const g=new Date(new Date().setHours(0,0,0,0)).getTime(),v=new Date(new Date().getFullYear(),0,1).getTime();_>v&&(x=ae(_,"datetime")),_>g&&(x=ae(_,"time"))}return x}function pe(){return new Date().getTime()}const U=_=>{p().locale(_==="zh-CN"?"zh-cn":_),p().extend(d()),p().extend(X())},$=()=>p()().isBefore("2024-10-06"),V=_=>new Promise(C=>setTimeout(C,_))},98794:(Ne,de,n)=>{"use strict";n.d(de,{qk:()=>$,I2:()=>Y,ZI:()=>pe});const s={set:function(V,_,C,y){y===void 0&&(y="/");let x="";if(x+=V+"="+encodeURIComponent(_),y&&(x+=";path="+y),C){const g=new Date;g&&(g.setTime(g.getTime()+C*1e3),x+=";expires="+g.toUTCString())}document.cookie=x},get:function(V){const _=document.cookie.split(";");let C="";for(let y=0;y<_.length;y++){const x=_[y].indexOf(V);if(x!==-1){C=_[y].substring(x+V.length+1,_[y].length);break}}return C}},p=function(V,_){if(V!=="visit")return;const C="visit_id",y=60*24*3600;return s.set(C,_,y,"/"),_},M=function(){const V=s.get("visit_id");if(V&&V!="")return V;const _=new Date,C=_.getFullYear().toString().substr(2,2),y=_.getMonth()+1,x=_.getDate(),g=_.getHours(),v=_.getMinutes(),b=_.getSeconds(),N=_.getMilliseconds();let D=Math.round(Math.random()*Math.random()*1e4).toString();const c=D.length;c===1?D=D+"000":c===2?D=D+"00":c===3&&(D=D+"0");let G="2_"+C;return G+=y<10?"0"+y:y,G+=x<10?"0"+x:x,G+=g<10?"0"+g:g,G+=v<10?"0"+v:v,G+=b<10?"0"+b:b,N<10?G+="00"+N:N<100?G+="0"+N:G+=N,G+="_"+D,p("visit",G),G};var d=function(V){return V.WWW="www",V.WWW_TEST="www-test",V.OVERSEA="oversea",V.OVERSEA_TEST="oversea-test",V}(d||{});const k={www:"https://sc.bosyun.cn","www-test":"https://sc.bosyun.cn",oversea:"https://sc.bosyun.net","oversea-test":"https://sc.bosyun.net"},X="MD_",H="modao",T=()=>{let V=d.WWW;return/^([a-z0-9]+\.)*mockitt\.com$/.test(location.host)&&(V=d.OVERSEA),V},P=()=>{const V=window.sensorsDataAnalytic201505;if(!V)return;const _=T();V.init({name:"sensors",server_url:k[_]+"/sa.gif?project=production",is_track_single_page:!1,use_client_time:!0,show_log:!1,send_type:"beacon",heatmap:{clickmap:"not_collect",scroll_notice_map:"not_collect"}}),V.identify(M(),!0),V.registerPage({product:H}),window.sensors=V},j=function(V){var _;if(window.sensors){V=""+X+V;for(var C=arguments.length,y=new Array(C>1?C-1:0),x=1;x<C;x++)y[x-1]=arguments[x];(_=window.sensors)==null||_.track(V,...y)}},R=function(){return window.sensors&&window.sensors.setOnceProfile(...arguments)},ae=function(){return window.sensors&&window.sensors.setProfile(...arguments)},Y=ENV.NO_TRACK?()=>{}:P,pe=ENV.NO_TRACK?()=>{}:j,U=ENV.NO_TRACK?()=>{}:R,$=ENV.IS_WONDER_SHARE?V=>{if(!window.gtag)return console.error("gtag is not a function");window.gtag("config","UA-4839360-64",{user_id:V,transport_type:"beacon"})}:()=>{}},36114:(Ne,de,n)=>{"use strict";n.d(de,{U:()=>H});var s=n(98794),p=n(27374),M=n(97788),d=n(98195);const k={[p.SR.PageV9]:"\u751F\u6210\u539F\u578B\u9875\u9762",[p.SR.Component]:"\u751F\u6210\u7EC4\u4EF6",[p.SR.Flow]:"\u751F\u6210\u6D41\u7A0B\u56FE",[p.SR.Mind]:"\u751F\u6210\u601D\u7EF4\u5BFC\u56FE",[p.SR.Table]:"\u751F\u6210\u8868\u683C",[p.SR.Chart]:"\u751F\u6210\u56FE\u8868",[p.SR.Semantic]:"AI\u6307\u4EE4",[p.SR.Chat]:"AI\u5BF9\u8BDD",[p.SR.AutoFill]:"\u667A\u80FD\u586B\u5145"},X={[d.lS.Directory]:"\u76EE\u5F55\u9762\u677F",[d.lS.Builtin]:"\u7EC4\u4EF6\u9762\u677F",[d.lS.Icon]:"\u56FE\u6807\u9762\u677F",[d.lS.Page]:"\u9875\u9762\u9762\u677F",[d.lS.Asset]:"\u56FE\u7247\u9762\u677F",[d.lS.Template]:"\u6BCD\u7248\u9762\u677F",[d.lS.AI]:"AI\u9762\u677F"};let H;(function(T){const P=T.AIOpenSourceTrack=g=>{const v=k[g];v&&(0,s.ZI)("proto_ai_entrance",{ai_func_name:v})},j=T.AIUseTrack=(g,v)=>{const b=k[g];!b||!v||(0,s.ZI)("proto_ai_use",{ai_func:b,ai_input:v})},R=T.addShapeToCanvasTrackSourceMap={quickCreate:"\u5FEB\u6377\u952E",topToolbar:"\u9876\u90E8\u64CD\u4F5C\u680F"},ae=T.addShapeToCanvasTrack=(g,v)=>{g&&v&&(0,s.ZI)("proto_shape_add",{name:g,source:v})},Y=T.addDrawIOToCanvasTrack=g=>{g&&(0,s.ZI)("proto_draw_add",{type:g})},pe=T.addAnimationTrack=g=>{g&&I18N.dConst.ani[g]&&(0,s.ZI)("proto_animation_add",{type:I18N.dConst.ani[g]})},U=T.updateInteractionTrack=g=>{var v;const{type:b,interactionTrigger:N,interactionType:D,value:c=""}=g;if(!N||!D)return;const G=(0,M.vc)(N);if(!G)return;const oe=(v=(0,M.gu)().find(f=>f.value===D))==null?void 0:v.label;oe&&(0,s.ZI)("proto_interaction_set",{type:b,trigger:G,action:oe,value:c})},$=T.searchResultTrack=(g,v,b)=>{const N=X[v];!g||!N||(0,s.ZI)("proto_search_result",{keyword:g,source:N,count:b})},V=T.watermarkExposureTrack=g=>{if(!g)return;const v=!!MB.currentOrg;(0,s.ZI)("proto_watermark_show",{watermark_type:g,workspace_type:v?"org":"solo"})},_=T.protoEditorLoadSuccessTrack=g=>{g&&(0,s.ZI)("proto_load_success",{uid:g})},C=T.protoEditorShareTrack=(g,v)=>{g&&(0,s.ZI)("proto_share",{uid:g,source:v})},y=T.protoEditorPresentTrack=(g,v)=>{g&&(0,s.ZI)("proto_present",{uid:g,source:v})},x=T.protoDownloadTrack=(g,v,b)=>{!g||!v||!b||(0,s.ZI)("proto_download",{uid:g,type:v,source:b})}})(H||(H={}))},47755:(Ne,de,n)=>{"use strict";n.d(de,{_:()=>s});const s=M=>encodeURIComponent(JSON.stringify(M)),p=M=>JSON.parse(decodeURIComponent(M))},67234:(Ne,de,n)=>{"use strict";n.d(de,{p:()=>R,A:()=>pe});var s=n(74059),p=n(51044),M=n(66748),d=n.n(M),k=n(98236),X=n.n(k),H=n(7290),T=n(86634),P=n.n(T),j=n(21676);const R="checkbox-has-box",ae=j.Ay.label.withConfig({displayName:"styles__StyledCheck",componentId:"sc-gd8gcf-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:2px;transition:all 0.2s ease-in-out;background-color:",";flex-shrink:0;.icon{position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#fff;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.readonly,&.is-disabled{cursor:default;.Check-state{background:",";border:1px solid ",";.icon{color:",";}}}&.is-disabled{cursor:not-allowed;}&.","{input,.Check-state{margin:6px;transition:none;}.Check-label{margin-left:4px;}}"],U=>U.theme.color_text_L2,U=>U.theme.color_text_disabled01,U=>U.theme.color_bg_white,U=>U.theme.color_text_L2,U=>U.theme.color_proto,U=>U.theme.color_proto,U=>U.theme.color_btn_secondary_active,U=>U.theme.color_btn_secondary_active,U=>U.theme.color_text_disabled01,R);var Y=n(57464);class pe extends p.PureComponent{constructor(){super(...arguments),(0,s.A)(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),(0,s.A)(this,"onToggle",$=>{const{name:V,value:_,label:C,onChange:y,onToggle:x,isDisabled:g,readOnly:v,attr:b}=this.props,{isChecked:N}=this.state,D=!g&&!v,c=D?N==="mixed"?!0:!N:N;this.setState({isChecked:c}),x(c,V,_||C,$),y(c,b,$)})}static getDerivedStateFromProps($,V){let{prevProps:_}=V;return X()(_,$)?null:{prevProps:$,isChecked:$.isChecked}}render(){const{className:$,label:V,name:_,isDisabled:C,readOnly:y}=this.props,{isChecked:x}=this.state,g=P()($,{"is-checked":!!x,"is-disabled":C,readonly:y});return(0,Y.jsxs)(ae,{className:g,children:[(0,Y.jsx)("input",{type:"checkbox",defaultChecked:!!x,disabled:C,name:_,onChange:this.onToggle}),(0,Y.jsx)("span",{className:"Check-state",children:(0,Y.jsx)(H.C,{name:x==="mixed"?"new_replace/box_check_mixed":"new_replace/box_check"})}),V&&(0,Y.jsx)("span",{className:"Check-label",children:V})]})}}(0,s.A)(pe,"propTypes",{isChecked:d().bool||"mixed",isDisabled:d().bool,readOnly:d().bool,onChange:d().func.isRequired,onToggle:d().func.isRequired,label:d().any,name:d().string,attr:d().string,value:d().any,className:d().string}),(0,s.A)(pe,"defaultProps",{isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null})},80582:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>T});var s=n(74059),p=n(51044),M=n(21183),d=n(66748),k=n.n(d),X=n(57464);class H extends p.PureComponent{constructor(j){super(j),(0,s.A)(this,"freshCanvas",()=>{const R=this.canvasWrapperRef.current,{height:ae,width:Y,text:pe,foreground:U,background:$}=this.props,V=(0,M.j)({height:ae,width:Y,text:pe,foreground:U,background:$});R.hasChildNodes()?R.replaceChild(V,R.firstChild):R.appendChild(V)}),this.canvasWrapperRef=(0,p.createRef)()}componentDidMount(){this.freshCanvas()}componentDidUpdate(){this.freshCanvas()}render(){const{className:j}=this.props;return(0,X.jsx)("div",{className:j,ref:this.canvasWrapperRef})}}H.propTypes={width:k().number,height:k().number,text:k().string.isRequired,foreground:k().string,background:k().string,className:k().string},H.defaultProps={width:150,height:150};const T=H},29739:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>d});var s=n(46479),p=n(21676);const d=(0,p.Ay)(s.ft).withConfig({displayName:"ThemeLoading",componentId:"sc-1f7bkn3-0"})(["svg g g:first-child g path:last-child{stroke:",";}svg g g:last-child g path:last-child{stroke:",";}"],k=>k.theme.color_btn_secondary_active,k=>k.theme.color_text_disabled01)},11645:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>H});var s=n(51044),p=n(29739),M=n(21676);const d=M.Ay.div.withConfig({displayName:"styles__StyledSharingLoading",componentId:"sc-iidm8l-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;.loading{width:50px;height:50px;}"]);var k=n(57464);const H=(0,s.memo)(()=>(0,k.jsx)(d,{className:"sharing-loading",children:(0,k.jsx)(p.A,{className:"loading"})}))},13005:()=>{"use strict";const Ne={},de={},n={},s={}},33520:(Ne,de,n)=>{"use strict";n.d(de,{l:()=>M,r:()=>p});var s=n(21676);const p=(0,s.DU)(["::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar{width:4px;height:4px;border-radius:4px;}::-webkit-scrollbar-thumb{background-color:",";border-radius:4px;&:hover{background-color:",";}}::-webkit-scrollbar-corner{background-color:transparent;}.widget.panel{::-webkit-scrollbar-thumb{background-color:#d2d2d8;&:hover{background-color:",";}}}"],d=>d.theme.color_bg_border_02,d=>d.theme.color_background_split_hover,d=>d.theme.color_background_split_hover),M=(0,s.DU)([".ModalPortal,.CoreModalPortal,.OverlayPortal{min-width:initial !important;}"])},57716:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>V});var s=n(35524),p=n(54909);const M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC",d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAAGzCI4dAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAACAAAAACVhHtSAAAAVklEQVQYGYWOMQ6AMAwD04ot7wJWyv+/kblgpIsqZcBDGtu1W9uPc9o17tk0IsKaJHe3rpGKvZAgbCxyhS+jBaOLrCiRciM7iNEFLwkMznwDge/BfxsegvIceOfO91wAAAAASUVORK5CYII=",k=Object.entries(p.f).reduce((_,C)=>{const y=C[0];return{..._,[y]:[p.f[y].value_light,p.f[y].value_dark||p.f[y].value_light]}},{}),X=Object.entries(p.$).reduce((_,C)=>{const y=C[0];return{..._,[y]:[p.$[y].value_light,p.$[y].value_dark||p.$[y].value_light]}},{}),H=Object.entries(s.af).reduce((_,C)=>{var y;const x=C[0];return{..._,[x]:[s.af[x].value,((y=s.qY[x])==null?void 0:y.value)||s.af[x].value]}},{}),T=_=>{let C;const[y,x,g]=_,v=g!=null?g:y;return x==="light"?C=s.af[v].value:C=s.qY[v].value,{[y]:[C,C]}},j=[["color_tips_black","dark","color_ruler_shadow_color"]].reduce((C,y)=>{const x=T(y);return{...C,...x}},{}),U={...H,...j,...{loading_styles_bg:["linear-gradient(130deg, #f2f2f2 25%, #e6e6e6 37%, #f2f2f2 63%)","linear-gradient(118.3deg, #474848 1.71%, #363738 100%)"],float_nav_box_shadow:["0 4px 8px 0 rgba(39, 54, 78, 0.08), 0 4px 12px 0 rgba(39, 54, 78, 0.06)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],menu_content_shadow:["0 6px 16px -8px rgba(0,0,0,0.08), 0 9px 28px 0 rgba(0,0,0,0.05)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],shadow_1:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 6px 0 rgba(0,0,0,0.30), 0 10px 30px 0 rgba(0,0,0,0.15), inset 0 1px 0 0 #252626"],shadow_2:["0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],shadow_3:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],shadow_4:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 11px 15 px rgba(0, 0, 0, 0.2), 0 9 px 46px 0 rgba(0, 0, 0, 0.12)"],shadow_5:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2)"],shadow_hover:["0 2px 4px rgba(0, 0, 0, 0.14)","0 2px 4px rgba(0, 0, 0, 0.46), 0 8px 16px rgba(0, 0, 0, 0.40)"],miss_font_box_shadow:["0 3px 10px rgba(0, 0, 0, 0.1)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],export_bar_box_shadow:["0 -4px 8px rgba(219, 219, 219, 0.4)","0 -4px 8px rgba(0, 0, 0, 0.35)"],sidebar_box_shadow:["0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)",""],interation_active_box_shadow:["0 0 4px 0 rgba(34, 162, 237, 0.66)"," 0 0 4px 0 rgba(41,141,248,0.50)"],modal_bg1:["linear-gradient(to bottom,#fafafa,#f5f5f5)","#4f5052"],modal_shadow:["0 2px 10px 0 rgba(0, 0, 0, 0.1), 0 12px 40px 0 rgba(0, 0, 0, 0.1)",""],comment_layer_box_shadow:["0 -2px 10px rgba(26, 58, 109, 0.12)","0 -24px 38px 3px rgba(0,0,0,0.14), 0 -9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],workspace_dropdown_menu_shadow:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],drag_sort_box_shadow:["0 1px 4px 0 rgba(0, 0, 0, 0.15)","0px 2px 4px rgba(0, 0, 0, 0.15)"],annotate_btn_shadow:["0 2px 6px rgba(39, 54, 78, 0.08)"," 0 6px 10px rgba(0, 0, 0, 0.22), 0px 13px 30px rgba(0, 0, 0, 0.146744)"],color_var_bind_point:["#DEDFE0","#4B4B4B"],bg_base64:[M,d],img_wrap_border_width:[1,2],fontPosition:["73px",0],disabled_opacity:[1,.5],footer_disabled_opacity:[1,.6]},...k,...X,...{color_literal_number:["#015CC5","#218BFF"],color_literal_string:["#002155","#80CCFF"],color_literal_boolean:["#8250DF","#A475F9"],color_literal_operator:["#F23DD1","#E85AAD"]},...{expr_editor_string:["#002155","#80CCFF"],expr_editor_number:["#015CC5","#218BFF"],expr_editor_boolean:["#8250DF","#A475F9"],expr_editor_func:["#23863A","#2DA44E"],expr_editor_builtinVar:["#8250DF","#A475F9"]}},$=(_,C)=>{const y={};return Object.entries(_).forEach(x=>{let[g,v]=x;Array.isArray(v)?y[g]=v[C]:typeof v=="object"?y[g]=$(v,C):y[g]=v}),y},V={light:$(U,0),dark:$(U,1)}},48590:(Ne,de,n)=>{"use strict";n.d(de,{Aw:()=>d,L9:()=>p,ZJ:()=>P,eP:()=>H,n9:()=>X,nw:()=>T});var s=n(21676);const p=(0,s.AH)(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),M=(0,s.AH)(['position:relative;pointer-events:none;&::after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;cursor:not-allowed;pointer-events:auto;}']),d=(0,s.AH)(["position:relative;height:32px;padding-left:14px;padding-right:4px;display:flex;align-items:center;border:1px solid transparent;color:",";font-size:12px;cursor:pointer;.expander{width:12px;margin-left:-12px;color:",";}.editable-span,.editable-name{margin-right:14px;line-height:24px;border-radius:2px;&.is-editing{border-bottom-color:transparent;}}.actions{display:none;height:100%;padding-left:6px;.Dropdown > button{display:flex;padding:8px 10px 8px 0;}.action{margin-right:6px;font-size:12px;color:",";&:hover{color:",";}}&.is-active{display:flex;align-items:center;color:",";}}&:hover{.actions{display:flex;align-items:center;}}&:hover,&.hover{color:",";background:",";}&.active,&.is-active{color:",";background:",";}"],j=>j.theme.color_text_L2,j=>j.theme.color_text_disabled01,j=>j.theme.color_text_L2,j=>j.theme.color_text_L2,j=>j.theme.color_text_L1,j=>j.theme.color_text_L1,j=>j.theme.color_btn_secondary_hover,j=>j.theme.color_text_L1,j=>j.theme.color_btn_secondary_active),k=s.Ay.div.withConfig({displayName:"variables__StyledCustomTooltipInner",componentId:"sc-1k65wxr-0"})(["display:flex;align-items:center;height:22px;margin:-3px -7px;.tipsLeft{padding:0 8px;}.tipsRight{width:22px;line-height:22px;background-color:",";border-radius:0 2px 2px 0;color:#f2f4f5;}"],j=>j.theme.color_primary_brand01),X=(0,s.AH)(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;color:",";cursor:pointer;.fore{fill:",";}&:hover{color:",";.fore{fill:",";}}.svg-icon{width:24px;height:24px;}"],j=>j.theme.color_text_L2,j=>j.theme.color_text_L3,j=>j.theme.color_proto,j=>j.theme.color_proto),H=(0,s.AH)(["ul{li{.rn-list-item{border-radius:6px;&.context-menu-select{border-radius:6px;}}}li.active,li.select,li.dummy-select,li:hover{&:has(> ul > li.dummy-select){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}&:has(+ li.active,+ li.select,+li:hover){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}}ul{li.dummy-select{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}&:has(+ li.dummy-select){> .rn-list-item{border-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-radius:0;}}}}}&:last-child,&:first-child{&:has(> ul){> .rn-list-item{border-radius:0;}}}}}}li.active,li.select,li.dummy-select,li:hover{& + li{&.active,&.select,&.dummy-select,&:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li{> .rn-list-item:hover{&:has(+ ul > li.active:first-child,+ ul > li.select:first-child,+ ul > li.hover:first-child,+ ul > li:first-child:hover){border-bottom-left-radius:0;border-bottom-right-radius:0;}& + ul > li.active:first-child,& + ul > li.select:first-child,& + ul > li.hover:first-child,& + ul > li:first-child:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li:has(+ li:hover,+ li.select,+ li.active){ul > li:last-child{&.active,&.select,&:hover{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}li:has(ul > li:last-child.active,ul > li:last-child.select,ul > li:last-child:hover){& + li:hover,& + li.select,& + li.active{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}"]),T=(0,s.AH)(["ul{li{.rn-list-item{border-radius:6px;&.context-menu-select{border-radius:6px;}}}li.select,li.dummy-select,li:hover{&:has(> ul > li.dummy-select){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}&:has(+ li.select,+li:hover){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}}ul{li.dummy-select{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}&:has(+ li.dummy-select){> .rn-list-item{border-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-radius:0;}}}}}&:last-child,&:first-child{&:has(> ul){> .rn-list-item{border-radius:0;}}}}}}li.select,li.dummy-select,li:hover{& + li{&.select,&.dummy-select,&:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li{> .rn-list-item:hover{&:has(+ ul > li.select:first-child,+ ul > li.hover:first-child,+ ul > li:first-child:hover){border-bottom-left-radius:0;border-bottom-right-radius:0;}& + ul > li.select:first-child,& + ul > li.hover:first-child,& + ul > li:first-child:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li:has(+ li:hover,+ li.select){ul > li:last-child{&.select,&:hover{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}li:has(ul > li:last-child.select,ul > li:last-child:hover){& + li:hover,& + li.select{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}"]),P=(0,s.AH)(["ul{padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";li.MenuItem{a{height:28px;border-radius:4px;background:",";color:",";svg:not(.pure-svg-icon) path{fill:",";}.right-arrow svg > path{fill:",";}.shortfont kbd{color:",";}}&:not(.disabled).active{a{background:",";}}&.disabled{a{color:",";svg path{fill:",";}.shortfont kbd{color:",";}}}}}"],j=>j.theme.color_bg_border_01,j=>j.theme.color_text_L1,j=>j.theme.color_bg_white,j=>j.theme.shadow_m,j=>j.theme.color_bg_white,j=>j.theme.color_text_L1,j=>j.theme.color_text_L1,j=>j.theme.color_text_L3,j=>j.theme.color_text_L3,j=>j.theme.color_btn_secondary_hover,j=>j.theme.color_text_disabled01,j=>j.theme.color_text_disabled01,j=>j.theme.color_text_disabled01)},44057:(Ne,de,n)=>{"use strict";n.d(de,{m:()=>Fe,cG:()=>tt,Dr:()=>Ve,aM:()=>Ee,Ay:()=>we});var s=n(66748),p=n.n(s),M=n(51044),d=n(60185),k=n(21676),X=n(86634),H=n.n(X),T=n(90503);class P{constructor(J,Z){J===void 0&&(J=0),Z===void 0&&(Z=0),this.x=J,this.y=Z}inside(J){const{left:Z,right:me,top:Ce,bottom:ke}=J;return this.x>=Z&&this.x<=me&&this.y>=Ce&&this.y<=ke}}const j=(0,M.createContext)(""),R=Oe=>{if(!Oe)return;const J=Oe.getBoundingClientRect(),Z=Oe.classList.contains("sub-menu"),me=1/.8,Ce=1/(.8*.9);if(Z){const Ye=document.getElementById("root-menu").getBoundingClientRect();Ye.top+(J.top-Ye.top)*me+J.height*Ce>window.innerHeight-28&&Oe.classList.add("top"),Ye.left+(J.left-Ye.left)*me+J.width*Ce>window.innerWidth&&Oe.classList.add("left");return}if(J.left+J.width*me>window.innerWidth-28&&Oe.classList.add("left"),J.height>window.innerHeight){Oe.style.height=window.innerHeight+"px",Oe.style.overflow="auto",Oe.style.overflowX="hidden",Oe.style.marginTop=-J.top+"px";return}J.top+J.height<window.innerHeight||(Oe.style.marginTop=window.innerHeight-(J.top+J.height)+"px")},ae=function(Oe,J,Z,me,Ce,ke){let{subMenuLeftOffset:Ye,subMenuTopOffset:Me}=Ce;if(ke===void 0&&(ke=!1),!Oe||!J)return;const Ie=J.getBoundingClientRect(),Je=J.getBoundingClientRect(),st=1/.9,{left:yt,top:xt}=Z;Ie.top+Ie.height*st>window.innerHeight-28?Ie.top-Ie.height*st>0?(Oe.style.bottom="-4px",Oe.style.top="unset"):Oe.style.marginTop=window.innerHeight-28-(Ie.top+Ie.height*st)+"px":Oe.style.top=Ie.top-xt-11+"px",Ie.left+Ie.width*st>window.innerWidth?(Oe.style.right=Ie.left+"px",Oe.style.left="unset"):Oe.style.left=Ie.right-yt-1+12*ke+"px",me==="left"&&(Oe.style.left=-2*Ie.width-12-22*ke+"px"),Ye&&(Oe.style.left=parseInt(Oe.style.left)+Ye+4*ke+"px"),Me&&(Oe.style.top=parseInt(Oe.style.top)+Me+"px"),Oe.style.maxHeight=window.innerHeight-Je.top+"px"},Y=function(Oe,J,Z,me,Ce,ke,Ye){let{subMenuLeftOffset:Me,subMenuTopOffset:Ie}=Ce;if(ke===void 0&&(ke=!1),!Oe||!J)return;const Je=Ye.getBoundingClientRect(),st=J.getBoundingClientRect(),yt=J.getBoundingClientRect(),{left:xt,top:bt}=Z,{top:wt}=Je;Oe.style.top=st.top-wt-11+"px",Oe.style.left=st.right-xt-1+12*ke+"px",me==="left"&&(Oe.style.left=-2*st.width-12-22*ke+"px"),Me&&(Oe.style.left=parseInt(Oe.style.left)+Me+4*ke+"px"),Oe.style.maxHeight=window.innerHeight-yt.top+"px"},pe=(Oe,J)=>{let{x:Z,y:me}=Oe,Ce=!1;for(let ke=0,Ye=J.length-1;ke<J.length;Ye=ke++){let{x:Me,y:Ie}=J[ke],{x:Je,y:st}=J[Ye];Ie>me!=st>me&&Z<(Je-Me)*(me-Ie)/(st-Ie)+Me&&(Ce=!Ce)}return Ce};var U=n(54909);const $=(0,k.AH)(["background:#333;box-shadow:0 2px 8px rgba(0,0,0,0.3);border-radius:4px;color:#fff;border:1px solid #454647;"]),V=k.Ay.div.withConfig({displayName:"styles__StyledMask",componentId:"sc-h83js-0"})(["position:fixed;top:0;left:0;right:0;width:100vw;height:100vh;z-index:199;"]),_=k.Ay.div.withConfig({displayName:"styles__StyledContextMenu",componentId:"sc-h83js-1"})(["position:fixed;z-index:200;&.size-small > ul{min-width:120px;}ul{list-style:none;}& > ul{position:absolute;top:0;left:0;padding:8px 0;min-width:200px;margin:0;",";&.top{top:initial !important;bottom:-8px;}&.left{left:initial;right:100%;}&.top.left{}&::-webkit-scrollbar{display:block;width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.25);border-radius:4px;&:hover{background-color:rgba(255,255,255,0.30);}}}"],$),C=k.Ay.ul.withConfig({displayName:"styles__StyledSubMenu",componentId:"sc-h83js-2"})(["position:absolute;min-width:200px;max-height:500px;padding:4px 0;",";opacity:0;pointer-events:none;overflow-x:hidden;margin:0;&:lang(ja){min-width:260px;}&.is-show{opacity:1;pointer-events:auto;}&.inner-sub{overflow-x:unset;}&.is-normal{li.MenuItem{& > a{padding-left:32px;}&.hasIcon{> a{padding-left:15px;}}}}&.is-airy{li.MenuItem{& > a{padding-left:29px;}&.hasIcon{> a{padding-left:12px;}}}}"],$),y=k.Ay.li.withConfig({displayName:"styles__StyledMenuItem",componentId:"sc-h83js-3"})(["position:relative;a{height:28px;padding-left:16px;display:flex;align-items:center;color:#fff;padding-right:10px;& > span{margin-right:0;display:flex;justifyContent:flex-end;flex:1;alignItems:center;.text{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;line-height:20px;}}& > span{white-space:nowrap;margin-right:16px;.invisible{width:20px;height:20px;display:inline-block;color:",";margin-top:-3px;}}.selected-icon{width:8px;margin-right:9px;}.right-arrow{margin-left:auto;margin-right:-4px;display:flex;align-items:center;}img{width:14px;height:14px;opacity:0.8;margin-right:7px;}.fa-caret-right,.shortcut{margin-left:auto;width:12px;text-align:center;margin-right:-2px;}.shortcut{display:flex;align-items:center;color:#999;.mac{font-size:16px;margin-right:2px;}}.shortfont{display:flex;margin-left:auto;kbd{display:inline-block;text-align:center;min-width:12px;color:rgba(255,255,255,0.7);font-family:Inter;&.key-cmd{width:13px;text-align:right;}&:first-child{margin-left:0;}&:last-child{margin-right:0;}}}}&.hasDivider{a{margin-bottom:4px;}}&:not(.disabled).active{a{background:#666;}}&.disabled{*{cursor:not-allowed;}a{color:rgba(255,255,255,0.22);.right-arrow svg > path{fill:rgba(255,255,255,0.22);}.shortfont kbd{color:rgba(255,255,255,0.22);}}}"],U.f.color_text_L2.value_dark),x=k.Ay.li.withConfig({displayName:"styles__StyledMenuItemFont",componentId:"sc-h83js-4"})(["position:relative;a{height:28px;display:flex;align-items:center;color:#fff;& > span{margin-right:0;display:flex;justifyContent:flex-end;flex:1;alignItems:center;&.text{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;line-height:20px;}&.is-svg{height:14px;}}& > span{white-space:nowrap;margin-left:20px;}.selected-icon{width:16px;position:absolute;}.right-arrow{margin-right:8px;display:flex;align-items:center;}img{width:14px;height:14px;opacity:0.8;margin-right:7px;}.fa-caret-right,.shortcut{margin-left:auto;width:12px;text-align:center;margin-right:-2px;}}&:not(.disabled).active{a{background:#666;}}"]);var g=n(57464);function v(Oe,J,Z){return(J=b(J))in Oe?Object.defineProperty(Oe,J,{value:Z,enumerable:!0,configurable:!0,writable:!0}):Oe[J]=Z,Oe}function b(Oe){var J=N(Oe,"string");return typeof J=="symbol"?J:J+""}function N(Oe,J){if(typeof Oe!="object"||!Oe)return Oe;var Z=Oe[Symbol.toPrimitive];if(Z!==void 0){var me=Z.call(Oe,J||"default");if(typeof me!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(Oe)}const D=(0,g.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)("path",{d:"M5.5 5.04031L5.5 10.9597C5.5 11.3789 5.98497 11.612 6.31235 11.3501L10.012 8.39043C10.2622 8.19027 10.2622 7.80973 10.012 7.60957L6.31235 4.64988C5.98497 4.38797 5.5 4.62106 5.5 5.04031Z",fill:"white",fillOpacity:"0.9"})}),c="M1016 416L1016 -1856L328 -1856L328 416ZM512 -320L832 -320L832 -64L512 -64ZM512 -704L576 -704L576 -512L768 -512L768 -640L704 -640L704 -576L640 -576L640 -704L832 -704L832 -448L512 -448ZM512 192L728 64L512 64L512 0L832 0L832 65L617 192L832 192L832 256L512 256ZM512 -1408L704 -1408L704 -1248L832 -1248L832 -1184L512 -1184ZM512 -1536L624 -1536L624 -1632L512 -1632L512 -1696L832 -1696L832 -1632L688 -1632L688 -1536L832 -1536L832 -1472L512 -1472ZM512 -960L640 -960L640 -1056L512 -1056L512 -1120L832 -1120L832 -1056L704 -1056L704 -896L512 -896ZM512 -832L768 -832L768 -992L832 -992L832 -768L512 -768ZM768 -128L768 -256L576 -256L576 -128ZM640 -1248L640 -1344L576 -1344L576 -1248Z",G="M800 -800L800 -1240L1240 -1240L1240 -800Z",W="M860 416L172 416L548 -1856L1236 -1856ZM478 -320L436 -64L756 -64L798 -320ZM542 -704L499 -448L819 -448L862 -704L670 -704L648 -576L712 -576L723 -640L787 -640L766 -512L574 -512L606 -704ZM393 192L383 256L703 256L713 192L498 192L734 65L745 0L425 0L414 64L630 64ZM658 -1408L621 -1184L941 -1184L952 -1248L824 -1248L850 -1408ZM679 -1536L669 -1472L989 -1472L999 -1536L855 -1536L871 -1632L1015 -1632L1026 -1696L706 -1696L695 -1632L807 -1632L791 -1536ZM584 -960L573 -896L765 -896L792 -1056L920 -1056L930 -1120L610 -1120L600 -1056L728 -1056L712 -960ZM563 -832L552 -768L872 -768L909 -992L845 -992L819 -832ZM702 -128L510 -128L531 -256L723 -256ZM760 -1248L696 -1248L711 -1344L775 -1344Z",oe="M1016 416L328 416L328 -1856L1016 -1856ZM512 -320L512 -64L832 -64L832 -320ZM512 -704L512 -448L832 -448L832 -704L640 -704L640 -576L704 -576L704 -640L768 -640L768 -512L576 -512L576 -704ZM512 192L512 256L832 256L832 192L617 192L832 65L832 0L512 0L512 64L728 64ZM512 -1408L512 -1184L832 -1184L832 -1248L704 -1248L704 -1408ZM512 -1536L512 -1472L832 -1472L832 -1536L688 -1536L688 -1632L832 -1632L832 -1696L512 -1696L512 -1632L624 -1632L624 -1536ZM512 -960L512 -896L704 -896L704 -1056L832 -1056L832 -1120L512 -1120L512 -1056L640 -1056L640 -960ZM512 -832L512 -768L832 -768L832 -992L768 -992L768 -832ZM768 -128L576 -128L576 -256L768 -256ZM640 -1248L576 -1248L576 -1344L640 -1344Z",f=3;let A=[],te=!1;const le=new Map,ie=Oe=>{A.push(Oe),A.length>f&&A.shift()},q=Oe=>{Oe.ctrlKey===!0&&Oe.preventDefault()};class we extends M.PureComponent{constructor(J){super(J),v(this,"setMenuRef",Z=>this.$menu=Z),v(this,"createContextMenuRef",Z=>this.$mountRoot=Z),v(this,"mousewheelHandle",Z=>{const me=Z.deltaX||Z.wheelDeltaX;if(!me||!this.$elem)return;const Ce=this.$elem.scrollLeft+this.$elem.offsetWidth===this.$elem.scrollWidth&&me>0,ke=this.$elem.scrollLeft===0&&me<0;(Ce||ke)&&Z.preventDefault()}),v(this,"handleClose",Z=>{const{onClose:me}=this.props;me&&me(Z)}),v(this,"handleCloseMouse",Z=>{Z.button===2&&this.handleClose(Z)}),v(this,"handleClickMenu",Z=>{const{alwaysOpen:me}=this.props;me||this.handleClose(Z)}),v(this,"handleUpdateState",Z=>this.setState({...Z})),this.$elem=document.createElement("div"),this.state={activePath:[],showSubMenu:!1}}componentDidMount(){document.body.appendChild(this.$elem),!this.props.style&&R(this.$menu),this.$elem&&this.$elem.addEventListener("mousewheel",this.mousewheelHandle),this.$elem&&this.$elem.addEventListener("wheel",q)}componentWillUnmount(){this.$elem&&this.$elem.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0}),this.$elem&&this.$elem.removeEventListener("wheel",q,{capture:!0}),document.body.removeChild(this.$elem),A=[],te=!1}preventDefault(J){J.preventDefault()}render(){const{position:J,children:Z,className:me,style:Ce={}}=this.props,{top:ke,left:Ye}=J,{activePath:Me,showSubMenu:Ie}=this.state;return(0,d.createPortal)((0,g.jsx)(V,{className:"context-menu-mask",onMouseDown:this.handleClose,onClick:this.handleClickMenu,children:(0,g.jsx)(_,{ref:this.createContextMenuRef,style:{top:ke+2,left:Ye+2,...Ce},className:me,onContextMenu:this.preventDefault,children:(0,g.jsx)("ul",{ref:this.setMenuRef,children:(0,g.jsx)(j.Provider,{value:{mountRoot:this.$mountRoot,contextMenuPosition:J,activePath:Me,showSubMenu:Ie,onUpdateState:this.handleUpdateState},children:Z})})})}),this.$elem)}}v(we,"propTypes",{className:p().string,position:p().object,children:p().oneOfType([p().element,p().array]),style:p().object,onClose:p().func,alwaysOpen:p().bool});class Fe extends M.PureComponent{constructor(J){super(J),v(this,"setMenuRef",Z=>this.$menu=Z),v(this,"createContextMenuRef",Z=>this.$mountRoot=Z),v(this,"mousewheelHandle",Z=>{const me=Z.deltaX||Z.wheelDeltaX;if(!me||!this.$elem)return;const Ce=this.$elem.scrollLeft+this.$elem.offsetWidth===this.$elem.scrollWidth&&me>0,ke=this.$elem.scrollLeft===0&&me<0;(Ce||ke)&&Z.preventDefault()}),v(this,"handleClose",Z=>{const{onClose:me}=this.props;me&&me(Z)}),v(this,"handleCloseMouse",Z=>{Z.button===2&&this.handleClose(Z)}),v(this,"handleClickMenu",Z=>{const{alwaysOpen:me}=this.props;me||this.handleClose(Z)}),v(this,"handleUpdateState",Z=>this.setState({...Z})),this.$elem=document.createElement("div"),this.state={activePath:[],showSubMenu:!1}}componentDidMount(){document.body.appendChild(this.$elem),this.$elem&&this.$elem.addEventListener("mousewheel",this.mousewheelHandle)}componentWillUnmount(){this.$elem&&this.$elem.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0}),document.body.removeChild(this.$elem),A=[],te=!1}preventDefault(J){J.preventDefault()}render(){const{position:J,children:Z,className:me,style:Ce={}}=this.props,{top:ke,left:Ye}=J,{activePath:Me,showSubMenu:Ie}=this.state;return(0,g.jsx)(_,{ref:this.createContextMenuRef,style:{top:ke+2,left:Ye+2,...Ce},className:me,onContextMenu:this.preventDefault,children:(0,g.jsx)("ul",{ref:this.setMenuRef,children:(0,g.jsx)(j.Provider,{value:{mountRoot:this.$mountRoot,contextMenuPosition:J,activePath:Me,showSubMenu:Ie,onUpdateState:this.handleUpdateState,containerRef:this.$elem,isEmbed:!0},children:Z})})})}}v(Fe,"propTypes",{className:p().string,position:p().object,children:p().oneOfType([p().element,p().array]),style:p().object,onClose:p().func,alwaysOpen:p().bool});class Ve extends M.PureComponent{constructor(){super(...arguments),v(this,"createMenuItemRef",J=>this.$menuItemRef=J),v(this,"createSubMenuRef",J=>this.$subMenuRef=J),v(this,"handleActiveItem",(J,Z)=>{const{children:me}=this.props;Z({activePath:J,showSubMenu:!!me})}),v(this,"handleMouseEnter",(J,Z,me)=>{const{onMouseEnter:Ce}=this.props;Ce&&Ce(J),te?setTimeout(()=>{if(this.$menuItemRef&&A.length>0){const ke=this.$menuItemRef.getBoundingClientRect();A.slice(-1)[0].inside(ke)&&this.handleActiveItem(Z,me)}},200):this.handleActiveItem(Z,me)}),v(this,"handleMouseLeave",async(J,Z,me,Ce)=>{const{onMouseLeave:ke}=this.props;if(ke&&ke(J),me&&this.$subMenuRef){const Ye=this.$subMenuRef.getBoundingClientRect();if(Ye&&A.length>0){const{left:Me,top:Ie,bottom:Je}=Ye,st=new P(Me,Ie),yt=new P(Me,Je),xt=[A[0],st,yt],bt=new P(J.clientX,J.clientY);if(pe(bt,xt)){te=!0;return}}}if(Z){Ce({activePath:Z.dataset.index.split(","),showSubMenu:!0}),te=!1;return}Ce({activePath:[],showSubMenu:!1}),te=!1}),v(this,"handleMouseMove",J=>{const Z=new P(J.clientX,J.clientY);ie(Z)}),v(this,"handleMouseDown",J=>J.stopPropagation()),v(this,"handleGetCanActiveSubMenu",(J,Z,me)=>{let Ce=!1;return Z&&(J&&Z.join("")===me.join("")||Z.slice(0,me.length).join("")===me.join(""))&&(Ce=!0),Ce}),v(this,"handleGetPath",J=>{const{dataIndex:Z,text:me}=this.props,Ce=Z!==void 0?Z:me;return J?J.dataset.index.split(",").concat(Ce):[Ce]}),v(this,"handleClick",J=>{const{disabled:Z,onClick:me,canClick:Ce,children:ke}=this.props;(Ce||!Z)&&me&&me(J),(ke||Z)&&J.stopPropagation()})}render(){const{icon:J,text:Z,children:me,disabled:Ce,hotKeyText:ke,className:Ye,dataType:Me,subMenuClassName:Ie,subMenuDirection:Je,subMenuLeftOffset:st,subMenuTopOffset:yt,isVisible:xt,isAiry:bt=!1}=this.props;return(0,g.jsx)(j.Consumer,{children:wt=>{const{contextMenuPosition:i,mountRoot:ue,activePath:ve,showSubMenu:Le,parentRef:Ge,onUpdateState:qe,isEmbed:ut=!1}=wt,It=this.handleGetPath(Ge),Ft=this.handleGetCanActiveSubMenu(Le,ve,It);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(y,{ref:this.createMenuItemRef,className:H()("MenuItem",{disabled:Ce,hasIcon:J},Ye,{active:Ft}),"data-type":Me,"data-index":It,onMouseEnter:Gt=>this.handleMouseEnter(Gt,It,qe),onMouseLeave:Gt=>this.handleMouseLeave(Gt,Ge,Le,qe),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,children:(0,g.jsxs)("a",{children:[J,(0,g.jsxs)("span",{children:[(0,g.jsx)("span",{className:"text",children:Z}),xt?(0,g.jsx)(T.A,{className:"invisible",name:"eyeinvisible"}):null]}),me&&(0,g.jsx)("div",{className:"right-arrow",children:D}),ke&&ke.length>0&&(0,g.jsx)("div",{className:"shortfont",children:ke.map((Gt,Zt)=>(0,g.jsx)("kbd",{children:Gt},Zt))})]})}),me&&Ft&&!Ce&&(0,d.createPortal)((0,g.jsx)(je,{parentRef:this.$menuItemRef,setRef:this.createSubMenuRef,contextMenuPosition:i,subMenuDirection:Je,subMenuLeftOffset:st,subMenuTopOffset:yt,className:Ie,mountRoot:ue,isEmbed:ut,isAiry:bt,children:(0,g.jsx)(j.Provider,{value:{parentRef:this.$menuItemRef,mountRoot:ue,contextMenuPosition:i,activePath:ve,showSubMenu:Le,onUpdateState:qe},children:me})}),ue)]})}})}}v(Ve,"propTypes",{icon:p().object,text:p().string.isRequired,className:p().string,disabled:p().bool,canClick:p().bool,children:p().oneOfType([p().element,p().array]),hotKeyText:p().array,onClick:p().func,onMouseEnter:p().func,onMouseLeave:p().func,dataType:p().number,dataIndex:p().oneOfType([p().number,p().string]),subMenuClassName:p().string,subMenuDirection:p().string,subMenuLeftOffset:p().number,subMenuTopOffset:p().number,isVisible:p().bool,isAiry:p().bool}),v(Ve,"defaultProps",{subMenuClassName:""});class Ee extends M.PureComponent{constructor(J){super(J),v(this,"createMenuItemRef",Me=>this.$menuItemRef=Me),v(this,"createSubMenuRef",Me=>this.$subMenuRef=Me),v(this,"spanRef",Me=>this.$spanRef=Me),v(this,"handleActiveItem",(Me,Ie)=>{const{children:Je}=this.props;Ie({activePath:Me,showSubMenu:!!Je})}),v(this,"handleMouseEnter",(Me,Ie,Je)=>{const{onMouseEnter:st}=this.props;st&&st(Me),te?setTimeout(()=>{if(this.$menuItemRef&&A.length>0){const yt=this.$menuItemRef.getBoundingClientRect();A.slice(-1)[0].inside(yt)&&this.handleActiveItem(Ie,Je)}},200):this.handleActiveItem(Ie,Je)}),v(this,"handleMouseLeave",async(Me,Ie,Je,st)=>{const{onMouseLeave:yt}=this.props;if(yt&&yt(Me),Je&&this.$subMenuRef){const xt=this.$subMenuRef.getBoundingClientRect();if(xt&&A.length>0){const{left:bt,top:wt,bottom:i}=xt,ue=new P(bt,wt),ve=new P(bt,i),Le=[A[0],ue,ve],Ge=new P(Me.clientX,Me.clientY);if(pe(Ge,Le)){te=!0;return}}}if(Ie){st({activePath:Ie.dataset.index.split(","),showSubMenu:!0}),te=!1;return}st({activePath:[],showSubMenu:!1}),te=!1}),v(this,"handleMouseMove",Me=>{const Ie=new P(Me.clientX,Me.clientY);ie(Ie)}),v(this,"handleMouseDown",Me=>Me.stopPropagation()),v(this,"handleGetCanActiveSubMenu",(Me,Ie,Je)=>{let st=!1;return Ie&&(Me&&Ie.join("")===Je.join("")||Ie.slice(0,Je.length).join("")===Je.join(""))&&(st=!0),st}),v(this,"handleGetPath",Me=>{const{dataIndex:Ie,text:Je}=this.props,st=Ie!==void 0?Ie:Je;return Me?Me.dataset.index.split(",").concat(st):[st]}),v(this,"handleClick",Me=>{const{disabled:Ie,onClick:Je,canClick:st,children:yt}=this.props;(st||!Ie)&&Je&&Je(Me),(yt||Ie)&&Me.stopPropagation()});const{text:Z,fontUrl:me,usePlainText:Ce}=this.props,ke="U="+me+"&T="+Z,Ye=le.get(ke);Ce?this.state={renderContent:J.text,contentType:"text"}:this.state={renderContent:(Ye==null?void 0:Ye.content)||J.text,contentType:(Ye==null?void 0:Ye.type)||"text"}}async componentDidMount(){const{text:J,fontUrl:Z,usePlainText:me}=this.props;if(me)return;const Ce="U="+Z+"&T="+J;if(!le.get(Ce)){if(!Z){le.set(Ce,{type:"text",content:J});return}try{const ke=await(await fetch("/flatkiq/fontsvg/sync.svg?"+Ce)).text();if(ke!==""){const Ye=[...new DOMParser().parseFromString(ke,"text/html").querySelectorAll("path")].map(Me=>Me.getAttribute("d"));if(Ye.find(Me=>Me===c||Me===G||Me===W||Me===oe)){le.set(Ce,{type:"text",content:J});return}Ye.filter(Boolean).length!==J.split("").filter(Me=>Me!==" ").length?le.set(Ce,{type:"text",content:J}):(le.set(Ce,{type:"svg",content:ke}),this.setState({renderContent:ke,contentType:"svg"}))}else le.set(Ce,{type:"text",content:J})}catch(ke){console.error(ke),le.set(Ce,{type:"text",content:J})}}}render(){const{icon:J,children:Z,disabled:me,className:Ce,dataType:ke,subMenuClassName:Ye,subMenuDirection:Me,subMenuLeftOffset:Ie,subMenuTopOffset:Je,tooltipComponent:st=null,tooltipWrapper:yt=null}=this.props,{renderContent:xt,contentType:bt}=this.state;return(0,g.jsx)(j.Consumer,{children:wt=>{const{contextMenuPosition:i,mountRoot:ue,activePath:ve,showSubMenu:Le,parentRef:Ge,onUpdateState:qe,isEmbed:ut=!1}=wt,It=this.handleGetPath(Ge),Ft=this.handleGetCanActiveSubMenu(Le,ve,It),Gt=(0,g.jsxs)("a",{children:[J,(0,g.jsx)("span",{dangerouslySetInnerHTML:{__html:xt},className:H()("text",{"is-svg":bt==="svg"})}),st,Z&&(0,g.jsx)("div",{className:"right-arrow",children:D})]});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(x,{ref:this.createMenuItemRef,className:H()("MenuItem",{disabled:me,hasIcon:J},Ce,{active:Ft}),"data-type":ke,"data-index":It,onMouseEnter:Zt=>this.handleMouseEnter(Zt,It,qe),onMouseLeave:Zt=>this.handleMouseLeave(Zt,Ge,Le,qe),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,children:yt?yt(Gt):Gt}),Z&&Ft&&!me&&(0,d.createPortal)((0,g.jsx)(je,{parentRef:this.$menuItemRef,setRef:this.createSubMenuRef,contextMenuPosition:i,subMenuDirection:Me,subMenuLeftOffset:Ie,subMenuTopOffset:Je,className:Ye,mountRoot:ue,isEmbed:ut,isNoraml:!1,isAiry:!1,children:(0,g.jsx)(j.Provider,{value:{parentRef:this.$menuItemRef,mountRoot:ue,contextMenuPosition:i,activePath:ve,showSubMenu:Le,onUpdateState:qe},children:Z})}),ue)]})}})}}v(Ee,"defaultProps",{subMenuClassName:""});class je extends M.PureComponent{constructor(J){super(J),v(this,"createRef",Z=>{const{setRef:me}=this.props;me(Z),this.subMenu=Z}),this.state={isTransform:!1}}componentDidMount(){this.setState({isTransform:!0});const{parentRef:J,contextMenuPosition:Z,subMenuDirection:me,subMenuLeftOffset:Ce,subMenuTopOffset:ke,isAiry:Ye,isEmbed:Me,mountRoot:Ie}=this.props;Me?Y(this.subMenu,J,Z,me,{subMenuLeftOffset:Ce,subMenuTopOffset:ke},Ye,Ie):ae(this.subMenu,J,Z,me,{subMenuLeftOffset:Ce,subMenuTopOffset:ke},Ye)}render(){const{children:J,isAiry:Z,className:me,isNoraml:Ce=!0}=this.props,{isTransform:ke}=this.state;return(0,g.jsx)(C,{className:H()("SubMenu",{"is-show":ke},{"is-airy":Z},{"is-normal":Ce},me),ref:this.createRef,children:J})}}v(je,"propTypes",{children:p().oneOfType([p().element,p().array]),className:p().string,parentRef:p().node,contextMenuPosition:p().object,setRef:p().func,subMenuDirection:p().string,subMenuLeftOffset:p().number,subMenuTopOffset:p().number,isAiry:p().bool});const tt=k.Ay.div.withConfig({displayName:"ContextMenu__Divider",componentId:"sc-1802crt-0"})(["margin:8px 0;border-top:1px solid #454546;"])},29815:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>v});var s=n(66748),p=n.n(s),M=n(51044),d=n(21676),k=n(54909);const X=d.Ay.div.withConfig({displayName:"styled__StyledCrashedPage",componentId:"sc-8goufi-0"})(["position:fixed;top:50%;left:50%;transform:translateX(-50%) translateY(-55%);text-align:center;color:#666;.logo{margin:0 auto 40px;height:320px;.logo-clickable{cursor:pointer;}.svg-icon{width:600px;fill:none;}}.mobile &{.logo{width:100%;transform:scale(0.8);}.content{.title{font-size:20px;line-height:24px;}.proposal{width:290px;font-size:14px;line-height:20px;}}}p{margin:0;}.content{margin:40px auto;.title{font-weight:600;font-size:24px;line-height:24px;color:#1f292e;}.proposal{width:max-content;margin:12px auto 40px;font-style:normal;font-weight:normal;font-size:16px;line-height:20px;color:#415058;.count-detail{color:#1684fc;}}.text-left{text-align:left;margin-bottom:-12px;}.text-list{margin:0;padding-left:24px;}}.btn-list{display:grid;grid-auto-flow:column;gap:20px;justify-content:center;.btn{width:200px;height:48px;display:inline-block;border-radius:6px;font-size:16px;font-weight:500;line-height:46px;cursor:pointer;transition:all 0.2s ease-out;}.primary{color:",";background:",";border:1px solid transparent;&:hover{background:",";border:1px solid transparent;}&:active{background:",";border:1px solid transparent;}}.regular{color:",";background:",";border:1px solid ",";&:hover{background:",";border:1px solid ",";}&:active{background:",";border:1px solid ",";}}}"],k.f.color_text_btn.value_light,k.f.color_btn_primary_normal.value_light,k.f.color_btn_primary_hover.value_light,k.f.color_btn_primary_clicked.value_light,k.f.color_text_L1.value_light,k.f.color_bg_white.value_light,k.f.color_bg_border_02.value_light,k.f.color_btn_secondary_hover.value_light,k.f.color_bg_border_02.value_light,k.f.color_btn_secondary_active.value_light,k.f.color_bg_border_02.value_light);var H=n(57464);const T="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-width='2' d='M145 243h66a2 2 0 0 0 2-2V122.6a2 2 0 0 1 1.6-2L333 94l-101.6 32.6a2 2 0 0 0-1.4 1.9v139a2 2 0 0 0 2.5 2l54-13'/%3E%3Cpath fill='%231F292E' d='M213 121.5v122l17 26V127l100.5-32.5-117.5 27Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M455 243h-38'/%3E%3Ccircle cx='251' cy='198' r='4' fill='%231F292E'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M250.4 182.2Zm2.3-3.2a24.2 24.2 0 0 1 2.7-1c.9-.3 3 .2 4.4 1.1.6.6-.5.2-2 .4l-1.9.4a22.7 22.7 0 0 0-5 2.4 5.2 5.2 0 0 1-.7.3 1.8 1.8 0 0 1-.3.1 1.2 1.2 0 0 1-.3 0 1 1 0 0 1-.6-.2 1 1 0 0 1-.4-.8 1 1 0 0 1 0-.4l.3-.4.5-.5 1-1a2.2 2.2 0 0 0 .2-.3.7.7 0 0 0 0-.1.9.9 0 0 0-.1-.1c-.4-.2-1-.4-2.3-.6a3.2 3.2 0 0 1-.3 0 1.6 1.6 0 0 1-.5-.2 1 1 0 0 1-.5-.9c0-.4.2-.7.3-.8l.6-.4.6-.3.5-.2a13 13 0 0 0 2.7-1.2l.9-.7v-.4c-.1-.2-.4-.6-1.3-1-.8-.6-2-1.1-3.7-1.7a2.6 2.6 0 0 1-.8-.5 1 1 0 0 1-.5-.9c-.1-.5.2-1 .4-1.1.3-.2.6-.4.9-.4 1.6-.4 4-1 5.9-2.8 1.7-1.5 3-4.2 1.8-9.2a2.3 2.3 0 0 1 0-1.2l.2-.4a1 1 0 0 1 1.6-.2c.2.1.3.3.3.4l.5 1c.8 2 3.5 4.9 6.7 6.7 1.2.7 1.2.8 0 .4-2.2-.6-5.6-2-7.3-4.6 1.3 4.3-.8 7-2.4 8.6a13.1 13.1 0 0 1-5.3 2.8c1.2.4 2 .9 2.8 1.3a5 5 0 0 1 2 2c.4.8.3 1.6-.1 2.2-.4.6-1 1-1.6 1.4l-1.7.9.6.2c.7.4 1.2 1 1.2 1.9Zm-2 0Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M292 163.5c61.2 5.2 103.5 55.5 117 80l-115 14-4-12.5 2-8-3-11 3-10 3.5-4v-13l7.5-7c-25-2-35-4-36.5-14.5.5-3.6 3.1-15.9 25.5-14Z'/%3E%3Cpath fill='%231F292E' fill-rule='evenodd' d='M363 191.1a219 219 0 0 1 46.8 51.6 1 1 0 1 1-1.6 1 217 217 0 0 0-46.5-51c-21.7-17-48.6-29.9-78.3-27.4-10.1.8-15 6.3-15.4 11.4-.4 5 3.6 10.6 12.8 11.8l5.2.6c5.4.7 11.2 1.4 16.5 2.4a70 70 0 0 1 12.1 3.2c3.5 1.3 6.5 3 8.5 5.4a1 1 0 0 1-1.6 1.3c-1.6-2-4.2-3.5-7.6-4.8a66.7 66.7 0 0 0-11.3-3c-3.5 2.3-7 6.7-7 12.9-.1 6.3 3.7 14.7 16 24.7 4.7 3.7 9.5 5 13.4 4.5a1 1 0 0 1 1.3-.3 11.1 11.1 0 0 0 1.2-.3c2-.7 3.6-2 4.6-3.7.8-1.4 1-3.2.7-5.3-4.2.6-7.4.3-9.7-.7-2-.8-3.2-2-4-3.6a8.5 8.5 0 0 1-.6-5.2c.3-1.5.8-3 1.6-4.5a26.7 26.7 0 0 1-2.2-2.8 7 7 0 0 1-1.2-2c-.4-.8-.6-1.5-.6-2.2a1 1 0 1 1 2 0c0 .3.1.7.4 1.3.2.6.6 1.2 1 1.8a24.1 24.1 0 0 0 1.7 2.1 29.4 29.4 0 0 1 19.1-11.4 1 1 0 0 1 .4 2c-5.7.8-10.5 3.2-14 6.3a22.1 22.1 0 0 0-4.3 5 1 1 0 0 1-.4.6 13 13 0 0 0-1.5 4.1c-.3 1.6-.1 3 .4 4 .5 1.1 1.5 2 3 2.7 3 1.3 8.2 1.3 16.3-1.3 3.7-1.5 6.9-2.2 9.3-2.1 2.5 0 4.5.8 5.6 2.1a5 5 0 0 1 .7 5.1 12 12 0 0 1-4.3 5.3c-8 6-7.5 11.8-6.6 13.5a1 1 0 1 1-1.8 1c-1.4-3-1.4-9.6 7.2-16 2-1.5 3.1-3.1 3.6-4.4.5-1.4.3-2.4-.3-3.2-.7-.7-2-1.4-4.1-1.4-2.1 0-5 .5-8.6 2l-6.1 1.6c.4 2.5 0 4.7-1 6.6a10.2 10.2 0 0 1-5.6 4.6 12.3 12.3 0 0 1-1.1.3c.6 2.9.4 6-.7 8.6a9.4 9.4 0 0 1-6.1 5.4c5 4.5 6.4 10 5.1 14.4a8.7 8.7 0 0 1-3 4.6c3.2 2.3 9 5 15.8 5a1 1 0 0 1 1 0 28 28 0 0 0 12.1-3.5 1 1 0 1 1 1 1.8 30 30 0 0 1-11.8 3.6 51.8 51.8 0 0 1 3.2 8c1.2 3.9 2 8.2 1.3 12a1 1 0 1 1-2-.4c.6-3.3 0-7.3-1.2-11-1-3.4-2.4-6.5-3.5-8.5-8 0-14.4-3.3-17.8-6-2 .8-4.6.8-7.2-.3-13.4-5.2-19.9-12-22.4-18.3-2.4-6-1.2-11.6.7-15.1a21.2 21.2 0 0 1-2.8-15.1c.8-4.5 3-8.3 5.6-10.2A17.5 17.5 0 0 1 300 193l-14.1-1.9a765.9 765.9 0 0 1-5.2-.7c-10-1.2-15-7.4-14.6-13.9.5-6.4 6.5-12.3 17.2-13.2 30.4-2.5 57.8 10.7 79.7 27.8Zm-68 23.2c2.3 5.5 7 11.7 15.3 18.4 5 4 10.3 5.5 14.7 5 .5 2.5.4 5.2-.5 7.4a7.7 7.7 0 0 1-6.7 4.6c-3 .3-7.1-.5-12.5-3a28.2 28.2 0 0 1-11.7-9.7 19.2 19.2 0 0 1-3-14.2 15 15 0 0 1 4.4-8.5Zm-2.2 25.2c-1.4 3-2.1 7.6-.1 12.5 2.2 5.7 8.2 12 21.2 17.2 2.3.9 4.3.8 5.8.2a1 1 0 0 1 .7-.3 6.5 6.5 0 0 0 3-4c1-3.7-.3-9.1-5.8-13.4-3.5.3-7.8-.7-13.2-3.3-5.2-2.5-9-5.6-11.6-9Zm75.4 17.1a1 1 0 0 1-.5 1.4 7.7 7.7 0 0 0-3.8 4.5 1 1 0 1 1-2-.5 9.7 9.7 0 0 1 5-5.8 1 1 0 0 1 1.3.4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",P="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjMyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjUwLjUgMjk1LjVsLTctMzYgNi41LS41IDguNS0yIDktNSAzNCAyLjUgOCAzOC41LTU5IDIuNXoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl83ODc4XzE1MjE3KSIvPjxwYXRoIG9wYWNpdHk9Ii42IiBkPSJNNDM2LjE1MiAxNTguNWM1NC40LTUuMiA1OS4zMzQgNTQuMTY2IDU1IDg0LjVoLTMwOGMtMjIuOC00NiAxNy42NjctNjkuMTY3IDQ0LTczLjUtNDkuMzMzLTE1LjUtMTkuNS04OCAyOC41LTExNiAxMjIuMjU0LTcxLjMxNSAxMTIuNSAxMTEuNSAxODAuNSAxMDV6IiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXJfNzg3OF8xNTIxNykiLz48cmVjdCB4PSIyNjcuNjQ4IiB5PSIxNDQiIHdpZHRoPSIzOCIgaGVpZ2h0PSI5OCIgcng9IjMiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iMjI5LjY0OCIgeT0iMTE0IiB3aWR0aD0iMzgiIGhlaWdodD0iMTI4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzNzkuNjQ4IiB5PSIxMjgiIHdpZHRoPSIyMSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjQwMC42NDgiIHk9IjE0NCIgd2lkdGg9IjI5IiBoZWlnaHQ9Ijk4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzMDUuNjQ4IiB5PSIxMjgiIHdpZHRoPSIxOSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjMyNS42NDgiIHk9IjEzMC4yMzIiIHdpZHRoPSIyMi4yODkiIGhlaWdodD0iMTE2IiByeD0iNCIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1LjcyMyAzMjUuNjQ4IDEzMC4yMzIpIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtZGFzaGFycmF5PSIxIDgiLz48cGF0aCBkPSJNMTc3LjY0OCAyNDJoMzEwIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGZpbGw9IiMxRjI5MkUiIGQ9Ik0zODAuNjQ4IDIwMGgxOXYxN2gtMTl6Ii8+PHBhdGggZmlsbD0iIzE2ODRGQyIgZD0iTTQwMS42NDggMTY4aDI5djE5aC0yOXoiLz48cGF0aCBmaWxsPSIjMUYyOTJFIiBkPSJNMzgwLjY0OCAyMjFoMTl2NGgtMTl6TTI2OC42NDggMTU5aDM2djEzaC0zNnoiLz48cGF0aCBkPSJNMjk1LjE0OCAxODNjOC0uOCAxNCA4LjMzMyAxNiAxM2wtNTAgMjEtMjQuNS0xNCAyLTQuNSA0LjUtOCA5LTMuNSA5IC41IDYuNS00LjUgNi0xLjUgNiAxLjUgNCA0Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTI0Mi4xNDggMjA0bDY4LTctMi41IDU3LTU4LTItNy41LTQ4eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0zMTAuMTQ4IDE5N2wuOTk5LjA0NC4wNTEtMS4xNTctMS4xNTIuMTE4LjEwMi45OTV6bS02OCA3bC0uMTAyLS45OTUtMS4wNDguMTA4LjE2MiAxLjA0MS45ODgtLjE1NHptNy41IDQ4bC0uOTg4LjE1NC4xMjguODE3LjgyNi4wMjguMDM0LS45OTl6bTU4IDJsLS4wMzQuOTk5YTEgMSAwIDAgMCAxLjAzMy0uOTU1bC0uOTk5LS4wNDR6bTIuMzk4LTU3Ljk5NWwtNjggNyAuMjA1IDEuOTkgNjgtNy0uMjA1LTEuOTl6bS02OC44ODYgOC4xNDlsNy41IDQ4IDEuOTc2LS4zMDgtNy41LTQ4LTEuOTc2LjMwOHptOC40NTQgNDguODQ1bDU4IDIgLjA2OS0xLjk5OC01OC0yLS4wNjkgMS45OTh6bTU5LjAzMyAxLjA0NWwyLjUtNTctMS45OTgtLjA4OC0yLjUgNTcgMS45OTguMDg4eiIgZmlsbD0iIzFGMjkyRSIvPjxwYXRoIGQ9Ik0yOTQuMTQ4IDE4Mi41YzgtLjggMTQgOC4zMzMgMTYgMTNsLTI5LjUgMTAuNS02LjUtM3YtOC41bDguNS04Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTMxMC42NDggMTk2Yy0yLTctMTEuMjEyLTE5LjY4Ni0yOC41LTguNS0xNyAxMS03LjUgMjUuNSA5LjUgMTRtLTgtMTQuOTIzYy0zLjgzMy0zLjY2Ny0xMi4wNi0xMC43MjItMjQgMi45MjMtNyA4IDAgMTcuNSAxNCA5TTI2MS4xNDggMTg3LjVjLTYtMi4xNjctMTkuNi0xLjUtMjQgMTQuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTg4LjE0OCAyMDZsNTktNC41IDEuNSA1Ny41LTYzLjUtMy41IDMtNDkuNXoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTIwMy42NDkgMTk3LjAzMWM1LjYtLjggMTAuMzMzIDQuNjY2IDEyIDcuNUwyMDguNSAyMDcuNWwtNiA1LjUtNC41IDctMSAxMCAzLjUgMTUgMS41IDktNCAxMi0yLjUgNy41LS41IDE3LjUtNzIgNC41IDIuNS0zMC41LTExLjUtMTYuNS01LjUtMTUuNXYtMTRsNy0xNCA4LTcgNSAxIDQuNSA5LjUgNi41LTguNDY5IDEwLTguMDMxIDcuNS41IDQuNSAzLTQuNSA0LjUzMWMxNS41LTEzLjAzMSAyMi4wNTctMy41MzEgMTkuNSAwIDguNC0xMS42IDE2LjgxNS00LjMzNCAyMC42NDkgMC0uMTY3LS42NjcuOS0yLjIgNi41LTN6IiBmaWxsPSJ1cmwoI3BhaW50Ml9saW5lYXJfNzg3OF8xNTIxNykiLz48cGF0aCBkPSJNMTg3LjE0OCAyMTEuNWMzLjE4Ni02LjYxNiA2LjU3Ny0xMC40OTIgOS44OTQtMTIuNW0wIDBjNy41MTItNC41NDggMTQuNjM4LjQ5MSAxOC4xMDYgNS02LjAzNSAyLjE2Ny0xOC4xMDYgOS44LTE4LjEwNiAyMyAwIDE2LjUgMTEuMTA2IDI0LjUtMS44OTQgNDZ2MThtMS44OTQtOTJjLTUuMjk4LTUuODMzLTE4LjE5NC0xMS41LTI3LjM5NCAxMi41bTgtMTQuNWMtNC42NjYtNS4zMzMtMTYuNS05LjUtMjYuNSAxNi41IiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik0xNjEuNjQ3IDE5NmMtNC44MzMtNi4xNjctMTYuMDEyLTEwLjI0NC0zMS41IDE4LTUuMjEgOS41LTYgMjYtMSAzMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTMyLjY0OCAyMTBjLTEuMTY3LTYuODM0LTUuNi0xOC4xLTE0LTguNS0xMC41IDEyLTIwIDMxLjUgNi41IDYzbC0yIDMxTTMwMS4xNDggMjU0bDcuNSAzOU0yNDMuNjQ4IDI1OGw2LjUgMzcuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTM0OS42NjcgMTAxLjM5NWwuMDAxLjAwMS0uMDAxLS4wMDF6bTEuNTc0IDMuNTQ1YTI0LjEyNCAyNC4xMjQgMCAwIDEtLjUwMSAyLjgzMWMtLjIyLjkwNS0xLjY1IDIuNTA2LTMuMjI0IDMuMjYxLS43NTkuMjMzLjA5NS0uNDg4LjY3My0xLjgzNi4yMDMtLjQ1OC40MTYtMS4xMDcuNjA3LTEuODk3LjM4Mi0xLjU3Ni42NTItMy42MDUuNjExLTUuNThhNS4yNCA1LjI0IDAgMCAxIC4wMjUtLjcxNWMuMDEyLS4wOTUuMDMyLS4yMjMuMDc1LS4zNTNhMS4yIDEuMiAwIDAgMSAuMTMzLS4yNzUgMS4wMyAxLjAzIDAgMCAxIDEuMzYxLS4zNDdjLjE4OS4xMDMuMzAxLjI0LjM1My4zMS4xMDYuMTQ0LjE2NS4yOTQuMTk1LjM3OC4wNjkuMTkxLjEyNS40MzMuMTczLjY5Ni4wODguNDg1LjE4OS45NDcuMzI2IDEuMzIxLjA2OC4xODUuMTM1LjMyMi4xOTYuNDE4YS43ODUuNzg1IDAgMCAwIC4wNjkuMDkxLjg1Mi44NTIgMCAwIDAgLjE5MS0uMDljLjMzNi0uMTk3Ljg2My0uNjcxIDEuNjA3LTEuNjUzLjA3OS0uMTA1LjE2MS0uMjA2LjI0Ny0uMjk1YTEuNTcgMS41NyAwIDAgMSAuMzY4LS4yOTFjLjE1NS0uMDg1LjU2LS4yNTQgMS4wMTEtLjAyOC40MS4yMDUuNTMxLjU4MS41NjUuNzA2LjA3NC4yNy4wNS41NjUuMDM3LjcyMi0uMDE5LjIwMy0uMDUyLjQzOS0uMDkuNjgxbC0uMDgxLjUwNWMtLjE1MS45MjEtLjMyNiAxLjk5NS0uMzEgMi45MjIuMDEuNTU0LjA4OS45MjYuMTk3IDEuMTM3LjA3NC4xNDQuMTMuMTc4LjI2NS4xOS4yMzEuMDIuNzItLjA1NiAxLjU4Ny0uNTE4Ljg0NS0uNDUxIDEuOTQ3LTEuMjEzIDMuMzY3LTIuMzk5LjIyLS4xODQuNDctLjM0OS43NDEtLjQ1MS4yNTQtLjA5NC42NjYtLjE4MiAxLjA5LjAxLjQ3Ny4yMTYuNjc4LjY0OS43MzIuOTk5LjA1MS4zMjctLjAwNi42NTItLjA4OC45MzEtLjQ3NCAxLjYwNi0xLjE5NiA0LjA2My0uNjcxIDYuNDcxLjQ5NiAyLjI3OSAyLjE2OCA0LjczIDcuMDE3IDYuMjEzLjQwNS4xMjQuODE0LjM4OSAxLjA2Ni42OTYuMDY4LjA4NC4xNTcuMjA5LjIyMS4zNzFhMS4wOTMgMS4wOTMgMCAwIDEtLjYyNiAxLjQzNWMtLjIwNi4wOC0uNC4wODgtLjUyOC4wODRhMTIuMjc1IDEyLjI3NSAwIDAgMS0xLjEyMS0uMTE1Yy0yLjA2LS4yNjgtNS45Ni41OTYtOS4xMzcgMi4zOTYtMS4xOTUuNjc3LTEuMzUuNjE3LS4zNTMtLjMyNiAxLjYyOS0xLjU0MSA0LjUwOS0zLjc0NyA3LjY4LTMuODY0LTQuMzQ1LTEuMDItNS42ODMtNC4yMTUtNi4xNzMtNi40NjQtLjQ3My0yLjE3LS4xMjQtNC4zMTguMjc3LTUuOTIyLS45NzIuNzQ4LTEuODE3IDEuMzA3LTIuNTU0IDEuNy0uOTkyLjUyOS0xLjg5OC44MTYtMi43MDIuNzQ1LS45MDEtLjA3OS0xLjUyMS0uNTktMS44Ny0xLjI3MS0uMzE1LS42MTYtLjQwNS0xLjM1MS0uNDE3LTIuMDEzLS4wMS0uNjE0LjA0OC0xLjI3OC4xMjctMS45MDFhNC4zMDUgNC4zMDUgMCAwIDEtLjQ3LjMyM2MtLjcyMy40MjQtMS41MzEuNTMyLTIuMjQ2LjA3OWwtLjAyOC0uMDE4em0xLjAyOS0xLjY5MXMuMDA5LS4wMDMuMDIyIDBjLS4wMTYuMDAzLS4wMjIgMC0uMDIyIDB6IiBmaWxsPSIjRkY2MTYxIi8+PHBhdGggZD0iTTI1MC42NDggMjIzLjVsLTcgOS41TTMxMS42NDggMjE4bC03IDkuNU0yNTIuNjQ4IDIzMGwtNyA5LjVNMzEzLjY0OCAyMjQuNWwtNyA5LjUiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNzg3OF8xNTIxNyIgeDE9IjI3My41IiB5MT0iMjU0LjUiIHgyPSIyNjYuMDk3IiB5Mj0iMjkxLjMwNCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNmZmYiLz48c3RvcCBvZmZzZXQ9Ii43MzEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzc4NzhfMTUyMTciIHgxPSIyMTAuMTUyIiB5MT0iMTI1IiB4Mj0iMzc3LjE1MiIgeTI9IjI4OSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNFREY4RkYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGQUVGRkYiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl83ODc4XzE1MjE3IiB4MT0iMTg4IiB5MT0iMjU2IiB4Mj0iMTg2LjkyNiIgeTI9IjI5Mi41MjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIuNjc2IiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4=",j="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cg clip-path='url(%23a)'%3E%3Cpath fill='url(%23b)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M145 242h310'/%3E%3Cpath fill='%23fff' d='M195.3 213c-7.5-17.5-7.5-20-7.5-20l38.8-39.8c15.9 23.6 45.6 71.5 37.6 74.6a46 46 0 0 0-17.5 13.4h-63.1s19.2-10.5 11.7-28.1Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='10' d='M378 221.6c-29.5-66-56.2-32.1-109.5-78.5-52.2-34.8-99.8-36-117.2-16-38.6 44.2 90.6 76.6 34.4 112.9'/%3E%3Cpath fill='%23fff' d='M306 149.4c-12.4 6.4-15.5 16.6-15.5 21 0 16.7 14 13.4 21 9.6l14.1 15.5a67.3 67.3 0 0 1-37.1 22.6 97.9 97.9 0 0 0-42.2 23l-26-23 12.2-35.2-26-9.2c15.5-15 27.6-23.9 40.2-54.9 2.9-11.3 10.7-33 20-32.6 9.4.3 5.3 20.5 2.1 30.5 10.5-4.1 13.4 4.7 15.5 3.8 7-3 13.9 2.5 15.8 5.9 5-3 14.8-4.3 18.8 0 10.4 11 11.2 29.8 3.8 35.2 0 0-13.7-5.8-14.6-6.7-.4-.4-1.1-.4-2.1-5.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M306 149c1.5 3.3 4.5 10.5 8.6 13 5.3 3.4 17.6-1.5 12.1-22.5-5.5-21-22.7-23.4-49.4 4.5'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M300.4 125.4c-2.7-2.3-6.8-7.8-16-5m-23.2 17.2c10.2-10.7 17.7-15.5 23.3-17.2m0 0c-2.3-3.2-7.7-6.4-15.7-3.9m-20 15.3c7.8-9 14.5-13.5 20-15.3m0 0c2.8-7 8.3-26-2.3-30.4-15.1-6.3-13.2 35.3-36 62.4a561.6 561.6 0 0 1-43.1 45'/%3E%3Cpath fill='%23fff' d='m330.3 165.8-5.9.5-5.8 6-7.5 7.4-11.5 6.9-11.5 6.9 28.7 11.6 11-11.5 6.8-13.5-.2-10.7-4-3.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M310.8 146.3c-7.5 3.2-24.2 14.2-19 29 3.8 10.8 16.5 10.6 26.5-3.1 10-13.8 20.8-3.9 15.5 10.2-12 31.4-47 34.1-60 40.4-9.7 4.7-16.6 8.7-27.8 18.7'/%3E%3Ccircle cx='383.5' cy='234.5' r='17.5' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='381.5' cy='229.5' r='18.5' fill='%231684FC'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M329.7 261.3a1 1 0 0 1 .7-.3h139a1 1 0 0 1 .7 1.7l-17.8 16a1 1 0 0 1-.7.3h-139a1 1 0 0 1-.7-1.7l17.8-16Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M313.7 285.5a1 1 0 0 0 .9.5h139.7a1 1 0 0 0 .8-1.5l-2.8-5a1 1 0 0 0-.9-.5H311.7a1 1 0 0 0-.8 1.5l2.8 5ZM472 269.1a1 1 0 0 1-.3.7L457 285a1 1 0 0 1-1.6-.2l-2.9-5.1a1 1 0 0 1 .2-1.2l17.7-16a1 1 0 0 1 1.7.7v5.9Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='square' stroke-linejoin='round' stroke-width='4' d='M466 277.5c16.3 6.3 39.2 21.6 0 32-39.2 10.4-45 32.7-43 42.5'/%3E%3Crect width='2' height='6' x='342' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 342 267)'/%3E%3Crect width='2' height='6' x='392' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 392 267)'/%3E%3Crect width='2' height='6' x='429.9' y='267.1' fill='%231F292E' rx='1' transform='rotate(-31 429.9 267)'/%3E%3Crect width='2' height='6' x='351.9' y='266.1' fill='%231F292E' rx='1' transform='rotate(31 352 266.1)'/%3E%3Crect width='2' height='6' x='402.2' y='266.2' fill='%231F292E' rx='1' transform='rotate(36 402.2 266.2)'/%3E%3Crect width='2' height='6' x='440.6' y='266.3' fill='%231F292E' rx='1' transform='rotate(43 440.6 266.3)'/%3E%3Crect width='4' height='10' x='374' y='225' fill='%231F292E' rx='2'/%3E%3Crect width='4' height='10' x='385' y='225' fill='%231F292E' rx='2'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M406 190.4Zm1.6 3.5a24 24 0 0 1-.5 2.9c-.2.9-1.7 2.5-3.2 3.2-.8.3 0-.5.6-1.8.2-.5.5-1.1.6-1.9a22.7 22.7 0 0 0 .7-5.6 5 5 0 0 1 0-1l.2-.3c0-.1.2-.3.5-.4.3-.2.6 0 .9 0l.3.3.2.4.2.7a8.4 8.4 0 0 0 .5 1.8 1 1 0 0 0 .3 0 9 9 0 0 0 1.6-1.7 3.3 3.3 0 0 1 .2-.3l.4-.3a1 1 0 0 1 1 0c.4.2.5.6.6.7v.7l-.1.7v.5c-.2 1-.4 2-.4 3l.2 1c0 .2.1.2.3.2.2 0 .7 0 1.6-.5.8-.4 2-1.2 3.3-2.4l.8-.4c.2-.1.6-.2 1 0 .5.2.7.6.8 1l-.1 1c-.5 1.5-1.2 4-.7 6.4.5 2.3 2.2 4.7 7 6.2.5.1.9.4 1.1.7l.2.4c0 .1.2.4 0 .8a1 1 0 0 1-.6.6h-.5a12.7 12.7 0 0 1-1.1 0c-2.1-.3-6 .6-9.2 2.4-1.2.6-1.3.6-.3-.4 1.6-1.5 4.5-3.7 7.6-3.8a7.9 7.9 0 0 1-6.1-6.5c-.5-2.2-.1-4.3.3-5.9l-2.6 1.7a5 5 0 0 1-2.7.7c-.9 0-1.5-.5-1.9-1.2-.3-.6-.4-1.4-.4-2l.1-2a4 4 0 0 1-.4.4c-.8.4-1.6.5-2.3 0Zm1-1.7Z' clip-rule='evenodd'/%3E%3C/g%3E%3Cdefs%3E%3ClinearGradient id='b' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3CclipPath id='a'%3E%3Cpath fill='%23fff' d='M0 0h600v320H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E",R="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Ccircle cx='165' cy='141.3' r='2.2' fill='%23FF6161'/%3E%3Ccircle cx='172.7' cy='141.3' r='2.2' fill='%23FFD361'/%3E%3Ccircle cx='180.5' cy='141.3' r='2.2' fill='%237BECB6'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.8 244.2-107 25.4a2 2 0 0 1-1.7-.3c-38.9-29-36-119.8-36-119.8l142.4-.8s7 37.9 23.5 49.4c1 .7.5 3.8-.6 3.9l-5 .4a1 1 0 0 0-.8 1.5l3.2 5.9a1 1 0 0 1-1.2 1.4l-11.7-4a1 1 0 0 0-1.3 1.4l1.8 3.6a1 1 0 0 1-1 1.4l-19-1.3c-1 0-1.5 1.2-.7 1.8l10.7 7.8a1 1 0 0 1 0 1.7l-3.4 2a1 1 0 0 0-.3 1.5l3.8 4.7a1 1 0 0 1-.6 1.7l-7.2 1.2a1 1 0 0 0-.2 2l12.5 5.6a1 1 0 0 1-.2 1.9Z'/%3E%3Cpath fill='%23F33' d='m226.1 198.2-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .6a.3.3 0 0 1-.3-.3Zm12.3-1-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .5a.3.3 0 0 1-.3-.2Zm19.7-15.2a.3.3 0 0 1 .3.3l.9 10.4v3a22.2 22.2 0 0 1-11.2 18.1.3.3 0 0 1-.4-.1l-3.4-6.1a.3.3 0 0 1 .2-.4c4.7-2.8 7.7-8 7.2-13.9l-.8-10.4a.3.3 0 0 1 .2-.3l7-.6Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9s33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m6.5 29.4c-.7-15.3-3.3-24.2-6.5-29.4m0 0c4-1 10.3.2 14.9 7.6m5.3 25.7c0-12.5-2.2-20.6-5.3-25.7m0 0c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 .7-1.6l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.4-.1l9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-1.4.8Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M410 106.7Zm.9 3.8a24.1 24.1 0 0 1-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.5-5.4 5.4 5.4 0 0 1 .3-1l.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8 1 1 0 0 0 .2 0c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3 1.4 1.4 0 0 1-.5 0l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2a4.3 4.3 0 0 1-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",ae="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Cpath fill='%23FF6161' d='M165 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23FFD361' d='M172.7 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%237BECB6' d='M180.5 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.6 241.5-107 25.4a2 2 0 0 1-1.6-.3c-39-29-36-119.7-36-119.7l142.3-.9s7 37.9 23.6 49.5c1 .6.5 3.7-.7 3.8l-5 .5a1 1 0 0 0-.9 1l.1.4 3.2 6a1 1 0 0 1-1.2 1.3l-11.7-4a1 1 0 0 0-1.2 1.4l1.7 3.7a1 1 0 0 1-1 1.4l-19-1.4a1 1 0 0 0-.6 1.8l10.7 7.9a1 1 0 0 1-.1 1.6l-3.4 2.1a1 1 0 0 0-.4.7 1 1 0 0 0 .2.8l3.8 4.7a1 1 0 0 1-.6 1.6l-7.2 1.3a1 1 0 0 0-.3 1.9l12.5 5.6a1 1 0 0 1-.2 2Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9 18.5-12.7 33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m0 0c3.2 5.2 5.8 14 6.5 29.4m-6.5-29.4c4-1 10.3.2 14.9 7.6m0 0a49.3 49.3 0 0 1 5.3 25.7m-5.3-25.7c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 1-1.1c0-.2-.2-.4-.3-.5l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.1.1l.3-.2 9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-.5.8 1 1 0 0 1-1 0Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='m410.9 110.5-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.7-6.1l.1-.3.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8h.2c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3h-.5l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2l-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cmask id='b' fill='%23fff'%3E%3Cpath fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3C/mask%3E%3Cpath fill='%23fff' fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23000' d='M226.7 183h1.1v-1h-1.2v1.2Zm1.5 22.7v1.2h1.2v-1.2h-1.2Zm-8-22.5-.1-1.1h-1.2v1.2h1.2Zm1.4 22.7h-1.1v1.2h1.2v-1.2Zm5.8-23.6h1.2l-.1-1.2h-1.2v1.2Zm-8.1.2v-1.2H218l.1 1.2h1.2Zm1.6 24.2h-1.2l.1 1.2h1.2v-1.2Zm8-.2.2 1.2h1.1v-1.3H229Zm-3.4-23.4 1.5 22.7 2.3-.1-1.5-22.7-2.3.1Zm-5.3 1.3 6.5-.2-.1-2.3-6.5.2.1 2.3Zm2.6 21.5-1.5-22.7H219l1.5 22.7h2.3Zm5.3-1.3-6.5.1.1 2.4 6.5-.2-.1-2.3Zm-1.9-22.3 1.6 24.2h2.4l-1.6-24.3-2.4.1Zm-6.8 1.4 8-.3v-2.3l-8.2.2.2 2.4Zm2.7 23-1.6-24.2H218l1.6 24.2h2.4Zm6.8-1.4-8 .2v2.4l8.2-.2-.2-2.4Z' mask='url(%23b)'/%3E%3Cpath fill='%232E03A0' d='M225.2 210.6a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.3 4.3 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M221.7 206.7a3.4 3.4 0 0 0 3.5 3.1c1.8 0 3.1-1.5 3-3.3a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.8 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='m226.7 180.2 13.5 20.7-6.7 4.2-13.6-20.6 6.8-4.3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m239.1 200.6-12.6-19.3-5.5 3.4 12.7 19.3 5.4-3.4Zm-12.4-20.4-6.8 4.3 13.6 20.6 6.7-4.2-13.5-20.7Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M223.6 186.4a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.2 4.2 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M220 182.5a3.4 3.4 0 0 0 3.6 3.2c1.8 0 3.1-1.6 3-3.4a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.7 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2313C1FF' d='m243.5 181.9 1.6 24.2 8.1-.3-1.6-24.2-8 .3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m245.8 205.3-1.5-22.7 6.6-.2 1.5 22.7-6.6.2Zm-2.3-23.4 8.1-.3 1.6 24.2-8 .3-1.7-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2306CF13' d='M249.4 210c2.3 0 4-2 3.8-4.2-.1-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M252.4 205.9a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.8 0 3.4 1.4 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.2 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FA52D6' d='M244 179.8 233.2 201l7.3 3.8 10.7-21.3-7.2-3.8Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m234.3 200.8 10-20 5.9 3.1-10 20-6-3.1Zm9.7-21 7.2 3.8-10.7 21.3-7.3-3.8 10.8-21.3Z' clip-rule='evenodd'/%3E%3Cpath fill='red' d='M235 206.5c2 1.1 4.5.4 5.5-1.6s.1-4.4-1.9-5.5a4 4 0 0 0-5.4 1.7 4 4 0 0 0 1.9 5.4Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M239.8 204.5a3.2 3.2 0 0 1-4.4 1.4 3.3 3.3 0 0 1-1.5-4.5 3.2 3.2 0 0 1 4.4-1.3c1.6.9 2.3 2.9 1.5 4.4Zm.7.4a4 4 0 0 1-5.4 1.6c-2-1-2.9-3.5-1.9-5.4a4 4 0 0 1 5.4-1.7c2 1.1 2.9 3.6 1.9 5.5Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FFC400' d='M247.8 185.8c2.3 0 4-2 3.8-4.2-.2-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M250.8 181.7a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.9 0 3.4 1.3 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.1 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E";function Y(b){const{className:N,source:D,rotate:c,width:G,height:W,onClick:oe}=b,f={msTransform:"rotate("+c+"deg)",transform:"rotate("+c+"deg)",width:G,height:W};return(0,H.jsx)("img",{className:N,src:D,style:f,onClick:oe})}Y.propTypes={className:p().string,source:p().string.isRequired,width:p().number,height:p().number,rotate:p().number,onClick:p().func};const pe=Y,U=403,$=404,V=[500,501,502,503,504,505],_="link_expired";var C=n(80396);function y(b,N,D){return(N=x(N))in b?Object.defineProperty(b,N,{value:D,enumerable:!0,configurable:!0,writable:!0}):b[N]=D,b}function x(b){var N=g(b,"string");return typeof N=="symbol"?N:N+""}function g(b,N){if(typeof b!="object"||!b)return b;var D=b[Symbol.toPrimitive];if(D!==void 0){var c=D.call(b,N||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(b)}class v extends M.PureComponent{constructor(){super(...arguments),y(this,"typeText",{title_403:{"zh-CN":"\u5BF9\u4E0D\u8D77\uFF0C\u4F60\u6CA1\u6709\u8BBF\u95EE\u6743\u9650",en:"Permission denied",jp:""},des_403_0:{"zh-CN":(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,H.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650"]})}),en:(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)("p",{className:"proposal",children:["Current account ",(0,H.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied."]})}),jp:""},des_403_1:{"zh-CN":(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,H.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u4FEE\u6539\u8BBF\u95EE\u6743\u9650"]})}),en:(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)("p",{className:"proposal",children:["Current account ",(0,H.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied. Please contact administrator."]})}),jp:""},des_403_2:{"zh-CN":"\u60A8\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u8BF7\u767B\u5F55\u540E\u5C1D\u8BD5\u8BBF\u95EE",en:"You are not logged in. Please log in and try again.",jp:""},des_403_3:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u6587\u4EF6\u6570\u8D85\u9650\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied.",jp:""},des_403_4:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u4F01\u4E1A\u7248\u8FC7\u671F\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied. Please contact administrator. ",jp:""},title_404:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u627E\u4E0D\u5230\u6587\u4EF6",en:"Sorry, there is no visible page.",jp:""},des_404:{"zh-CN":"\u6587\u4EF6\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u65B0\u7684\u5206\u4EAB\u94FE\u63A5",en:"The page may have been deleted. Please contact the sharer to inquire about the link status.",jp:""},title_link_expired:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u94FE\u63A5\u5931\u6548",en:"Sorry, the link is invalid",jp:""},des_link_expired:{"zh-CN":"\u94FE\u63A5\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\u6216\u8005\u8BBE\u7F6E\u6709\u8BEF\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u6700\u65B0\u5206\u4EAB\u94FE\u63A5",en:"The link may have been deleted or set incorrectly. Please contact the sharer to obtain the latest link.",jp:""},title_5xx:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u65E0\u6CD5\u8FDE\u63A5\u58A8\u5200\u670D\u52A1\u5668",en:"Sorry, unable to connect to Mockitt server",jp:""},des_5xx:{"zh-CN":(0,H.jsxs)("div",{className:"proposal text-left",children:[(0,H.jsx)("p",{children:"\u8BF7\u5C1D\u8BD5\u4EE5\u4E0B\u65B9\u6CD5\uFF1A"}),(0,H.jsxs)("ul",{className:"text-list",children:[(0,H.jsx)("li",{children:"\u5982\u679C\u60A8\u5F00\u4E86\u7F51\u7EDC\u4EE3\u7406\uFF08VPN\uFF09\uFF0C\u5EFA\u8BAE\u60A8\u5B8C\u5168\u5173\u95ED\u540E\u518D\u5237\u65B0\u58A8\u5200"}),(0,H.jsx)("li",{children:"\u5982\u679C\u4E0D\u662F\u4E0A\u8FF0\u539F\u56E0\u5BFC\u81F4\u7684\uFF0C\u8BF7\u60A8\u8FDE\u63A5\u624B\u673A\u70ED\u70B9\u6216\u5207\u6362\u53E6\u4E00\u4E2A\u7F51\u7EDC"})]}),(0,H.jsx)("p",{children:"\u82E5\u4F9D\u65E7\u65E0\u6CD5\u6B63\u5E38\u8FDB\u5165\u58A8\u5200\uFF0C\u8BF7\u8054\u7CFB\u5BA2\u670D"})]}),en:(0,H.jsxs)("div",{className:"proposal text-left",children:[(0,H.jsx)("p",{children:"Please try the following methods:"}),(0,H.jsxs)("ul",{className:"text-list",children:[(0,H.jsx)("li",{children:"If your VPN is on, please turn it off then refresh Mockitt."}),(0,H.jsx)("li",{children:"If not, please switch to another network."})]}),(0,H.jsx)("p",{children:"If the problem stays, please contact support."})]}),jp:""},title_0:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u9875\u9762\u5D29\u6E83\u4E86",en:"Sorry, this page is corrupted",jp:""},des_0:{"zh-CN":"\u8BF7\u5C1D\u8BD5\u5237\u65B0\u9875\u9762\u6216\u5173\u95ED\u518D\u91CD\u65B0\u6253\u5F00\u58A8\u5200\uFF0C\u82E5\u65E0\u6CD5\u89E3\u51B3\u8BF7\u8054\u7CFB\u5BA2\u670D",en:"Please refresh this page or close this page and start Mockitt again. If the problem stays, please contact  support.",jp:""},previewFile:{"zh-CN":"\u9884\u89C8\u6587\u4EF6",en:"Preview File",jp:""},goHome:{"zh-CN":"\u8FD4\u56DE\u58A8\u5200\u9996\u9875",en:"Back to Homepage",jp:""},reloadPage:{"zh-CN":"\u5237\u65B0\u9875\u9762",en:"Refresh this page",jp:""},contactUs:{"zh-CN":"\u8054\u7CFB\u5BA2\u670D",en:"Support",jp:""}}),y(this,"clickGoHome",()=>{let N="",{locale:D}=this.props;D==="zh-CN"?N="/workspace/home":D==="jp"?N="https://mockitt.wondershare.jp":N="https://mockitt.wondershare.com",window.top!==window.self?window.top.location.replace(N):location.replace(N)}),y(this,"clickReloadPage",()=>{window.location.reload()}),y(this,"clickContactUs",()=>{let N="",{locale:D}=this.props;if(D==="zh-CN"){document.getElementById("mdOnlineSupport")&&document.getElementById("mdOnlineSupport").click();return}else D==="jp"?N="https://support.wondershare.jp":N="https://support.wondershare.com/product/mockitt.html";window.open(N)}),y(this,"getErrorConfig",()=>{const{errorType:N,primaryBtnText:D,primaryBtnClick:c,secondaryBtnText:G,secondaryBtnClick:W,locale:oe}=this.props,{typeText:f,clickGoHome:A,clickContactUs:te,clickReloadPage:le}=this;let ie,q,we="",Fe=null,Ve;const Ee={text:f.goHome[oe],click:A},je={text:f.reloadPage[oe],click:le},tt={text:f.contactUs[oe],click:te};switch(!0){case N===U:ie=Ee.text,q=Ee.click,Ve=T;break;case N===$:ie=Ee.text,q=Ee.click,Ve=P;break;case N===_:ie=Ee.text,q=Ee.click,Ve=P;break;case V.includes(N):ie=je.text,q=je.click,we=tt.text,Fe=tt.click,Ve=j;break;default:ie=je.text,q=je.click,we=tt.text,Fe=tt.click,Ve=oe==="en"?ae:R;break}return D&&(ie=D),c&&(q=c),G&&(we=G),W&&(Fe=W),{svgBg:Ve,primaryText:ie,primaryClick:q,secondaryText:we,secondaryClick:Fe}}),y(this,"getErrorInfo",()=>{const{errorType:N,identity:D,locale:c,customTitle:G,customDes:W,account:oe}=this.props,{typeText:f}=this;let A,te;if(G)A=G;else{const le=V.includes(N)?"title_5XX":"title_"+N;A=f[le]?f[le][c]:f.title_0[c]}if(W)te=W;else{let le="des_"+N;N===U?le=oe?"des_"+N+"_"+D:"des_"+N+"_2":V.includes(N)?le="des_5xx":N===_&&(le="des_link_expired"),te=f[le]?f[le][c]:f.des_link_expired[c]}return{title:A,desc:te}}),y(this,"handleClickLogo",()=>{let{isLogoClickable:N,logoUrl:D}=this.props;N&&(window.top!==window.self?window.top.location.href=D:window.location.href=D)})}render(){const{locale:N,isShowPrimaryBtn:D,isShowSecondaryBtn:c,isLogoClickable:G,previewFileBtnClick:W}=this.props,{typeText:oe}=this,{svgBg:f,primaryText:A,primaryClick:te,secondaryText:le,secondaryClick:ie}=this.getErrorConfig(),{title:q,desc:we}=this.getErrorInfo();return(0,H.jsxs)(X,{children:[(0,H.jsx)("div",{className:"logo",children:(0,H.jsx)("span",{className:G?"logo-clickable":"",onClick:this.handleClickLogo,children:(0,H.jsx)(pe,{source:f})})}),(0,H.jsxs)("div",{className:"content",children:[(0,H.jsx)("p",{className:"title",children:q}),typeof we=="string"?(0,H.jsx)("p",{className:"proposal",children:we}):we]}),(0,H.jsxs)("div",{className:"btn-list",children:[c&&ie&&le&&(0,H.jsx)("a",{className:"btn regular",onClick:ie,children:le}),W&&(0,H.jsx)("a",{className:"btn regular",onClick:W,children:oe.previewFile[N]}),D&&te&&A&&(0,H.jsx)("a",{className:"btn primary",onClick:te,children:A}),le===oe.contactUs[N]&&(0,H.jsx)(C.A,{})]})]})}}y(v,"propTypes",{locale:p().oneOf(["zh-CN","en","jp"]),identity:p().oneOf([0,1]),customTitle:p().string,customDes:p().string,isShowPrimaryBtn:p().bool,primaryBtnText:p().string,primaryBtnClick:p().func,isShowSecondaryBtn:p().bool,secondaryBtnText:p().string,secondaryBtnClick:p().func,errorType:p().oneOf([0,403,404,500,501,502,503,504,505,_]).isRequired,account:p().string,isLogoClickable:p().bool,logoUrl:p().string}),y(v,"defaultProps",{locale:"zh-CN",isShowPrimaryBtn:!0,isShowSecondaryBtn:!0,identity:0,errorType:0,isLogoClickable:!0,logoUrl:"/"})},80396:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>k});var s=n(51044),p=n(66748),M=n.n(p),d=n(57464);k.propTypes={className:M().string,children:M().oneOfType([M().array,M().string]),isWonderShare:M().bool,id:M().string,onClick:M().func,disabled:M().bool,canClick:M().bool};function k(X){let{className:H,children:T,isWonderShare:P=!1,id:j="mdOnlineSupport",onClick:R,disabled:ae,canClick:Y}=X;const pe="qd30090468111af7daaf09a6395b687fc3becd624cf3",U=P?"https://support.wondershare.com/":"";(0,s.useEffect)(()=>{if(!ae)return!P&&$(),()=>{const _=document.getElementById(pe);_&&_.remove()}},[]);const $=()=>{n.g?(n.g.wpaShowItemId=window.wpaShowItemId="123",n.g.qidian_ex1=window.qidian_ex1="12"):(window.wpaShowItemId="123",window.qidian_ex1="12");let _=document.createElement("script");_.id=pe,_.src="https://wp.qiye.qq.com/qidian/3009046811/1af7daaf09a6395b687fc3becd624cf3",_.charset="utf-8",_.async=!0,_.defer=!0,document.body.appendChild(_)},V=_=>{if(ae){Y&&R&&R();return}if(R&&R(),P){window.open(U);return}if(j!=="mdOnlineSupport"){_.preventDefault();const C=document.getElementById("mdOnlineSupport");C&&C.click()}};return(0,d.jsx)("div",{style:{cursor:"pointer"},id:j,className:H,onClick:V,children:T})}},29584:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>b,d:()=>ae});var s=n(30108),p=n.n(s),M=n(98236),d=n.n(M),k=n(51044),X=n(60185),H=n(66748),T=n.n(H),P=n(480),j=n(28149);const R=9;function ae(D){let{$opener:c,$menuBase:G,menuX:W="left",menuY:oe="bottom",menuBaseStyle:f={},inflexible:A=!1,shouldSetMaxHeight:te=!1}=D;if(!c||!G)return{};const le=G.querySelector("*"),ie={styleFor$menuBase:{},styleFor$menu:{}},q=Je=>Object.assign(ie.styleFor$menuBase,Je),we=Je=>Object.assign(ie.styleFor$menu,Je),{offsetHeight:Fe}=le,Ve=f.width||c.offsetWidth,Ee=f.height||c.offsetHeight,je=c.getBoundingClientRect(),{top:tt,bottom:Oe,left:J}=Object.assign({top:je.top,right:je.right,bottom:je.bottom,left:je.left},f);q({top:tt+"px",left:J+"px",width:Ve+"px",height:Ee+"px"});const{innerHeight:Z}=window,me=10,Ce=Z-10,ke=oe==="top"?1/3:2/3,Ye=Z*ke,Me=tt+Ee/2,Ie=tt+Ee;return(A&&oe==="bottom"||!A&&Ye>=Me)&&Ie+Fe+R<Z?(ie.isDownward=!0,te&&Oe+Fe>Ce&&we({maxHeight:Ce-Oe+"px"})):(ie.isDownward=!1,te&&tt-Fe<me&&we({maxHeight:tt-me+"px"})),Object.assign(G.style,ie.styleFor$menuBase),Object.assign(le.style,ie.styleFor$menu),ie}var Y=n(21676);const pe=Y.Ay.label.withConfig({displayName:"styled__StyledDropDown",componentId:"sc-665wv9-0"})(["&.is-disabled{opacity:0.5;> button{cursor:not-allowed;}}"]),U=Y.Ay.div.withConfig({displayName:"styled__StyledDropDownMenu",componentId:"sc-665wv9-1"})(["position:absolute;margin:0.25em 0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;min-width:7em;font-size:12px;filter:drop-shadow(0 2px 10px rgba(39,54,78,0.12)) drop-shadow(4px 12px 40px rgba(39,54,78,0.12));pointer-events:none;opacity:0;transition:0.2s ease-in-out;transition-property:transform,opacity;transform-origin:50% 0;transform:scale(0.9);&.is-open{pointer-events:initial;opacity:1;transform:scale(1);}&.x-left{left:0;}&.x-right{left:initial;right:0;}&.x-center{left:50%;transform:scale(0.9) translateX(-50%);&.is-open{transform:scale(1) translateX(-50%);}}&.is-downward{top:100%;bottom:initial;}&.is-upward{top:initial;bottom:100%;}&.arrowed{margin-top:0.75em;margin-bottom:0.75em;&.x-left.x-arrow-based{left:50%;margin-left:-14px;}&.x-right.x-arrow-based{left:initial;right:50%;margin-right:-14px;}}.arrow{position:absolute;top:0;left:calc(50% - 0.5em);width:1em;height:0.375em;font-size:14px;line-height:0;fill:currentColor;fill-rule:evenodd;color:#fff;svg{position:absolute;width:auto;height:5px;transform:translateY(-100%);}}&.dark .arrow{color:rgba(30,41,46,.9);}&.x-left .arrow{left:0.5em;right:initial;}&.x-right .arrow{left:initial;right:0.5em;}&.is-upward .arrow{transform:rotate(180deg);top:initial;bottom:0;}.content{padding:0.75em 0.5em;min-height:32px;background-color:#fff;border-radius:4px;}&.dark .content{background-color:rgba(30,41,46,.9);color:#fff;}ul.MenuList{margin:0;padding:0;list-style:none;text-align:center;color:#5b6b73;li{line-height:32px;border-radius:2px;cursor:pointer;&:not(.is-disabled):hover{background-color:#f6f7f8;}&.is-active{color:#298df8;}&.is-disabled{cursor:not-allowed;opacity:0.5;}}}"]),$=Y.Ay.div.withConfig({displayName:"styled__StyledDropDownBase",componentId:"sc-665wv9-2"})(["position:fixed;z-index:1100;pointer-events:none;"]);var V=n(57464);function _(D,c,G){return(c=C(c))in D?Object.defineProperty(D,c,{value:G,enumerable:!0,configurable:!0,writable:!0}):D[c]=G,D}function C(D){var c=y(D,"string");return typeof c=="symbol"?c:c+""}function y(D,c){if(typeof D!="object"||!D)return D;var G=D[Symbol.toPrimitive];if(G!==void 0){var W=G.call(D,c||"default");if(typeof W!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(D)}const x="IBOT_DROPDOWN_MENU_ROOT",g=document.getElementById(x)||Object.assign(document.createElement("div"),{id:x}),v=document.body;v.contains(g)||v.appendChild(g);class b extends k.PureComponent{constructor(){super(...arguments),_(this,"state",{prevProps:this.props,isOpen:this.props.isOpen,$opener:null,currentMenuListItemIdx:this.props.currentMenuListItemIdx}),_(this,"leaveTimeoutList",[]),_(this,"createMenuRef",c=>this.$menuRef=c),_(this,"toggle",c=>this.setState({isOpen:p()(c)?c:!this.state.isOpen})),_(this,"open",()=>this.toggle(!0)),_(this,"close",()=>this.toggle(!1)),_(this,"onMouseEnter",()=>{const{shouldOpenOnHover:c}=this.props;c&&(clearTimeout(this.closeTimeout),Object.assign(this,{hoverTimeout:setTimeout(this.open,this.props.hoverDelay)}))}),_(this,"onMouseLeave",()=>{const{shouldOpenOnHover:c}=this.props;c&&clearTimeout(this.hoverTimeout)}),_(this,"onMouseMove",c=>{var G;let{clientX:W,clientY:oe}=c;const{shouldOpenOnHover:f,hoverDelay:A,hoverCloseDelay:te}=this.props,{$opener:le}=this.state;if(!f)return;clearTimeout(this.hoverTimeout);const ie=document.elementFromPoint(W,oe),q=!le.contains(ie),we=!((G=this.$menuRef)!=null&&(G=G.menuBaseRef)!=null&&(G=G.current)!=null&&G.contains(ie));we?q&&we&&this.leaveTimeoutList.push(setTimeout(this.close,te!==void 0?te:Math.max(A,300))):(this.leaveTimeoutList.map(clearTimeout),Object.assign(this,{leaveTimeoutList:[]}))}),_(this,"set$opener",c=>this.setState({$opener:c})),_(this,"onSelect",c=>{let{currentTarget:G}=c;const{menuList:W,onSelect:oe,shouldCloseOnSelect:f}=this.props;if(typeof oe!="function")return;const A=G.dataset.idx,te=W[A],le=typeof te=="string"?te:te&&te.value;oe(A,le),this.setState({currentMenuListItemIdx:A}),f&&this.close()})}static getDerivedStateFromProps(c,G){let{prevProps:W,isOpen:oe}=G;return d()(c,W)?null:p()(c.isOpen)?{prevProps:c,isOpen:c.isOpen}:{prevProps:c}}componentDidUpdate(c,G){let{isOpen:W}=G;const{onOpen:oe,onClose:f,onToggle:A}=this.props,{isOpen:te}=this.state;W!==te&&(te?(oe(),A(!0)):(f(),A(!1)))}render(){const{className:c,opener:G,openerType:W,openerClassName:oe,shouldCloseOnClickOutside:f}=this.props,{isOpen:A,$opener:te,currentMenuListItemIdx:le}=this.state,ie=this.props.isDisabled||this.props.disabled,q=(0,j.Hn)(["Dropdown",A&&"is-open",ie&&"is-disabled",c]),we={onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseEnter,disabled:ie,className:oe};return(0,V.jsxs)(pe,{ref:this.set$opener,className:q,children:[W!=="button"&&(0,k.isValidElement)(G)?(0,k.cloneElement)(G,we):(0,V.jsx)("button",{type:"button",...we,children:G}),(0,V.jsx)(N,{ref:this.createMenuRef,...this.props,isOpen:A,$opener:te,onSelect:this.onSelect,onClose:this.close,shouldCloseOnClickOutside:f,currentMenuListItemIdx:le}),A&&(0,V.jsx)(P.A,{target:document,onMouseMove:this.onMouseMove})]})}}_(b,"positionMenu",ae),_(b,"propTypes",{isOpen:T().bool,mode:T().oneOf(["light","dark"]),opener:T().node,openerType:T().oneOf(["button","custom"]),className:T().string,portalClassName:T().string,menuBaseClassName:T().string,openerClassName:T().string,menuClassName:T().string,menuBaseStyle:T().shape({top:T().number,right:T().number,bottom:T().number,width:T().number,height:T().number}),menu:T().node,menuList:T().arrayOf(T().oneOfType([T().node,T().shape({label:T().node,value:T().any,isDisabled:T().bool})])),currentMenuListItemIdx:T().oneOfType([T().number,T().string]),shouldPreventScrollingPropagation:T().bool,shouldOpenOnHover:T().bool,shouldCloseOnClickOutside:T().bool,hoverDelay:T().oneOfType([T().number,T().string]),hoverCloseDelay:T().oneOfType([T().number,T().string]),arrowed:T().bool,inflexible:T().bool,menuX:T().oneOf(["left","center","right"]),menuY:T().oneOf(["top","bottom"]),menuBasedX:T().bool,isDisabled:T().bool,disabled:T().bool,onSelect:T().func,shouldCloseOnSelect:T().bool,onOpen:T().func.isRequired,onClose:T().func.isRequired,onToggle:T().func.isRequired}),_(b,"defaultProps",{arrowed:!1,openerType:"button",mode:"light",shouldPreventScrollingPropagation:!0,shouldCloseOnSelect:!0,shouldOpenOnHover:!1,shouldCloseOnClickOutside:!0,hoverDelay:200,menuX:"center",menuY:"bottom",inflexible:!1,menuBasedX:!1,onOpen:()=>null,onClose:()=>null,onToggle:()=>null});class N extends k.PureComponent{constructor(){super(...arguments),_(this,"state",{isDownward:this.props.position==="bottom"}),_(this,"portal",(0,j.ep)(g,(0,j.Hn)(["DropdownMenuPortal",this.props.portalClassName]))),_(this,"menuBaseRef",(0,k.createRef)()),_(this,"onResizeWindow",()=>this.props.isOpen&&this.position()),_(this,"onClickOutside",c=>{let{target:G}=c;const{$opener:W,onClose:oe,shouldCloseOnClickOutside:f}=this.props;if(!f)return;const A=!g.contains(G),te=G.closest("label"),le=te&&te.contains(W),ie=!!(0,j.$)(".SelectMenu.is-open");A&&!le&&!ie&&oe()}),_(this,"position",()=>{const{$opener:c,menuX:G,menuY:W,menuBaseStyle:oe,inflexible:f}=this.props,{menuBaseRef:{current:A}}=this,{isDownward:te}=ae({$menuBase:A,$opener:c,menuX:G,menuY:W,menuBaseStyle:oe,inflexible:f});this.setState({isDownward:te})})}componentDidMount(){const{isOpen:c,shouldPreventScrollingPropagation:G}=this.props,{menuBaseRef:{current:W}}=this;c&&setTimeout(this.position),G&&(0,j.sA)((0,j.$)(".content",W)),window.addEventListener("resize",this.onResizeWindow)}componentDidUpdate(c){let{isOpen:G}=c;const{isOpen:W}=this.props;!G&&W&&this.position()}componentWillUnmount(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.onResizeWindow)}render(){const{portal:c,menu:G}=this;return(0,X.createPortal)(G,c)}get menu(){const{isOpen:c,mode:G,menuBaseClassName:W,menuClassName:oe,menu:f,menuList:A,arrowed:te,menuX:le,menuBasedX:ie,currentMenuListItemIdx:q,onSelect:we}=this.props,{isDownward:Fe}=this.state,Ve=(0,j.Hn)(["DropdownMenu",G,c&&"is-open",Fe?"is-downward":"is-upward","x-"+le,te&&"arrowed "+(ie?"x-menu-based":"x-arrow-based"),oe]);return(0,V.jsx)($,{ref:this.menuBaseRef,className:(0,j.Hn)(["DropdownMenuBase",W]),children:(0,V.jsxs)(U,{className:Ve,children:[te&&(0,V.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:j.t4.mr}}),(0,V.jsx)("div",{className:"content",children:A?(0,V.jsx)("ul",{className:"MenuList",children:A.map((Ee,je)=>(0,V.jsx)("li",{role:"option","data-idx":je,className:(0,j.Hn)([Ee.isDisabled&&"is-disabled",je===Number(q)&&"is-active"]),onClick:Ee.isDisabled?void 0:we,children:Ee.label||Ee},je))}):f}),c&&(0,V.jsx)(P.A,{target:document,onClick:(0,P.t)(this.onClickOutside,{capture:!0})}),c&&(0,V.jsx)(P.A,{target:document,onScroll:(0,P.t)(this.position,{capture:!0})})]})})}}_(N,"propTypes",{...b.propTypes,isOpen:T().bool,$opener:T().instanceOf(Element),onSelect:T().func,onClose:T().func})},22379:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>ae});var s=n(51044),p=n(66748),M=n.n(p),d=n(23485),k=n(28149),X=n(21676);const H=X.Ay.span.withConfig({displayName:"styled__StyledEllipsis",componentId:"sc-z4nkzm-0"})(["null"]);var T=n(57464);function P(Y,pe,U){return(pe=j(pe))in Y?Object.defineProperty(Y,pe,{value:U,enumerable:!0,configurable:!0,writable:!0}):Y[pe]=U,Y}function j(Y){var pe=R(Y,"string");return typeof pe=="symbol"?pe:pe+""}function R(Y,pe){if(typeof Y!="object"||!Y)return Y;var U=Y[Symbol.toPrimitive];if(U!==void 0){var $=U.call(Y,pe||"default");if(typeof $!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(pe==="string"?String:Number)(Y)}class ae extends s.PureComponent{constructor(){var pe;super(...arguments),pe=this,P(this,"state",{isTruncated:!1,isDetected:!1}),P(this,"set$ellipsis",U=>Object.assign(this,{$ellipsis:U.current})),P(this,"detectTruncation",function(U){return U===void 0&&(U=pe.$ellipsis),U.offsetWidth<U.scrollWidth})}componentDidMount(){return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}componentDidUpdate(pe){let{children:U}=pe;const{children:$}=this.props,{isDetected:V}=this.state;if(U!==$)return this.setState({isDetected:!1});if(!V)return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}render(){const{className:pe,to:U,type:$,max:V,display:_,lang:C,theme:y,noTooltip:x,withTooltip:g,withQuote:v,withPeriod:b,withComma:N,withQuestionMark:D,children:c,...G}=this.props,{isTruncated:W,isDetected:oe}=this.state,f={children:c},A=oe&&(W?"is-truncated":"isnt-truncated"),te={type:U?"link":"inline",theme:y,className:(0,k.Hn)(["Ellipsis",A,pe,(v||b||N||D)&&"Punctuation",v&&"with-quote",b&&"with-period",N&&"with-comma",D&&"with-question-mark"]),href:U,"data-type":$,"data-max":V,style:{display:_,maxWidth:isFinite(V)?V+"em":V},content:(g||W)&&!x&&(0,T.jsx)("div",{lang:C,className:"EllipsisTip",...f}),children:c,setRef:this.set$ellipsis,...G},le=(0,T.jsx)(d.A,{...te});return v||b||N||D?(0,T.jsx)(H,{className:(0,k.Hn)(["Punctuation",v&&"with-quote",b&&"with-period",N&&"with-comma",D&&"with-question-mark",A]),children:le}):le}}P(ae,"propTypes",{className:M().string,theme:M().oneOf(["core","plain"]),type:M().oneOf(["user","id","email","org","team","app","widget"]),max:M().oneOfType([M().string,M().number]),display:M().oneOf(["inline-block","block"]),lang:M().string,to:M().string,children:M().node,noTooltip:M().bool,withTooltip:M().bool,withQuote:M().bool,withComma:M().bool,withPeriod:M().bool,withQuestionMark:M().bool}),P(ae,"defaultProps",{lang:"en",theme:"core"})},99739:(Ne,de,n)=>{"use strict";n.d(de,{eB:()=>f,Ay:()=>oe});var s=n(51044),p=n(60185),M=n(66748),d=n.n(M),k=n(480),X=n(60260),H=n.n(X),T=n(77017),P=n.n(T),j=n(98236),R=n.n(j),ae=n(17956),Y=n.n(ae),pe=n(90503),U=n(22379),$=n(28149),V=n(29584),_=n(21676);const C=_.Ay.label.withConfig({displayName:"styles__StyledSelectLabel",componentId:"sc-grbgid-0"})(["display:inline-flex;justify-content:space-between;align-items:center;max-width:100%;min-width:3em;height:34px;color:#5b6b73;cursor:pointer;transition:all 0.2s ease-out;button{flex:1;width:calc(100% - 2em);height:100%;text-align:start;cursor:inherit;}.caret{margin:0 0.75em 0 1em;line-height:0;color:#8d9ea7;svg{display:block;width:6px;height:4px;fill:currentColor;fill-rule:evenodd;transform:rotate(180deg);transition:all 0.3s ease-out;}}&:not(.unstyled){padding-left:.5em;background-color:#f6f7f8;border:1px solid #f2f2f3;border-radius:2px;}&.small{height:22px;font-size:12px;.caret{margin-right:0.5em;}}&:not(.is-disabled):not(.readonly):not(.unstyled):hover,&:not(.unstyled).is-open{border-color:#298df8;}&.is-open{&:not(.unstyled){background-color:#fff;box-shadow:0 0 6px 0 rgba(41,141,248,.5);}.caret svg{transform:rotate(0deg);}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default}&.CoreSelect:not(.unstyled){background-color:#fff;border:1px solid #c8cdd1;}"]),y=_.Ay.div.withConfig({displayName:"styles__StyledSelectMenuBase",componentId:"sc-grbgid-1"})(["position:fixed;pointer-events:none;z-index:1100;"]),x=_.Ay.ul.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-grbgid-2"})(["position:absolute;margin:2px 0;padding:0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;pointer-events:none;font-size:12px;list-style:none;background-color:#fff;border-radius:3px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#5b6b73;transition:0.2s ease-out;transition-property:transform,opacity;transform-origin:50% 0;&::-webkit-scrollbar{display:block;width:4px;height:4px;}&::-webkit-scrollbar-thumb{background-color:#ccc;border-radius:2px;}&::-webkit-scrollbar-track{background-color:rgba(255,255,255,0.5);}&.is-empty{width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.x-center{left:50%;transform:translateX(-50%);&:not(.is-open){transform:scale(0.8) translateX(-50%);}}&.x-right{right:0;}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;}&.cant-select .SelectOption{cursor:default;}.SelectGroup{> .title{padding:0 0.75em;width:100%;height:30px;line-height:30px;font-weight:bold;}> ul{margin:0;padding:0;}}.SelectOption{display:flex;align-items:center;height:30px;line-height:30px;cursor:pointer;> .Ellipsis{padding:0 0.75em;}> .svg-icon{margin-left:auto;margin-right:0.75em;&.check path{fill:#5b6b73;}}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#298df8;}&:not(.empty-msg):not(.is-disabled):hover,&.is-active{background-color:#f6f7f8;}&.empty-msg{padding:0 0.5em;color:#8d9ea7;cursor:not-allowed;}}&.CheckSelectMenu{&:not(.is-empty){padding:6px 0;}.SelectOption{height:32px;.Ellipsis{padding:0 16px;}.Ellipsis + .icon{margin-right:10px;}&:hover,&.is-active:hover{color:#298df8;}&.is-active{background:none;color:inherit;}}}&.CoreSelectMenu{margin:4px 0;&:not(.is-empty){padding:8px;min-height:48px;max-height:336px;}.SelectGroup > .title,.SelectOption{height:32px;line-height:32px;border-radius:2px;}}"]);var g=n(57464);function v(le,ie,q){return(ie=b(ie))in le?Object.defineProperty(le,ie,{value:q,enumerable:!0,configurable:!0,writable:!0}):le[ie]=q,le}function b(le){var ie=N(le,"string");return typeof ie=="symbol"?ie:ie+""}function N(le,ie){if(typeof le!="object"||!le)return le;var q=le[Symbol.toPrimitive];if(q!==void 0){var we=q.call(le,ie||"default");if(typeof we!="object")return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ie==="string"?String:Number)(le)}const D="IBOT_SELECT_MENU_ROOT",c={"zh-CN":{select_placeholder:"\u9009\u62E9\u4E00\u4E2A...",select_empty_msg:"\u6682\u65E0\u5185\u5BB9..."},en:{select_placeholder:"Choose one\u2026",select_empty_msg:"Nothing to display\u2026"}},G=document.getElementById(D)||Object.assign(document.createElement("div"),{id:D}),W=document.body;W.contains(G)||W.appendChild(G);class oe extends s.PureComponent{constructor(){super(...arguments),v(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),v(this,"set$select",ie=>this.setState({$select:ie})),v(this,"open",()=>this.setState({isOpen:!0})),v(this,"close",()=>this.setState({isOpen:!1})),v(this,"toggle",()=>this.setState({isOpen:!this.state.isOpen})),v(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),v(this,"onChange",async ie=>{const{onChange:q,beforeOnChange:we}=this.props,Fe=()=>{this.close(),q(ie)};if(!we){this.setState({value:ie},Fe);return}if(await we(ie)){this.setState({value:ie},Fe);return}Fe()}),v(this,"onSelect",async ie=>{let{currentTarget:q}=ie;const{value:we}=this.props,{canSelect:Fe}=this;await this.onChange(Fe?q.dataset.value:we)})}static getDerivedStateFromProps(ie,q){let{prevProps:we,value:Fe}=q;return R()(we,ie)?null:{prevProps:ie,value:ie.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}componentWillUnmount(){window.removeEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:ie,disabled:q}=this.props;return ie||q}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:ie,readOnly:q}=this;return!ie&&!q}get displayText(){const{optionList:ie,placeholder:q,optionLabelProp:we}=this.props,{value:Fe}=this.state,Ee=(ie.find(je=>P()(je)&&je.slice(0).some(tt=>(0,$.o3)(tt,Fe)))||ie).find(je=>!P()(je)&&(0,$.o3)(je,Fe));return Ee?(0,$.Oi)(Ee,we):q||c[this.props.lang].select_placeholder}render(){const{size:ie,theme:q,unstyled:we,className:Fe,menuX:Ve}=this.props,{isOpen:Ee,$select:je,value:tt}=this.state,{isDisabled:Oe,readOnly:J,canSelect:Z}=this,me=(0,$.Hn)([q==="core"?"CoreSelect":"Select",ie,we&&"unstyled",Fe,Ee&&"is-open",Oe&&"is-disabled",J&&"readonly"]);return(0,g.jsxs)(C,{className:me,role:"listbox",ref:this.set$select,children:[(0,g.jsx)("button",{type:"button",onClick:this.toggle,disabled:Oe,children:(0,g.jsx)(U.A,{children:this.displayText})}),typeof this.props.arrowSvg=="string"?(0,g.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:this.props.arrowSvg}}):(0,g.jsx)("span",{className:"caret",children:this.props.arrowSvg}),(0,g.jsx)(f,{isOpen:Ee,...this.props,value:tt,$select:je,canSelect:Z,onChange:this.onSelect,onClose:this.close,menuX:Ve})]})}}v(oe,"propTypes",{size:d().oneOf(["regular","small"]),theme:d().oneOf(["core","plain"]),menuTheme:d().oneOf(["core","plain","check"]),unstyled:d().bool,className:d().string,menuClassName:d().string,lang:d().string,placeholder:d().string,optionList:d().arrayOf(d().oneOfType([d().node,d().shape({label:d().node,value:d().any,isDisabled:d().bool}),d().arrayOf(d().oneOfType([d().node,d().shape({label:d().node,value:d().any,isDisabled:d().bool})]))])).isRequired,value:d().oneOfType([d().number,d().string]),isDisabled:d().bool,disabled:d().bool,readOnly:d().bool,onChange:d().func,menuX:d().oneOf(["left","center","right"]),optionLabelProp:d().string,arrowSvg:d().oneOfType([d().string,d().node])}),v(oe,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",lang:"zh-CN",optionList:[],isDisabled:!1,onChange:()=>null,menuX:"left",arrowSvg:$.t4.rH});class f extends s.PureComponent{constructor(){super(...arguments),v(this,"state",{isDownward:!0}),v(this,"portal",(0,$.ep)(G,"SelectMenuPortal")),v(this,"menuBaseRef",(0,s.createRef)()),v(this,"position",ie=>{const{$select:q,menuX:we}=this.props,{menuBaseRef:{current:Fe}}=this;if(ie){const Ee=H()(ie,"target");if(Ee&&Y()(Ee)&&Ee.matches(".SelectMenu"))return}const{isDownward:Ve}=(0,V.d)({$menuBase:Fe,$opener:q,menuX:we,shouldSetMaxHeight:!0});this.setState({isDownward:Ve})}),v(this,"onChange",ie=>{const{onChange:q}=this.props,{isDownward:we}=this.state,Fe=ie.currentTarget,Ve=Fe.closest(".SelectMenu, .CoreSelectMenu, .CheckSelectMenu");if(!Fe||!Ve)return this.onlose();const{top:Ee,bottom:je}=Fe.getBoundingClientRect(),{top:tt,bottom:Oe}=Ve.getBoundingClientRect();return we&&Ee>=tt||!we&&je<=Oe?Fe.classList.contains("title")?void 0:q(ie):this.onClose()}),v(this,"onClose",()=>{const{onClose:ie}=this.props;ie()}),v(this,"scrollIntoActive",()=>{const{menuBaseRef:{current:ie}}=this,q=(0,$.$)("li[role=option].is-active",ie);q&&q.scrollIntoView({block:"start"})}),v(this,"onClickOutside",ie=>{let{target:q}=ie;const{$select:we}=this.props,Fe=!G.contains(q),Ve=q.closest("label"),Ee=Ve&&Ve.contains(we);Fe&&!Ee&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:ie}}=this;(0,$.sA)((0,$.$)(".SelectMenu",ie))}componentDidUpdate(ie){let{isOpen:q}=ie;const{isOpen:we}=this.props;!q&&we&&(this.position(),this.scrollIntoActive())}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,p.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:ie,isDisabled:q,menuTheme:we,menuClassName:Fe,menuX:Ve,optionList:Ee,lang:je,emptyMsg:tt,value:Oe,canSelect:J}=this.props,{isDownward:Z}=this.state,me=Ee.length===0,Ce=(0,$.Hn)([we==="core"?"CoreSelectMenu":we==="check"?"CheckSelectMenu":"SelectMenu",Fe,"x-"+Ve,ie&&"is-open",Z?"is-downward":"is-upward",q&&"is-disabled",me&&"is-empty",J?"can-select":"cant-select"]);return(0,g.jsx)(y,{ref:this.menuBaseRef,className:"SelectMenuBase",children:(0,g.jsxs)(x,{className:Ce,onTransitionEnd:this.onTransitionEnd,children:[me?(0,g.jsx)("li",{className:"SelectOption empty-msg",children:tt||c[je].select_empty_msg}):Ee.map((ke,Ye)=>P()(ke)?(0,g.jsx)(A,{menuTheme:we,optionList:ke,value:Oe,onChange:this.onChange},Ye):(0,g.jsx)(te,{menuTheme:we,isActive:(0,$.o3)(ke,Oe),option:ke,isDisabled:ke.isDisabled,onChange:this.onChange},Ye)),ie&&(0,g.jsx)(k.A,{target:document,onClick:(0,k.t)(this.onClickOutside,{capture:!0})}),ie&&(0,g.jsx)(k.A,{target:document,onScroll:(0,k.t)(this.position,{capture:!0})})]})})}}v(f,"propTypes",{...oe.propTypes,isOpen:d().bool,canSelect:d().bool,onChange:d().func,onClose:d().func,$select:d().instanceOf(Element)}),v(f,"defaultProps",{isOpen:!1});function A(le){let{value:ie,optionList:[q,...we],menuTheme:Fe,onChange:Ve}=le;return(0,g.jsxs)("li",{className:"SelectGroup",children:[(0,g.jsx)(U.A,{className:"title",onClick:Ve,children:q}),(0,g.jsx)("ul",{children:we.map((Ee,je)=>(0,g.jsx)(te,{menuTheme:Fe,option:Ee,isActive:(0,$.o3)(Ee,ie),isDisabled:Ee.isDisabled,onChange:Ve},je))})]})}A.propTypes={optionList:d().array,onChange:d().func,menuTheme:d().string,value:d().string};function te(le){let{option:ie,isActive:q,isDisabled:we,menuTheme:Fe,onChange:Ve}=le;const Ee=(0,$.Hn)(["SelectOption",q&&"is-active",we&&"is-disabled"]),je=(0,$.Oi)(ie),tt=(0,$.nE)(ie);return(0,g.jsxs)("li",{role:"option","data-value":tt,className:Ee,onClick:we?void 0:Ve,children:[(0,g.jsx)(U.A,{children:je}),Fe==="check"&&q&&(0,g.jsx)(pe.A,{name:"check"})]})}te.propTypes={option:d().oneOfType([d().node,d().object]),isActive:d().bool,isDisabled:d().bool,menuTheme:d().string,onChange:d().func}},10481:(Ne,de,n)=>{"use strict";n.d(de,{eB:()=>je,Ay:()=>Ee});var s=n(51044),p=n(60185),M=n(66748),d=n.n(M),k=n(480),X=n(60260),H=n.n(X),T=n(77017),P=n.n(T),j=n(98236),R=n.n(j),ae=n(17956),Y=n.n(ae),pe=n(22379),U=n(28149),$=n(67231),V=n.n($),_=n(68431),C=n.n(_);const y=9;function x(J){let{$opener:Z,$menuBase:me,menuBaseStyle:Ce={},inflexible:ke=!1,shouldSetMaxHeight:Ye=!1,$menuContainer:Me,$fontTip:Ie}=J;if(!Z||!me)return;const Je=me.querySelector("*"),yt=((0,U.$)("li[role=option].is-active",Je)||(0,U.$)("li[role=option]",Je)||(0,U.$)("li[role=empty-msg]",Je)).getBoundingClientRect(),xt=Je.getBoundingClientRect(),bt={styleFor$menuBase:{},styleFor$menu:{},styleFor$menuContainer:{},styleFor$fontTip:{}},wt=tn=>Object.assign(bt.styleFor$menuBase,tn),i=tn=>Object.assign(bt.styleFor$menu,tn),ue=tn=>Object.assign(bt.styleFor$menuContainer,tn),ve=tn=>Object.assign(bt.styleFor$fontTip,tn),{offsetHeight:Le}=Je,Ge=Ce.width||Z.offsetWidth,qe=Ce.height||Z.offsetHeight,ut=Z.getBoundingClientRect(),{top:It,bottom:Ft,left:Gt}=Object.assign({top:ut.top,right:ut.right,bottom:ut.bottom,left:ut.left},Ce);wt({top:It+"px",left:Gt+"px",width:Ge+"px",height:qe+"px"});const{innerHeight:Zt}=window,Rn=10,dn=Zt-10,In=It+qe;let un=0,En=0;const mn=(yt.top-xt.top)/.8;G(xt,yt)?un=-Math.min(mn,It):(En=yt.bottom/.8-xt.bottom/.8,un=-mn+En);let jn=0;return Ie&&(jn=Ie.getBoundingClientRect().height),In+Le+y+un+jn<Zt?(bt.isDownward=!0,G(xt,yt)?(ue({top:un+"px"}),Ie&&ve({top:un+xt.height/.8+"px",width:xt.width/.8+"px"})):(ue({top:un+"px"}),Me.scrollTop=En,Ie&&ve({top:un+xt.height/.8+"px",width:xt.width/.8+"px"})),Ye&&Ft+Le>dn&&i({maxHeight:dn-Ft+"px"})):(bt.isDownward=!1,Ye&&It-Le<Rn&&i({maxHeight:It-Rn+"px"})),Object.assign(me.style,bt.styleFor$menuBase),Object.assign(Je.style,bt.styleFor$menu),Object.assign(Me.style,bt.styleFor$menuContainer),Ie&&Object.assign(Ie.style,bt.styleFor$fontTip),bt}function g(J,Z){return C()(J)||V()(J)||(0,s.isValidElement)(J)?J:J[Z||"label"]?J[Z||"label"]:void 0}function v(J){return C()(J)||V()(J)?String(J):J.value||J.label?String(J.value||J.label):void 0}function b(J){return C()(J)||V()(J)?String(J):J.ItemIcon?String(J.ItemIcon):void 0}function N(J){return C()(J)||V()(J)?String(J):J.shortcutKey?String(J.shortcutKey):void 0}function D(J,Z){return!!Z&&v(J)===String(Z)}const c='<svg width="10" height="10" ><path d="M5 5.255l1.87-2.043a.623.623 0 0 1 .936 0 .77.77 0 0 1 0 1.022L5.468 6.788a.623.623 0 0 1-.936 0L2.194 4.234a.77.77 0 0 1 0-1.022.623.623 0 0 1 .935 0L5 5.255z" /></svg>';function G(J,Z){return Z.top/.8>=J.top/.8&&Z.bottom/.8<=J.bottom/.8}var W=n(21676);const oe=W.Ay.label.withConfig({displayName:"styles__StyledSelect",componentId:"sc-tgxfzg-0"})(["position:relative;display:inline-flex;align-items:center;max-width:100%;min-width:3em;height:28px;font-size:12px;color:#5b6b73;cursor:pointer;button{display:block;height:100%;color:#1F292E;text-align:start;cursor:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:8px;line-height:26px;}.caret{padding:0 11px;color:#7D8694;height:100%;display:inline-flex;align-items:center;svg{width:10px;height:10px;fill:currentColor;transition:transform 0.2s ease-out;}}&{padding-left:5px;border:1px solid transparent;border-radius:2px;}&.is-open{border-color:transparent;.caret{margin-left:auto;visibility:visible;svg{transform:rotate(180deg);}}}&:not(.is-disabled):not(.readonly):hover{border:1px solid transparent;.caret{padding:0 11px;}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default;}"]),f=W.Ay.div.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-tgxfzg-1"})(["position:fixed;pointer-events:none;z-index:1100;.WorkspaceSelectMenu{position:absolute;padding:8px 0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;list-style:none;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);color:#fff;border-radius:2px;background-color:#1f292e;pointer-events:all;transition-property:transform,opacity;transform-origin:50% 0;margin:0;&::-webkit-scrollbar{display:block;width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.25);border-radius:4px;&:hover{background-color:rgba(255,255,255,0.30);}}&::-webkit-scrollbar-track{background-color:rgba(#fff,0.5);}&.is-empty{width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;border-radius:4px;background-color:#333;width:160px;padding:8px 0px;}> .divider{border-bottom:1px solid rgba(255,255,255,.1);margin:5px;}.SelectOption{display:flex;align-items:center;height:24px;line-height:24px;cursor:pointer;font-size:12px;font-weight:400;& > .Ellipsis{padding:0 16px 0 32px;min-width:160px;}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#fff;mix-blend-mode:normal;position:relative;}.shortcutkey{color:#999;float:right;}.svg-icon3 svg{color:#f2f4f5;width:12px;height:12px;position:relative;top:2px;}&.is-active .svg-icon2 svg{width:8px;height:6px;position:absolute;left:12px;top:9px;}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:#666;color:#fff;}&.empty-msg{padding:0 0.5em;color:#8d9ea6;cursor:not-allowed;}}&.cant-select .SelectOption{cursor:default;}.SelectGroup{.divider{height:1px;margin:4px 16px;background:#7d8694;}& > .title{font-size:12px;padding:0 8px 0 16px;width:100%;height:30px;line-height:30px;color:rgba(255,255,255,0.7);span{display:block;}}& > ul{margin:0;padding:0;}}}.font-select-menu-tip{position:absolute;margin-top:-1px;padding:8px 16px;font-size:10px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#fff;background-color:#1f292e;border-radius:0 0 2px 2px;pointer-events:auto;transition:opacity 0.2s ease-in;.font-link{color:#fff;margin-left:10px;text-decoration:underline;}&:not(.is-show){opacity:0;}&.is-show{opacity:1;color:rgba(255,255,255,1);}}"]);var A=n(90503),te=n(57464);function le(J,Z,me){return(Z=ie(Z))in J?Object.defineProperty(J,Z,{value:me,enumerable:!0,configurable:!0,writable:!0}):J[Z]=me,J}function ie(J){var Z=q(J,"string");return typeof Z=="symbol"?Z:Z+""}function q(J,Z){if(typeof J!="object"||!J)return J;var me=J[Symbol.toPrimitive];if(me!==void 0){var Ce=me.call(J,Z||"default");if(typeof Ce!="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Z==="string"?String:Number)(J)}const we="IBOT_SELECT_MENU_ROOT",Fe=document.getElementById(we)||Object.assign(document.createElement("div"),{id:we}),Ve=document.body;Ve.contains(Fe)||Ve.appendChild(Fe);class Ee extends s.PureComponent{constructor(){super(...arguments),le(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),le(this,"set$select",Z=>this.setState({$select:Z})),le(this,"open",()=>this.setState({isOpen:!0})),le(this,"close",()=>this.setState({isOpen:!1})),le(this,"toggle",()=>{const Z=!this.state.isOpen;this.setState({isOpen:Z}),Z?this.props.onOpen():this.props.onClose()}),le(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),le(this,"onChange",Z=>this.setState({value:Z},()=>{this.close(),this.props.onChange(Z,this.props.attr)})),le(this,"onSelect",Z=>{let{currentTarget:me}=Z;const{value:Ce}=this.props,{canSelect:ke}=this;return this.onChange(ke?me.dataset.value:Ce)})}static getDerivedStateFromProps(Z,me){let{prevProps:Ce,value:ke}=me;return R()(Ce,Z)?null:{prevProps:Z,value:Z.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}componentWillUnmount(){window.removeEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:Z,disabled:me}=this.props;return Z||me}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:Z,readOnly:me}=this;return!Z&&!me}get displayText(){const{optionList:Z,placeholder:me,optionLabelProp:Ce}=this.props,{value:ke}=this.state,Me=(Z.find(Ie=>P()(Ie)&&Ie.slice(0).some(Je=>D(Je,ke)))||Z).find(Ie=>!P()(Ie)&&D(Ie,ke));return Me?g(Me,Ce):me}render(){const{size:Z,unstyled:me,className:Ce,onMouseEnter:ke,onMouseLeave:Ye,arrowSvg:Me}=this.props,{isOpen:Ie,$select:Je,value:st}=this.state,{isDisabled:yt,readOnly:xt,canSelect:bt}=this,wt=(0,U.Hn)(["WorkspaceSelect",Z,me&&"unstyled",Ce,Ie&&"is-open",yt&&"is-disabled",xt&&"readonly"]);return(0,te.jsxs)(oe,{className:wt,role:"listbox",ref:this.set$select,children:[(0,te.jsx)("button",{onClick:this.toggle,disabled:yt,children:this.displayText}),typeof Me=="string"?(0,te.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:Me}}):(0,te.jsx)("span",{className:"caret",children:Me}),Ie&&(0,te.jsx)(je,{isOpen:Ie,...this.props,value:st,$select:Je,canSelect:bt,onChange:this.onSelect,onMouseEnter:ke,onMouseLeave:Ye,onClose:this.close})]})}}le(Ee,"propTypes",{size:d().oneOf(["regular","small"]),theme:d().oneOf(["core","plain"]),menuTheme:d().oneOf(["core","plain","check"]),unstyled:d().bool,className:d().string,menuClassName:d().string,placeholder:d().string,optionList:d().arrayOf(d().oneOfType([d().node,d().shape({label:d().node,shortcutKey:d().node,tooltipWrapper:d().func,ItemIcon:d().node,value:d().any,isDisabled:d().bool}),d().arrayOf(d().oneOfType([d().node,d().shape({label:d().node,ItemIcon:d().node,value:d().any,shortcutKey:d().node,tooltipWrapper:d().func,isDisabled:d().bool})]))])).isRequired,value:d().oneOfType([d().number,d().string]),isDisabled:d().bool,disabled:d().bool,readOnly:d().bool,onChange:d().func,onMouseEnter:d().func,onMouseLeave:d().func,onOpen:d().func,onClose:d().func,optionLabelProp:d().string,arrowSvg:d().oneOfType([d().string,d().node])}),le(Ee,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",placeholder:"Choose one\u2026",emptyMsg:"Nothing to display\u2026",optionList:[],isDisabled:!1,arrowSvg:c,onChange:()=>null,onMouseEnter:()=>null,onMouseLeave:()=>null,onOpen:()=>null,onClose:()=>null});class je extends s.PureComponent{constructor(){super(...arguments),le(this,"state",{isDownward:!0}),le(this,"portal",(0,U.ep)(Fe,"SelectMenuPortal")),le(this,"menuBaseRef",(0,s.createRef)()),le(this,"menuContainerRef",(0,s.createRef)()),le(this,"position",Z=>{const{$select:me}=this.props,{menuBaseRef:{current:Ce},menuContainerRef:{current:ke}}=this;if(Z){const Me=H()(Z,"target");if(Me&&Y()(Me)&&Me.matches(".WorkspaceSelectMenu"))return}const{isDownward:Ye}=x({$menuBase:Ce,$opener:me,shouldSetMaxHeight:!1,$menuContainer:ke});this.setState({isDownward:Ye,isTransform:!0})}),le(this,"onChange",Z=>{const{onChange:me}=this.props,{isDownward:Ce}=this.state,ke=Z.currentTarget,Ye=ke.closest(".WorkspaceSelectMenu");if(!ke||!Ye)return this.onlose();const{top:Me,bottom:Ie}=ke.getBoundingClientRect(),{top:Je,bottom:st}=Ye.getBoundingClientRect();return Ce&&Me>=Je||!Ce&&Ie<=st?ke.classList.contains("title")?void 0:me(Z):this.onClose()}),le(this,"onClose",()=>{const{onClose:Z}=this.props;Z()}),le(this,"onClickOutside",Z=>{let{target:me}=Z;const{$select:Ce}=this.props,ke=!Fe.contains(me),Ye=me.closest("label"),Me=Ye&&Ye.contains(Ce);ke&&!Me&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:Z}}=this;(0,U.sA)((0,U.$)(".WorkspaceSelectMenu",Z)),this.position()}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,p.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:Z,isDisabled:me,menuTheme:Ce,menuClassName:ke,optionList:Ye,emptyMsg:Me,value:Ie,canSelect:Je,onMouseEnter:st,onMouseLeave:yt}=this.props,{isDownward:xt,isTransform:bt}=this.state,wt=Ye.length===0,i=(0,U.Hn)(["WorkspaceSelectMenu",ke,bt&&"is-open",xt?"is-downward":"is-upward",me&&"is-disabled",wt&&"is-empty",Je?"can-select":"cant-select"]);return(0,te.jsxs)(f,{ref:this.menuBaseRef,children:[(0,te.jsx)("ul",{className:i,ref:this.menuContainerRef,children:wt?(0,te.jsx)("li",{className:"SelectOption empty-msg",role:"empty-msg",children:Me}):Ye.map((ue,ve)=>P()(ue)?(0,te.jsx)(tt,{menuTheme:Ce,optionList:ue,value:Ie,onChange:this.onChange,onMouseEnter:st,onMouseLeave:yt},ve):(0,te.jsx)(Oe,{menuTheme:Ce,isActive:D(ue,Ie),option:ue,isDisabled:ue.isDisabled,onChange:this.onChange,onMouseEnter:st,onMouseLeave:yt},ve))}),Z&&(0,te.jsx)(k.A,{target:document,onClick:this.onClickOutside})]})}}le(je,"propTypes",{...Ee.propTypes,isOpen:d().bool,canSelect:d().bool,onChange:d().func,onClose:d().func,$select:d().instanceOf(Element)}),le(je,"defaultProps",{isOpen:!1,isTransform:!1});function tt(J){let{value:Z,optionList:[me,...Ce],menuTheme:ke,onChange:Ye,onMouseEnter:Me,onMouseLeave:Ie}=J;return(0,te.jsxs)("li",{className:"SelectGroup",children:[me==="HIDDELINE"?null:me==="DIVIDER"?(0,te.jsx)("div",{className:"divider"}):(0,te.jsx)(pe.A,{className:"title",onClick:Ye,children:me}),(0,te.jsx)("ul",{children:Ce.map((Je,st)=>(0,te.jsx)(Oe,{menuTheme:ke,option:Je,isActive:D(Je,Z),isDisabled:Je.isDisabled,onChange:Ye,onMouseEnter:Me,onMouseLeave:Ie},st))})]})}tt.propTypes={value:d().oneOfType([d().string,d().number]),optionList:d().array,onChange:d().func,menuTheme:d().string,onMouseEnter:d().func,onMouseLeave:d().func};function Oe(J){let{option:Z,isActive:me,isDisabled:Ce,menuTheme:ke,onChange:Ye,onMouseEnter:Me,onMouseLeave:Ie}=J;const Je=(0,U.Hn)(["SelectOption",me&&"is-active",Ce&&"is-disabled"]),st=g(Z),yt=v(Z),xt=b(Z),bt=N(Z),{tooltipWrapper:wt}=Z;if(Z.type==="divider")return(0,te.jsx)("li",{className:"divider"});const i=(0,te.jsxs)("li",{role:"option","data-value":yt,className:Je,onClick:Ce?void 0:Ye,onMouseEnter:Me,onMouseLeave:Ie,children:[me&&(0,te.jsx)("span",{className:"svg-icon2",children:(0,te.jsx)(A.A,{name:"select_right"})}),(0,te.jsxs)(pe.A,{children:[(0,te.jsxs)("span",{className:"svg-icon3",children:[(0,te.jsx)(A.A,{name:xt})," "]})," ",st,"  ",(0,te.jsxs)("span",{className:"shortcutkey",children:[bt," "]})]})]});return wt?wt(i):i}Oe.propTypes={isActive:d().bool,option:d().oneOfType([d().node,d().object]),isDisabled:d().bool,menuTheme:d().string,onChange:d().func,onMouseEnter:d().func,onMouseLeave:d().func}},11334:(Ne,de,n)=>{"use strict";n.d(de,{Ay:()=>U});var s=n(51044),p=n(66748),M=n.n(p),d=n(70235),k=n.n(d),X=n(90503),H=n(28149),T=n(21676);const P=T.Ay.button.withConfig({displayName:"styled__StyledButton",componentId:"sc-1p06iev-0"})(["&.RegularButton,&.PrimaryButton,&.PrimaryCoreButton,&.RegularCoreButton,&.SecondaryCoreButton,&.TertiaryCoreButton{padding:0 0.5em;height:2.125rem;font-size:0.875rem;border:1px solid;border-radius:2px;cursor:pointer;transition:all 0.2s ease-out;&:not(button){display:inline-flex;justify-content:center;align-items:center;}&:disabled{cursor:not-allowed;opacity:0.6;}.icon{margin-right:0.125em;}&.small{height:2em;font-size:0.75rem;}.svg-icon.loading{margin-right:0.5em;vertical-align:-.15em;animation:ibot-ani-spinning 1.5s infinite ease-out;}}&.PrimaryCoreButton,&.RegularCoreButton,&.SecondaryCoreButton,&.TertiaryCoreButton{padding:0 1em;height:2.375rem;&.small{height:2em;}&:disabled{background-color:#f6f7f8;border-color:#dedee4;color:#c8cdd1;opacity:1;}}&.PrimaryCoreButton{background-color:#eb5648;&,&:link,&:visited{border-color:transparent;color:#fff;}&:enabled:hover,a&:hover{background-color:#ef776c;color:#fff;}&:enabled:active,a&:active{background-color:#bc4439;color:#e4b4b0;}}&.RegularCoreButton,&.SecondaryCoreButton{background-color:#fff;&,&:link,&:visited{color:#eb5648;}&:enabled:hover,a&:hover{border-color:#ffa39e;color:#ef776c;}&:enabled:active,a&:active{border-color:#e84030;color:#bc4439;}}&.TertiaryCoreButton{background-color:#fff;border-color:#c8cdd1;&,&:link,&:visited{color:#415058;}&:enabled:hover,a&:hover{background-color:#8d9ea7;border-color:#7d8694;color:#fff;}&:enabled:active,a&:active{background-color:#5b6b73;border-color:#415058;}}&.RegularButton{&,&:link,&:visited{color:#8d9ea7;}&:enabled:hover,a&:hover{color:#5b6b73;}&:disabled{opacity:0.6;}}&.PrimaryButton{background-color:#8d9ea7;border-color:transparent;&,&:link,&:visited{color:#fff;}&:enabled:hover,a&:hover{background-color:#5b6b73;color:#fff;}&:enabled:active,a&:active{color:rgba(255,255,255,0.6);}}&.TextButton,&.TextCoreButton{transition:all 0.1s ease-out;&,&:link,&:visited{color:#298df8;}&:disabled{cursor:not-allowed;opacity:0.6;}&:enabled:hover,a&:hover{color:#0d7ef7;text-decoration:underline;}.svg-icon.loading{margin-right:0.25em;vertical-align:-.15em;animation:ibot-ani-spinning 1.5s infinite ease-out;}.icon{margin-right:0.125em;}&.small{height:2em;font-size:0.75rem;}}&.TextCoreButton{&,&:link,&:visited{color:#eb5648;}&:enabled:hover,a&:hover{color:#ef776c;text-decoration:none;}&:enabled:active,a&:active{color:#bc4439;}}"]);var j=n(57464);function R(C,y,x){return(y=ae(y))in C?Object.defineProperty(C,y,{value:x,enumerable:!0,configurable:!0,writable:!0}):C[y]=x,C}function ae(C){var y=Y(C,"string");return typeof y=="symbol"?y:y+""}function Y(C,y){if(typeof C!="object"||!C)return C;var x=C[Symbol.toPrimitive];if(x!==void 0){var g=x.call(C,y||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(C)}const pe={primary:"Primary",regular:"Regular",secondary:"Regular",tertiary:"Tertiary",text:"Text"};class U extends s.PureComponent{get className(){const{type:y,theme:x,size:g,className:v}=this.props,{isDisabled:b,isLoading:N}=this;return(0,H.Hn)(["Button",""+pe[y]+(x==="core"?"CoreButton":"Button"),g!=="regular"&&g,N&&"is-loading",b&&"is-disabled",v])}get isDisabled(){const{isDisabled:y,disabled:x}=this.props;return y||x}get isLoading(){const{isLoading:y,loading:x}=this.props;return y||x}render(){const{className:y,isLoading:x,isDisabled:g}=this,{iconType:v,icon:b,children:N,...D}=this.props;return(0,j.jsx)(P,{className:y,disabled:g,onClick:c=>g&&c.preventDefault(),type:"button",...k()(D,["className","type","theme","isDisabled","disabled","isLoading","loading"]),children:(0,j.jsxs)(j.Fragment,{children:[x&&(0,j.jsx)(X.A,{name:"loading"}),b&&v==="svg"&&(0,j.jsx)(X.A,{name:b}),N]})})}}R(U,"propTypes",{type:M().oneOf(["primary","regular","secondary","tertiary","text"]),size:M().oneOf(["regular","small"]),theme:M().oneOf(["core","plain"]),iconType:M().oneOf(["svg","dora","mb","icon","fa","md"]),icon:M().string,className:M().string,isDisabled:M().bool,disabled:M().bool,isLoading:M().bool,loading:M().bool,children:M().any,html:M().string}),R(U,"defaultProps",{type:"regular",size:"regular",theme:"plain",icon:"",className:"",isDisabled:!1});function $(C){return _jsx(U,{...C,theme:"core"})}function V(C){return _jsx($,{...C,type:"primary"})}function _(C){return _jsx($,{...C,type:"tertiary"})}},35736:function(Ne){(function(de,n){Ne.exports=n()})(this,function(){"use strict";return function(de,n,s){n.prototype.isBetween=function(p,M,d,k){var X=s(p),H=s(M),T=(k=k||"()")[0]==="(",P=k[1]===")";return(T?this.isAfter(X,d):!this.isBefore(X,d))&&(P?this.isBefore(H,d):!this.isAfter(H,d))||(T?this.isBefore(X,d):!this.isAfter(X,d))&&(P?this.isAfter(H,d):!this.isBefore(H,d))}}})},54466:function(Ne){(function(de,n){Ne.exports=n()})(this,function(){"use strict";return function(de,n){n.prototype.isSameOrBefore=function(s,p){return this.isSame(s,p)||this.isBefore(s,p)}}})},36410:Ne=>{function de(n,s,p,M){var d=-1,k=n==null?0:n.length;for(M&&k&&(p=n[++d]);++d<k;)p=s(p,n[d],d,n);return p}Ne.exports=de},38621:Ne=>{var de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function n(s){return s.match(de)||[]}Ne.exports=n},52304:Ne=>{function de(n){return function(s){return n==null?void 0:n[s]}}Ne.exports=de},48843:(Ne,de,n)=>{var s=n(36410),p=n(76628),M=n(83453),d="['\u2019]",k=RegExp(d,"g");function X(H){return function(T){return s(M(p(T).replace(k,"")),H,"")}}Ne.exports=X},84394:(Ne,de,n)=>{var s=n(25627);function p(M){return s(M)?void 0:M}Ne.exports=p},32575:(Ne,de,n)=>{var s=n(52304),p={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},M=s(p);Ne.exports=M},95416:(Ne,de,n)=>{var s=n(66202),p=n(61965),M=n(29513);function d(k){return M(p(k,void 0,s),k+"")}Ne.exports=d},49298:Ne=>{var de=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function n(s){return de.test(s)}Ne.exports=n},32921:Ne=>{var de="\\ud800-\\udfff",n="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",p="\\u20d0-\\u20ff",M=n+s+p,d="\\u2700-\\u27bf",k="a-z\\xdf-\\xf6\\xf8-\\xff",X="\\xac\\xb1\\xd7\\xf7",H="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",T="\\u2000-\\u206f",P=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",j="A-Z\\xc0-\\xd6\\xd8-\\xde",R="\\ufe0e\\ufe0f",ae=X+H+T+P,Y="['\u2019]",pe="["+ae+"]",U="["+M+"]",$="\\d+",V="["+d+"]",_="["+k+"]",C="[^"+de+ae+$+d+k+j+"]",y="\\ud83c[\\udffb-\\udfff]",x="(?:"+U+"|"+y+")",g="[^"+de+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",b="[\\ud800-\\udbff][\\udc00-\\udfff]",N="["+j+"]",D="\\u200d",c="(?:"+_+"|"+C+")",G="(?:"+N+"|"+C+")",W="(?:"+Y+"(?:d|ll|m|re|s|t|ve))?",oe="(?:"+Y+"(?:D|LL|M|RE|S|T|VE))?",f=x+"?",A="["+R+"]?",te="(?:"+D+"(?:"+[g,v,b].join("|")+")"+A+f+")*",le="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ie="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",q=A+f+te,we="(?:"+[V,v,b].join("|")+")"+q,Fe=RegExp([N+"?"+_+"+"+W+"(?="+[pe,N,"$"].join("|")+")",G+"+"+oe+"(?="+[pe,N+c,"$"].join("|")+")",N+"?"+c+"+"+W,N+"+"+oe,ie,le,$,we].join("|"),"g");function Ve(Ee){return Ee.match(Fe)||[]}Ne.exports=Ve},76628:(Ne,de,n)=>{var s=n(32575),p=n(67998),M=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,d="\\u0300-\\u036f",k="\\ufe20-\\ufe2f",X="\\u20d0-\\u20ff",H=d+k+X,T="["+H+"]",P=RegExp(T,"g");function j(R){return R=p(R),R&&R.replace(M,s).replace(P,"")}Ne.exports=j},66202:(Ne,de,n)=>{var s=n(72840);function p(M){var d=M==null?0:M.length;return d?s(M,1):[]}Ne.exports=p},17956:(Ne,de,n)=>{var s=n(23522),p=n(25627);function M(d){return s(d)&&d.nodeType===1&&!p(d)}Ne.exports=M},25627:(Ne,de,n)=>{var s=n(22256),p=n(41703),M=n(23522),d="[object Object]",k=Function.prototype,X=Object.prototype,H=k.toString,T=X.hasOwnProperty,P=H.call(Object);function j(R){if(!M(R)||s(R)!=d)return!1;var ae=p(R);if(ae===null)return!0;var Y=T.call(ae,"constructor")&&ae.constructor;return typeof Y=="function"&&Y instanceof Y&&H.call(Y)==P}Ne.exports=j},70235:(Ne,de,n)=>{var s=n(79228),p=n(99159),M=n(92547),d=n(86225),k=n(80167),X=n(84394),H=n(95416),T=n(94397),P=1,j=2,R=4,ae=H(function(Y,pe){var U={};if(Y==null)return U;var $=!1;pe=s(pe,function(_){return _=d(_,Y),$||($=_.length>1),_}),k(Y,T(Y),U),$&&(U=p(U,P|j|R,X));for(var V=pe.length;V--;)M(U,pe[V]);return U});Ne.exports=ae},63924:(Ne,de,n)=>{var s=n(48843),p=s(function(M,d,k){return M+(k?"_":"")+d.toLowerCase()});Ne.exports=p},83453:(Ne,de,n)=>{var s=n(38621),p=n(49298),M=n(67998),d=n(32921);function k(X,H,T){return X=M(X),H=T?void 0:H,H===void 0?p(X)?d(X):s(X):X.match(H)||[]}Ne.exports=k},43441:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>pe});var s=n(18824),p=n(95211),M=n(7043);function d(U,$){return U.classList?!!$&&U.classList.contains($):(" "+(U.className.baseVal||U.className)+" ").indexOf(" "+$+" ")!==-1}function k(U,$){U.classList?U.classList.add($):d(U,$)||(typeof U.className=="string"?U.className=U.className+" "+$:U.setAttribute("class",(U.className&&U.className.baseVal||"")+" "+$))}function X(U,$){return U.replace(new RegExp("(^|\\s)"+$+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function H(U,$){U.classList?U.classList.remove($):typeof U.className=="string"?U.className=X(U.className,$):U.setAttribute("class",X(U.className&&U.className.baseVal||"",$))}var T=n(51044),P=n(93218),j=n(41083),R=function($,V){return $&&V&&V.split(" ").forEach(function(_){return k($,_)})},ae=function($,V){return $&&V&&V.split(" ").forEach(function(_){return H($,_)})},Y=function(U){(0,M.A)($,U);function $(){for(var _,C=arguments.length,y=new Array(C),x=0;x<C;x++)y[x]=arguments[x];return _=U.call.apply(U,[this].concat(y))||this,_.appliedClasses={appear:{},enter:{},exit:{}},_.onEnter=function(g,v){var b=_.resolveArguments(g,v),N=b[0],D=b[1];_.removeClasses(N,"exit"),_.addClass(N,D?"appear":"enter","base"),_.props.onEnter&&_.props.onEnter(g,v)},_.onEntering=function(g,v){var b=_.resolveArguments(g,v),N=b[0],D=b[1],c=D?"appear":"enter";_.addClass(N,c,"active"),_.props.onEntering&&_.props.onEntering(g,v)},_.onEntered=function(g,v){var b=_.resolveArguments(g,v),N=b[0],D=b[1],c=D?"appear":"enter";_.removeClasses(N,c),_.addClass(N,c,"done"),_.props.onEntered&&_.props.onEntered(g,v)},_.onExit=function(g){var v=_.resolveArguments(g),b=v[0];_.removeClasses(b,"appear"),_.removeClasses(b,"enter"),_.addClass(b,"exit","base"),_.props.onExit&&_.props.onExit(g)},_.onExiting=function(g){var v=_.resolveArguments(g),b=v[0];_.addClass(b,"exit","active"),_.props.onExiting&&_.props.onExiting(g)},_.onExited=function(g){var v=_.resolveArguments(g),b=v[0];_.removeClasses(b,"exit"),_.addClass(b,"exit","done"),_.props.onExited&&_.props.onExited(g)},_.resolveArguments=function(g,v){return _.props.nodeRef?[_.props.nodeRef.current,g]:[g,v]},_.getClassNames=function(g){var v=_.props.classNames,b=typeof v=="string",N=b&&v?v+"-":"",D=b?""+N+g:v[g],c=b?D+"-active":v[g+"Active"],G=b?D+"-done":v[g+"Done"];return{baseClassName:D,activeClassName:c,doneClassName:G}},_}var V=$.prototype;return V.addClass=function(C,y,x){var g=this.getClassNames(y)[x+"ClassName"],v=this.getClassNames("enter"),b=v.doneClassName;y==="appear"&&x==="done"&&b&&(g+=" "+b),x==="active"&&C&&(0,j.F)(C),g&&(this.appliedClasses[y][x]=g,R(C,g))},V.removeClasses=function(C,y){var x=this.appliedClasses[y],g=x.base,v=x.active,b=x.done;this.appliedClasses[y]={},g&&ae(C,g),v&&ae(C,v),b&&ae(C,b)},V.render=function(){var C=this.props,y=C.classNames,x=(0,p.A)(C,["classNames"]);return T.createElement(P.Ay,(0,s.A)({},x,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},$}(T.Component);Y.defaultProps={classNames:""},Y.propTypes={};const pe=Y},93218:(Ne,de,n)=>{"use strict";n.d(de,{Ay:()=>U});var s=n(95211),p=n(7043),M=n(51044),d=n(60185);const k={disabled:!1},X=M.createContext(null);var H=n(41083),T="unmounted",P="exited",j="entering",R="entered",ae="exiting",Y=function($){(0,p.A)(V,$);function V(C,y){var x;x=$.call(this,C,y)||this;var g=y,v=g&&!g.isMounting?C.enter:C.appear,b;return x.appearStatus=null,C.in?v?(b=P,x.appearStatus=j):b=R:C.unmountOnExit||C.mountOnEnter?b=T:b=P,x.state={status:b},x.nextCallback=null,x}V.getDerivedStateFromProps=function(y,x){var g=y.in;return g&&x.status===T?{status:P}:null};var _=V.prototype;return _.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},_.componentDidUpdate=function(y){var x=null;if(y!==this.props){var g=this.state.status;this.props.in?g!==j&&g!==R&&(x=j):(g===j||g===R)&&(x=ae)}this.updateStatus(!1,x)},_.componentWillUnmount=function(){this.cancelNextCallback()},_.getTimeouts=function(){var y=this.props.timeout,x,g,v;return x=g=v=y,y!=null&&typeof y!="number"&&(x=y.exit,g=y.enter,v=y.appear!==void 0?y.appear:g),{exit:x,enter:g,appear:v}},_.updateStatus=function(y,x){if(y===void 0&&(y=!1),x!==null)if(this.cancelNextCallback(),x===j){if(this.props.unmountOnExit||this.props.mountOnEnter){var g=this.props.nodeRef?this.props.nodeRef.current:d.findDOMNode(this);g&&(0,H.F)(g)}this.performEnter(y)}else this.performExit();else this.props.unmountOnExit&&this.state.status===P&&this.setState({status:T})},_.performEnter=function(y){var x=this,g=this.props.enter,v=this.context?this.context.isMounting:y,b=this.props.nodeRef?[v]:[d.findDOMNode(this),v],N=b[0],D=b[1],c=this.getTimeouts(),G=v?c.appear:c.enter;if(!y&&!g||k.disabled){this.safeSetState({status:R},function(){x.props.onEntered(N)});return}this.props.onEnter(N,D),this.safeSetState({status:j},function(){x.props.onEntering(N,D),x.onTransitionEnd(G,function(){x.safeSetState({status:R},function(){x.props.onEntered(N,D)})})})},_.performExit=function(){var y=this,x=this.props.exit,g=this.getTimeouts(),v=this.props.nodeRef?void 0:d.findDOMNode(this);if(!x||k.disabled){this.safeSetState({status:P},function(){y.props.onExited(v)});return}this.props.onExit(v),this.safeSetState({status:ae},function(){y.props.onExiting(v),y.onTransitionEnd(g.exit,function(){y.safeSetState({status:P},function(){y.props.onExited(v)})})})},_.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},_.safeSetState=function(y,x){x=this.setNextCallback(x),this.setState(y,x)},_.setNextCallback=function(y){var x=this,g=!0;return this.nextCallback=function(v){g&&(g=!1,x.nextCallback=null,y(v))},this.nextCallback.cancel=function(){g=!1},this.nextCallback},_.onTransitionEnd=function(y,x){this.setNextCallback(x);var g=this.props.nodeRef?this.props.nodeRef.current:d.findDOMNode(this),v=y==null&&!this.props.addEndListener;if(!g||v){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var b=this.props.nodeRef?[this.nextCallback]:[g,this.nextCallback],N=b[0],D=b[1];this.props.addEndListener(N,D)}y!=null&&setTimeout(this.nextCallback,y)},_.render=function(){var y=this.state.status;if(y===T)return null;var x=this.props,g=x.children,v=x.in,b=x.mountOnEnter,N=x.unmountOnExit,D=x.appear,c=x.enter,G=x.exit,W=x.timeout,oe=x.addEndListener,f=x.onEnter,A=x.onEntering,te=x.onEntered,le=x.onExit,ie=x.onExiting,q=x.onExited,we=x.nodeRef,Fe=(0,s.A)(x,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return M.createElement(X.Provider,{value:null},typeof g=="function"?g(y,Fe):M.cloneElement(M.Children.only(g),Fe))},V}(M.Component);Y.contextType=X,Y.propTypes={};function pe(){}Y.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pe,onEntering:pe,onEntered:pe,onExit:pe,onExiting:pe,onExited:pe},Y.UNMOUNTED=T,Y.EXITED=P,Y.ENTERING=j,Y.ENTERED=R,Y.EXITING=ae;const U=Y},41083:(Ne,de,n)=>{"use strict";n.d(de,{F:()=>s});var s=function(M){return M.scrollTop}},82928:(Ne,de)=>{"use strict";var n;n={value:!0};var s=Object.assign||function(X){for(var H=1;H<arguments.length;H++){var T=arguments[H];for(var P in T)Object.prototype.hasOwnProperty.call(T,P)&&(X[P]=T[P])}return X},p=function(){var H=null,T={},P=function(pe){var U=T[pe.type];return U&&U(H,pe)},j=function(pe){if(typeof pe.getState!="function"||typeof pe.dispatch!="function")throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore");if(H!==null)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore");return H=pe,function(U){return function($){return P($)===!0||U($)}}},R=function(pe,U){if(typeof pe!="string")throw new Error("[ReduxEntry][setEntry] non-string actionType: "+pe);if(typeof U!="function")throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+pe+", "+U);T[pe]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+pe),T[pe]=U},ae=function(pe){return Object.keys(pe).forEach(function(U){return R(U,pe[U])})};return{middleware:j,setEntry:R,setEntryMap:ae}},M=function(H){if(H===void 0)throw new Error("[ReduxEntry][createStateStore] initialState expected");return{getState:function(){return H},setState:function(P){return H=P},wrapEntry:function(P){return function(j,R){return P(H,j,R)}}}},d=function(H,T){var P=T.getState,j=T.setState;return function(R,ae){var Y=ae.type,pe=ae.payload;return Y===H&&j(pe),P()}},k=function(H,T){var P=T.getState,j=T.setState;return function(R,ae){var Y=ae.type,pe=ae.payload;return Y===H&&j(s({},P(),pe)),P()}};de.RZ=p,de.J$=M,de.Tf=d,n=k},28055:(Ne,de,n)=>{"use strict";n.d(de,{Tw:()=>v,HY:()=>C,Zz:()=>g,y$:()=>pe,Yl:()=>U});var s=n(74059);function p(b,N){var D=Object.keys(b);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(b);N&&(c=c.filter(function(G){return Object.getOwnPropertyDescriptor(b,G).enumerable})),D.push.apply(D,c)}return D}function M(b){for(var N=1;N<arguments.length;N++){var D=arguments[N]!=null?arguments[N]:{};N%2?p(Object(D),!0).forEach(function(c){(0,s.A)(b,c,D[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(D)):p(Object(D)).forEach(function(c){Object.defineProperty(b,c,Object.getOwnPropertyDescriptor(D,c))})}return b}function d(b){return"Minified Redux error #"+b+"; visit https://redux.js.org/Errors?code="+b+" for the full message or use the non-minified dev environment for full errors. "}var k=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),X=function(){return Math.random().toString(36).substring(7).split("").join(".")},H={INIT:"@@redux/INIT"+X(),REPLACE:"@@redux/REPLACE"+X(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+X()}};function T(b){if(typeof b!="object"||b===null)return!1;for(var N=b;Object.getPrototypeOf(N)!==null;)N=Object.getPrototypeOf(N);return Object.getPrototypeOf(b)===N}function P(b){if(b===void 0)return"undefined";if(b===null)return"null";var N=typeof b;switch(N){case"boolean":case"string":case"number":case"symbol":case"function":return N}if(Array.isArray(b))return"array";if(ae(b))return"date";if(R(b))return"error";var D=j(b);switch(D){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return D}return N.slice(8,-1).toLowerCase().replace(/\s/g,"")}function j(b){return typeof b.constructor=="function"?b.constructor.name:null}function R(b){return b instanceof Error||typeof b.message=="string"&&b.constructor&&typeof b.constructor.stackTraceLimit=="number"}function ae(b){return b instanceof Date?!0:typeof b.toDateString=="function"&&typeof b.getDate=="function"&&typeof b.setDate=="function"}function Y(b){var N=typeof b;return N}function pe(b,N,D){var c;if(typeof N=="function"&&typeof D=="function"||typeof D=="function"&&typeof arguments[3]=="function")throw new Error(d(0));if(typeof N=="function"&&typeof D>"u"&&(D=N,N=void 0),typeof D<"u"){if(typeof D!="function")throw new Error(d(1));return D(pe)(b,N)}if(typeof b!="function")throw new Error(d(2));var G=b,W=N,oe=[],f=oe,A=!1;function te(){f===oe&&(f=oe.slice())}function le(){if(A)throw new Error(d(3));return W}function ie(Ve){if(typeof Ve!="function")throw new Error(d(4));if(A)throw new Error(d(5));var Ee=!0;return te(),f.push(Ve),function(){if(Ee){if(A)throw new Error(d(6));Ee=!1,te();var tt=f.indexOf(Ve);f.splice(tt,1),oe=null}}}function q(Ve){if(!T(Ve))throw new Error(d(7));if(typeof Ve.type>"u")throw new Error(d(8));if(A)throw new Error(d(9));try{A=!0,W=G(W,Ve)}finally{A=!1}for(var Ee=oe=f,je=0;je<Ee.length;je++){var tt=Ee[je];tt()}return Ve}function we(Ve){if(typeof Ve!="function")throw new Error(d(10));G=Ve,q({type:H.REPLACE})}function Fe(){var Ve,Ee=ie;return Ve={subscribe:function(tt){if(typeof tt!="object"||tt===null)throw new Error(d(11));function Oe(){tt.next&&tt.next(le())}Oe();var J=Ee(Oe);return{unsubscribe:J}}},Ve[k]=function(){return this},Ve}return q({type:H.INIT}),c={dispatch:q,subscribe:ie,getState:le,replaceReducer:we},c[k]=Fe,c}var U=n.j!=15?pe:null;function $(b){typeof console<"u"&&typeof console.error=="function"&&console.error(b);try{throw new Error(b)}catch(N){}}function V(b,N,D,c){var G=Object.keys(N),W=D&&D.type===H.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(G.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!T(b))return"The "+W+' has unexpected type of "'+Y(b)+'". Expected argument to be an object with the following '+('keys: "'+G.join('", "')+'"');var oe=Object.keys(b).filter(function(f){return!N.hasOwnProperty(f)&&!c[f]});if(oe.forEach(function(f){c[f]=!0}),!(D&&D.type===H.REPLACE)&&oe.length>0)return"Unexpected "+(oe.length>1?"keys":"key")+" "+('"'+oe.join('", "')+'" found in '+W+". ")+"Expected to find one of the known reducer keys instead: "+('"'+G.join('", "')+'". Unexpected keys will be ignored.')}function _(b){Object.keys(b).forEach(function(N){var D=b[N],c=D(void 0,{type:H.INIT});if(typeof c>"u")throw new Error(d(12));if(typeof D(void 0,{type:H.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(d(13))})}function C(b){for(var N=Object.keys(b),D={},c=0;c<N.length;c++){var G=N[c];typeof b[G]=="function"&&(D[G]=b[G])}var W=Object.keys(D),oe,f;try{_(D)}catch(A){f=A}return function(te,le){if(te===void 0&&(te={}),f)throw f;if(0)var ie;for(var q=!1,we={},Fe=0;Fe<W.length;Fe++){var Ve=W[Fe],Ee=D[Ve],je=te[Ve],tt=Ee(je,le);if(typeof tt>"u"){var Oe=le&&le.type;throw new Error(d(14))}we[Ve]=tt,q=q||tt!==je}return q=q||W.length!==Object.keys(te).length,q?we:te}}function y(b,N){return function(){return N(b.apply(this,arguments))}}function x(b,N){if(typeof b=="function")return y(b,N);if(typeof b!="object"||b===null)throw new Error(d(16));var D={};for(var c in b){var G=b[c];typeof G=="function"&&(D[c]=y(G,N))}return D}function g(){for(var b=arguments.length,N=new Array(b),D=0;D<b;D++)N[D]=arguments[D];return N.length===0?function(c){return c}:N.length===1?N[0]:N.reduce(function(c,G){return function(){return c(G.apply(void 0,arguments))}})}function v(){for(var b=arguments.length,N=new Array(b),D=0;D<b;D++)N[D]=arguments[D];return function(c){return function(){var G=c.apply(void 0,arguments),W=function(){throw new Error(d(15))},oe={getState:G.getState,dispatch:function(){return W.apply(void 0,arguments)}},f=N.map(function(A){return A(oe)});return W=g.apply(void 0,f)(G.dispatch),M(M({},G),{},{dispatch:W})}}}},7043:(Ne,de,n)=>{"use strict";n.d(de,{A:()=>p});function s(M,d){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,X){return k.__proto__=X,k},s(M,d)}function p(M,d){M.prototype=Object.create(d.prototype),M.prototype.constructor=M,s(M,d)}}}]);

//# sourceMappingURL=4.n9fxu-vendor-da7cab17770f646b5203.js.map